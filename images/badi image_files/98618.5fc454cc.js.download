/*! For license information please see 98618.5fc454cc.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[98618],{22799:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(73733);t.ValidationError=r.ValidationError;var o=n(52084);t.orDefault=o.orDefault;var a=n(43926);t.asError=a.asError,t.toError=a.toError;var i=n(51440);t.asBool=i.asBool,t.asOptionalBool=i.asOptionalBool,t.asNumber=i.asNumber,t.asOptionalNumber=i.asOptionalNumber,t.asString=i.asString,t.asOptionalString=i.asOptionalString,t.asDate=i.asDate,t.asOptionalDate=i.asOptionalDate,t.asArray=i.asArray,t.asCompactArray=i.asCompactArray,t.asOptionalArray=i.asOptionalArray,t.asOptionalCompactArray=i.asOptionalCompactArray,t.asObject=i.asObject,t.asOptionalObject=i.asOptionalObject,t.asObjectWithSchema=i.asObjectWithSchema,t.asOptionalObjectWithSchema=i.asOptionalObjectWithSchema;var s=n(20128);t.EnumMatchBehavior=s.EnumMatchBehavior,t.createStringEnumMatcher=s.createStringEnumMatcher,t.createStringUnionMatcher=s.createStringUnionMatcher},67446:(e,t,n)=>{"use strict";n.d(t,{LK:()=>I,hA:()=>l.hA});var r=n(77160);n(91634);const o="36102dd3-6953-45f6-8b48-031fb95e0e0d",a="0ed22b6f-b61d-41eb-810a-a1ed586a550b";var i,s;!function(e){e.BrowserMap={chrome:"chrome","microsoft edge":"edge",safari:"safari",firefox:"firefox",tizen:"chrome"},e.OSMap={macos:"macOS",windows:"windows",linux:"linux",ios:"iOS",android:"android","chrome os":"chromeOS",tizen:"tizen",fireos:"fireOS"},e.DeviceTypeMap={desktop:"desktop",mobile:"mobile",tablet:"tablet",smarttv:"smarttv"}}(i||(i={})),function(e){e.YES=!0,e.NO=!1,e.UNKNOWN=void 0}(s||(s={}));var l=n(39572),c=n(87567);async function u(){if(null!=window.tizen)return new Promise(((e,t)=>{tizen.systeminfo.getPropertyValue("BUILD",(t=>e(t)),(e=>t(e)))}))}var d=n(25150);class h extends Event{constructor(){super(h.type)}}h.type="gamepadConnectedStatusChanged";class m extends Event{constructor(){super(m.type)}}m.type="lowBandwidthStatusChanged";class p extends Event{constructor(){super(p.type)}}p.type="onlineStatusChanged";class g extends Event{constructor(){super(g.type)}}g.type="streamReadinessStatusChanged";class f extends Event{constructor(){super(f.type)}}f.type="mouseConnectedStatusChanged";class v{get online(){return this._online}get gamepadConnected(){return this._gamepadConnected}get mouseConnected(){return this._mouseConnected}get lowBandwidth(){return this._lowBandwidth}get streamReadiness(){return this._streamReadiness}get allowNonstandardGamepad(){return this._allowNonstandardGamepad}constructor(e){var t,n,r,o,a;this.options=e,this.eventTarget=new EventTarget,this.gamepadSupported=this.isGamepadSupported(),this.webrtcSupported=this.isWebRTCSupported(),this.audioSupported=this.isAudioSupported(),this.userAgentBlocked=this.isUserAgentBlocked(null===(t=this.options)||void 0===t?void 0:t.parser),this.userAgentSupported=this.isUserAgentSupported(null===(n=this.options)||void 0===n?void 0:n.parser),this.keyboardSupported=this.isKeyboardSupported(),this.mouseSupported=this.isMouseSupported(),this.fullscreenSupported=this.isFullscreenSupported(),this._online=null===(o=null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===r?void 0:r.onLine)||void 0===o||o,this._allowNonstandardGamepad=!1,this._gamepadConnected=(0,d.c)(this._allowNonstandardGamepad),this._mouseConnected=!1,this._lowBandwidth=this.isLowBandwidthConnection(),this._streamReadiness=this.calculateStreamReadinessStatus(),this.browserSupported=this.gamepadSupported&&this.webrtcSupported&&this.audioSupported&&!this.userAgentBlocked&&this.userAgentSupported&&(null===(a=this.options)||void 0===a?void 0:a.isXboxOS)!==s.YES,this.cleanupEventListeners=this.setupListeners()}destroy(){var e;null===(e=this.cleanupEventListeners)||void 0===e||e.call(this)}addEventListener(e,t,n){this.eventTarget.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventTarget.removeEventListener(e,t,n)}setAllowNonStandardGamepad(e){this._allowNonstandardGamepad!==e&&(this._allowNonstandardGamepad=e,this.setGamepadConnected((0,d.c)(e)))}setOnline(e){this._online!==e&&(this._online=e,this.eventTarget.dispatchEvent(new p))}setGamepadConnected(e){this._gamepadConnected!==e&&(this._gamepadConnected=e,this.eventTarget.dispatchEvent(new h))}setMouseConnected(e){this._mouseConnected!==e&&(this._mouseConnected=e,this.eventTarget.dispatchEvent(new f))}setLowBandwidth(e){this._lowBandwidth!==e&&(this._lowBandwidth=e,this.eventTarget.dispatchEvent(new m))}setStreamReadiness(e){this._streamReadiness!==e&&(this._streamReadiness=e,this.eventTarget.dispatchEvent(new g))}setupListeners(){const e=()=>{this.setOnline(null===globalThis||void 0===globalThis?void 0:globalThis.navigator.onLine),this.setLowBandwidth(this.isLowBandwidthConnection()),this.setStreamReadiness(this.calculateStreamReadinessStatus())},t=()=>{this.setGamepadConnected((0,d.c)(this._allowNonstandardGamepad)),this.setStreamReadiness(this.calculateStreamReadinessStatus())},n=e=>{this.setMouseConnected(e.matches)};globalThis.addEventListener("online",e),globalThis.addEventListener("gamepadconnected",t),globalThis.addEventListener("gamepaddisconnected",t);const r=globalThis.matchMedia("(pointer: fine)");return this.setMouseConnected(r.matches),r.addEventListener&&r.addEventListener("change",n),()=>{globalThis.removeEventListener("online",e),globalThis.removeEventListener("gamepadconnected",t),globalThis.removeEventListener("gamepaddisconnected",t),r.removeEventListener&&r.removeEventListener("change",n)}}isLowBandwidthConnection(){return!1}isGamepadSupported(){return!!navigator.getGamepads}isWebRTCSupported(){return!!globalThis.RTCPeerConnection}isAudioSupported(){return!!globalThis.AudioContext||!!globalThis.webkitAudioContext}isUserAgentBlocked(e){return!!(null===e||void 0===e?void 0:e.satisfies({desktop:{macos:{safari:"<=11"}}}))}isUserAgentSupported(e){var t,n;const r=null===e||void 0===e?void 0:e.getUA();return!!((null===(t=this.options)||void 0===t?void 0:t.isSupportedTVBrowser)||(null===r||void 0===r?void 0:r.includes(o))||(null===r||void 0===r?void 0:r.includes(a)))||((null===(n=this.options)||void 0===n?void 0:n.isSupportedChromiumBasedBrowser)||!!(null===e||void 0===e?void 0:e.satisfies({desktop:{chrome:">=79",edge:">=79",macos:{safari:">=14"}},mobile:{ios:{safari:">=14"},android:{chrome:">=79",edge:">=79"}},tablet:{ios:{safari:">=14"},android:{chrome:">=79",edge:">=79"}}})))}isKeyboardSupported(){return!!navigator.keyboard}isMouseSupported(){return!!document.exitPointerLock}isFullscreenSupported(){return document.fullscreenEnabled||!!document.webkitFullscreenEnabled}calculateStreamReadinessStatus(){var e,t,n;if(!(this.gamepadSupported&&this.webrtcSupported&&this.audioSupported)||this.userAgentBlocked)return"blocked";const r=(null===(e=this.options)||void 0===e?void 0:e.isIOS)&&!(null===(t=this.options)||void 0===t?void 0:t.isSafari);return!this.online||this.lowBandwidth||r||(null===(n=this.options)||void 0===n?void 0:n.isXboxOS)||!this.userAgentSupported?"partially-ready":"ready"}}var _=n(72020);const y=/\bFB[\w_]+\/(Messenger|MESSENGER)/,b=/\bFB[\w_]+\/(iOS|iPhone|phone|FB)/,C=/\bTwitter\b/,E=/\bInstagram\b/,S=/Android\s\d+;\sRazer\s[0-9a-zA-Z ]+\sBuild/,T=/Linux;\sAndroid\s\d+;\sGR\d{4}\b/,A=/Googlebot\//,w=/bingbot/,k="unknown";class I{get vendor(){return this._vendor}get model(){return this._model}get architecture(){return this._architecture}get gpuRenderer(){return this._gpuRenderer}get deviceModelSubtype(){return this._deviceModelSubtype}constructor(e,t,n){var o;this.userAgent=e,this.userAgentData=t,this.logger=n,this.browserName=k,this.browserVersion=k,this.browserMajorVersion=-1,this.osName=k,this.osVersion=k,this.deviceType=k,this.engineName=k,this.engineVersion=k,this.engineMajorVersion=-1,this.webviewAppName=k,this._vendor=k,this._model=k,this._architecture=k,this._deviceModelSubtype="",this._gpuRenderer="",this.userAgent||(this.userAgent=window.navigator.userAgent),this.userAgentData||(this.userAgentData=window.navigator.userAgentData),this.userAgent&&(this.parser=(0,r.getParser)(this.userAgent),this.browserInformation=this.parser.getResult()),this.supportsTouch=this.getSupportsTouch(),this.osName=this.getOSName(),this.osVersion=this.getOSVersion(),this.browserName=this.getBrowserName(),this.browserVersion=this.getBrowserVersion(this.osName),this.browserMajorVersion=parseInt(this.browserVersion,10)||-1,this._model=this.getModel(),this.desktopSiteRequested=this.getDesktopSiteRequested(),this.deviceType=this.getDeviceType(),this._architecture=this.getArchitecture(),this._vendor=this.getVendor(),this.engineName=this.getEngineName(),this.engineVersion=this.getEngineVersion(this.engineName),this.engineMajorVersion=parseInt(this.engineVersion,10)||-1,this.webviewAppName=this.getMobileAppName(),this.isIOS="iOS"===this.osName,this.isIPadOS="iPadOS"===this.osName,this.isMobile=(null===(o=this.userAgentData)||void 0===o?void 0:o.mobile)||"mobile"===this.deviceType,this.isTablet="tablet"===this.deviceType,this.isMacOS="macOS"===this.osName,this.isSafari="safari"===this.browserName,this.isEdge="edge"===this.browserName,this.isChrome="chrome"===this.browserName,this.isFireOS="fireOS"===this.osName,this.isAndroid=this.isFireOS||"android"===this.osName,this.isTizen="tizen"===this.osName,this.isTV="smarttv"===this.deviceType,this.isSupportedTVBrowser=this.isTV&&(0,l.hA)(this.userAgent),this.isVR="vr"===this.deviceType,this.isXbox="xboxOS"===this.osName,this.isWindows="windows"===this.osName,this.isWebKit="WebKit"===this.engineName,this.isLinux="linux"===this.osName,this.isChromeOS="chromeOS"===this.osName,this.isBlinkEngine="Blink"===this.engineName,this.isSupportedChromiumBasedBrowser=this.isChrome&&this.browserMajorVersion>=79||this.isBlinkEngine&&this.engineMajorVersion>=79,this.isAppleOSWebview=this.getIsAppleOSWebview(),this.capabilities=new v({isIOS:this.isIOS,isSafari:this.isSafari,isXboxOS:this.isXbox,isSupportedTVBrowser:this.isSupportedTVBrowser,isSupportedChromiumBasedBrowser:this.isSupportedChromiumBasedBrowser,parser:this.parser,logger:this.logger}),this.updatePlatformSpecificInformation()}async updatePlatformSpecificInformation(){this.platformSpecificInformationPromise||(this.platformSpecificInformationPromise=new Promise((e=>{(async()=>{const t=await u();t&&(this._model=`${t.model}_${t.buildVersion}`,this._vendor=t.manufacturer),e()})()}))),await this.platformSpecificInformationPromise}async calculateDeviceModelSubtype(){var e;if(this._gpuRenderer&&this._deviceModelSubtype)return;let t,r;try{t=await n.e(51005).then(n.t.bind(n,51005,23)),r=await n.e(33499).then(n.bind(n,33499))}catch(o){const t=(0,_.L)(o);null===(e=this.logger)||void 0===e||e.error("Experienced error while importing Apple deobfuscation modules",t)}(()=>{var e;if(this._gpuRenderer=(()=>{const e=document.createElement("canvas").getContext("webgl"),t=null===e||void 0===e?void 0:e.getExtension("WEBGL_debug_renderer_info");return t?null===e||void 0===e?void 0:e.getParameter(t.UNMASKED_RENDERER_WEBGL):k})(),"Apple GPU"===this._gpuRenderer)try{t.getRenderer((e=>{var t;null===(t=this.logger)||void 0===t||t.info(`Deobfuscating Apple GPU found matched renderer(s): ${e}`),this._gpuRenderer=e}))}catch(o){const n=(0,_.L)(o);null===(e=this.logger)||void 0===e||e.error("Determining GPU renderer encountered error",n)}})(),(e=>{var t,n;if(this._deviceModelSubtype=k,"iPadOS"===this.osName||"iOS"===this.osName)try{const n=r.matchAppleDevice(e);n&&(null===(t=this.logger)||void 0===t||t.info(`Deobfuscating Apple GPU found matched device(s): ${n}`),this._deviceModelSubtype=n)}catch(o){const t=(0,_.L)(o);null===(n=this.logger)||void 0===n||n.error("Matching GPU to Apple device encountered error",t)}})(this._gpuRenderer)}getBrowserName(){var e,t,n,r;if(this.userAgent){if(A.test(this.userAgent))return"googlebot";if(w.test(this.userAgent))return"bingbot";if(this.userAgent.includes("OculusBrowser"))return"oculus"}if((null===(e=this.userAgentData)||void 0===e?void 0:e.brands)&&this.userAgentData.brands.some((e=>{var t;return null===(t=null===e||void 0===e?void 0:e.brand)||void 0===t?void 0:t.includes("Edge")})))return"edge";const o=null===(r=null===(n=null===(t=this.browserInformation)||void 0===t?void 0:t.browser)||void 0===n?void 0:n.name)||void 0===r?void 0:r.toLocaleLowerCase();return o&&Object.keys(i.BrowserMap).includes(o)?i.BrowserMap[o]:this.browserName}getBrowserVersion(e){var t,n;if(null===(t=this.userAgentData)||void 0===t?void 0:t.uaFullVersion)return this.userAgentData.uaFullVersion;if((0,l.hA)(this.userAgent)&&"tizen"===e){const e=(0,l.mz)(this.userAgent);if(e)return e}return(null===(n=this.browserInformation)||void 0===n?void 0:n.browser.version)||this.browserVersion}getOSName(){var e,t,n;const r="safari"===this.getBrowserName();if((()=>{var e,t,n;if(!r)return!1;if("iPadOS"===(null===(e=this.browserInformation)||void 0===e?void 0:e.os.name))return!0;if(!["macOS","iOS"].includes(null!==(n=null===(t=this.browserInformation)||void 0===t?void 0:t.os.name)&&void 0!==n?n:""))return!1;const o=this.getAspectRatio();return this.getSupportsTouch()===s.YES&&!isNaN(o)&&o>=.61})())return"iPadOS";if((()=>{var e,t;return!!r&&("iOS"===(null===(e=this.browserInformation)||void 0===e?void 0:e.os.name)||"macOS"===(null===(t=this.browserInformation)||void 0===t?void 0:t.os.name)&&this.getSupportsTouch()===s.YES)})())return"iOS";const o=/(^|[^a-zA-Z])Xbox;/;if((()=>{var e,t,n,r;if((null===(e=this.userAgentData)||void 0===e?void 0:e.model)&&(null===(t=this.userAgentData.model)||void 0===t?void 0:t.match(o)))return!0;if(this.userAgent&&this.parser){const e=this.parser.satisfies({windows:{edge:">=13"}})&&this.parser.test(o),t="undefined"!==typeof navigator&&((null===(n=navigator.platform)||void 0===n?void 0:n.match(o))||(null===(r=this.userAgent)||void 0===r?void 0:r.match(o)));return!!e||!!t}return!1})())return"xboxOS";if(this.userAgent&&c.o.test(this.userAgent))return"fireOS";if(this.userAgentData){const t=null===(e=this.userAgentData.platform)||void 0===e?void 0:e.toLocaleLowerCase();if(t&&t in i.OSMap)return i.OSMap[t]}const a=null===(n=null===(t=this.browserInformation)||void 0===t?void 0:t.os.name)||void 0===n?void 0:n.toLocaleLowerCase();return a&&Object.keys(i.OSMap).includes(a)?i.OSMap[a]:this.osName}getOSVersion(){var e,t;return(null===(e=this.userAgentData)||void 0===e?void 0:e.platformVersion)||(null===(t=this.browserInformation)||void 0===t?void 0:t.os.version)||this.osVersion}getEngineName(){var e;return"android"===this.osName&&"edge"===this.browserName?"Blink":(null===(e=this.browserInformation)||void 0===e?void 0:e.engine.name)||this.engineName}getDesktopSiteRequested(){var e;return this.getSupportsTouch()===s.YES&&"macOS"===(null===(e=this.browserInformation)||void 0===e?void 0:e.os.name)?s.YES:s.NO}getVendor(){var e;const t=(null===(e=this.browserInformation)||void 0===e?void 0:e.platform.vendor)||this.vendor;if(t===k&&this.userAgent){if(this.userAgent.includes(o)||T.test(this.userAgent))return"Logitech";if(this.userAgent.includes(a)||S.test(this.userAgent))return"Razer"}return t}getModel(){var e,t,n,r;const i=(null===(e=this.userAgentData)||void 0===e?void 0:e.model)||(null===(t=this.browserInformation)||void 0===t?void 0:t.platform.model)||this.model;if(i===k&&this.userAgent){if(this.userAgent.includes(o)||T.test(this.userAgent)){const[,e]=null!==(n=/Android\s\d+;\s((?:\w|\d)+)\b/.exec(this.userAgent))&&void 0!==n?n:[];return e||"Unknown Logitech Model"}if(this.userAgent.includes(a)||S.test(this.userAgent)){const[,e]=null!==(r=/Android\s\d+;\s([0-9a-zA-Z ]+)\sBuild/.exec(this.userAgent))&&void 0!==r?r:[];return e||"Unknown Razer Model"}}switch(this.getOSName()){case"iPadOS":return"iPad";case"iOS":return"iPhone"}return i}getRawDeviceType(){var e;return(null===(e=this.browserInformation)||void 0===e?void 0:e.platform.type)&&Object.keys(i.DeviceTypeMap).includes(this.browserInformation.platform.type)?i.DeviceTypeMap[this.browserInformation.platform.type]:this.deviceType}getIsVR(){if(this.userAgent)return this.userAgent.includes("VR")&&this.userAgent.includes("OculusBrowser")}getIsTV(){return"smarttv"===this.getRawDeviceType()||(this.userAgent?!!(0,c.i)(this.userAgent):void 0)}getDeviceType(){var e;if(this.userAgent){if(this.userAgent.includes(o)||this.userAgent.includes(a)||T.test(this.userAgent)||S.test(this.userAgent))return"tablet";if(A.test(this.userAgent)||w.test(this.userAgent))return"robot";if(this.getIsVR())return"vr"}const t=this.getRawDeviceType();if("smarttv"!==t&&this.userAgent&&(0,c.i)(this.userAgent))return"smarttv";const n=this.getOSName();return"iPadOS"===n?"tablet":"iOS"===n||t===k&&(null===(e=this.userAgentData)||void 0===e?void 0:e.mobile)?"mobile":t}getArchitecture(){var e;let t=k;return(null===(e=this.userAgentData)||void 0===e?void 0:e.architecture)&&(t=this.userAgentData.architecture),t}getSupportsTouch(){return this.getIsVR()||this.getIsTV()?s.NO:"ontouchstart"in window||navigator.maxTouchPoints>0?s.YES:s.NO}getAspectRatio(){const e=window.screen.height/window.screen.width;return e>1?1/e:e}getEngineVersion(e){var t,n;if("Blink"===e){const e=null===(t=this.userAgent)||void 0===t?void 0:t.match(/(?:chrome)\/(\d+(\.?_?\d+)+)/i);if(e&&e.length>0&&e[1])return e[1]}return(null===(n=this.browserInformation)||void 0===n?void 0:n.engine.version)||this.engineVersion}getMobileAppName(){var e,t,n,r;return y.test(null!==(e=this.userAgent)&&void 0!==e?e:"")?"messenger":b.test(null!==(t=this.userAgent)&&void 0!==t?t:"")?"fb":E.test(null!==(n=this.userAgent)&&void 0!==n?n:"")?"instagram":C.test(null!==(r=this.userAgent)&&void 0!==r?r:"")?"twitter":k}getIsAppleOSWebview(){return!(!this.isIOS&&!this.isIPadOS||this.webviewAppName===k)}}},72020:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});function r(e){if(e instanceof Error)return e;if(null==e)return new Error("Unknown error");if("string"===typeof e.name&&"string"===typeof e.message)return e;if("string"===typeof e)return new Error(e);try{return new Error("object"!==typeof(t=e)||t instanceof Error?String(t):JSON.stringify(t))}catch(n){return new Error(e.toString()||"Unknown error")}var t}},25150:(e,t,n)=>{"use strict";function r(e){var t;return!!(null===(t=globalThis.navigator)||void 0===t?void 0:t.getGamepads)&&Array.from(globalThis.navigator.getGamepads()).some((t=>!(!t||!t.connected)&&(e||function(e){return e.axes.length>=4&&e.buttons.length>=16}(t))))}n.d(t,{c:()=>r})},39572:(e,t,n)=>{"use strict";n.d(t,{hA:()=>r,mz:()=>o});const r=e=>!!e&&(!!e.includes("FC4A1DA2-711C-4E9C-BC7F-047AF8A672EA")||!!e.includes("38F12DB1-C5DB-4749-AB22-A5C9E9EF866C"));function o(e){if(e){const t=/\d+(\.\d+)*\/\d+(\.\d+)*/i,n=e.match(t);if(n&&n.length>0)return n[0]}}},87567:(e,t,n)=>{"use strict";n.d(t,{i:()=>o,o:()=>r});const r=/\b[Aa][Ff][Tt].*\b/,o=e=>{const t=e.toLowerCase();return!!t.includes("smart-tv")||(!!t.includes("smarttv")||!!r.test(t))}},51941:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MSAAuthenticator:()=>r.xD,RpsTicketCustomHeaderAuthenticator:()=>a.i,RpsTicketProvider:()=>r.c4,TokenAuthenticator:()=>o.N,TokenProvider:()=>o.B,formatAuthorizationHeaderValue:()=>r.qb,isToken:()=>i.h});var r=n(28457),o=n(8552),a=n(18845),i=n(1799)},28351:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AcceptLanguageInterceptor:()=>r.X,AcceptableLanguageProvider:()=>r.F,ContentRestrictionInterceptor:()=>o.M,ContentRestrictionProvider:()=>o.B,CorrelationVectorInterceptor:()=>a.O,CorrelationVectorProvider:()=>a.v,ETagInterceptor:()=>i.L,ErrorData:()=>l.KZ,ErrorLogInterceptor:()=>s.rA,HostData:()=>l.VU,HttpReliabilityReport:()=>l.rg,HttpReliabilityTable:()=>l.Je,MarketAndLocaleProvider:()=>u.e,MarketAndLocaleQueryParamInterceptor:()=>c.K,MarketProvider:()=>u.v,ReliabilityErrorInterceptor:()=>d.lB,ReliabilityRequestInterceptor:()=>d.j6,ReliabilityResponseInterceptor:()=>d.Aw,RequestLogInterceptor:()=>s.kH,ResponseLogInterceptor:()=>s.mW,StatusData:()=>l.h9,UriClassifier:()=>l.sp,XblMarketInterceptor:()=>h.a});var r=n(83680),o=n(9529),a=n(31588),i=n(58481),s=n(5331),l=n(42687),c=n(52920),u=n(51378),d=n(27237),h=n(86108)},51175:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DEFAULT_BASE_DELAY_MS:()=>o._h,DEFAULT_MAX_RETRIES:()=>o.vi,DEFAULT_RESPONSE_VALIDATOR:()=>r.GD,DEFAULT_RETRY_PREDICATE:()=>l.S7,DEFAULT_RETRY_TIMEOUT_MS:()=>o.jJ,DEFAULT_TIMEOUT_MS:()=>o._e,ETAG_RESPONSE_VALIDATOR:()=>r.mr,HttpClient:()=>c.e,HttpClientBuilder:()=>u.D,HttpError:()=>d.o,HttpHeader:()=>p.r,HttpSuccessValidator:()=>h.T,InterceptedRequest:()=>g.A,InterceptorCollection:()=>m.E,MutableRequestFactory:()=>y.S,RequestFactory:()=>_,ResponseError:()=>p.V,anySignal:()=>i.N,composeFetchEnhancers:()=>r.xi,createAuthenticatedFetch:()=>a.I,createFetchWithTimeout:()=>i.b,createInterceptedFetch:()=>s.w,createRetriableFetch:()=>l.Qg,interceptorPriorityComparator:()=>m.w,parseRetryAfterDelayMs:()=>l.sR});var r=n(19112),o=n(56282),a=n(67835),i=n(14674),s=n(80860),l=n(17605),c=n(84357),u=n(23245),d=n(84711),h=n(39523),m=n(21979),p=n(11570),g=n(41164),f=n(16480),v=n(92303);class _{constructor(e,t={}){this.baseUrl=e,this.commonOptions=t,this.setCommonOptions=e=>(this.commonOptions=e,this),this.setCommonMetadata=e=>(this.commonOptions={...this.commonOptions,metadata:e},this),this.setCommonMetadataValue=(e,t)=>(this.commonOptions={...this.commonOptions,metadata:{...this.commonOptions.metadata,[e]:t}},this),this.setCommonHeaders=e=>(this.commonOptions={...this.commonOptions,headers:e},this),this.setCommonTimeout=e=>(this.commonOptions={...this.commonOptions,timeout:e},this),this.setCommonResponseType=e=>(this.commonOptions={...this.commonOptions,responseType:e},this),this.setCommonMaxRetries=e=>(this.commonOptions={...this.commonOptions,maxRetries:e},this),this.setCommonRetryCondition=e=>this.setCommonRetryPredicate(((t,n)=>{const r=new p.V(n.message,t,"response"in n?n.response.status:void 0,"response"in n?n.response:void 0);return e(r)})),this.setCommonRetryPredicate=e=>(this.commonOptions={...this.commonOptions,retryPredicate:e},this),this.setCommonRetryCountHeaderPreference=e=>(this.commonOptions={...this.commonOptions,includeRetryCountHeader:e},this),this.setCommonAbortSignal=e=>(this.commonOptions={...this.commonOptions,abortSignal:e},this),this.get=(e,t)=>this._buildRequest(e,"GET",t),this.delete=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"DELETE",r)},this.head=(e,t)=>this._buildRequest(e,"HEAD",t),this.options=(e,t)=>this._buildRequest(e,"OPTIONS",t),this.post=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"POST",r)},this.put=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PUT",r)},this.patch=(e,t,n)=>{const r={...n||{},body:t};return this._buildRequest(e,"PATCH",r)}}static withBaseUrl(e){return new _(e)}_buildRequest(e,t,n={}){var r;const{params:o,headers:a,body:i,metadata:s,...l}=this.commonOptions,{params:c,headers:u,body:d,metadata:h,...m}=n,p=new Headers(null!==a&&void 0!==a?a:{}),_=s||h?{...s,...h}:void 0,y=new Headers(null!==u&&void 0!==u?u:{});for(const[g,f]of y)p.set(g,f);const b=(0,f.Q)(this.baseUrl,e,null!==c&&void 0!==c?c:o),C=(0,v.f)(null!==d&&void 0!==d?d:i,p);return{request:new g.A(b,{method:t,headers:C.headers,body:C.body,signal:null!==(r=n.abortSignal)&&void 0!==r?r:this.commonOptions.abortSignal},_),...l,...m,metadata:_}}}var y=n(23983);if("undefined"===typeof Request)throw new Error("Global Request constructor must exist to use this package; consider a polyfill like node-fetch in a Node env");if("undefined"===typeof Headers)throw new Error("Global Headers constructor must exist to use this package; consider a polyfill like node-fetch in a Node env")},67827:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22970);r.__exportStar(n(66012),t),r.__exportStar(n(45603),t),r.__exportStar(n(39229),t),r.__exportStar(n(63306),t),r.__exportStar(n(81272),t),r.__exportStar(n(90022),t),r.__exportStar(n(62818),t)},21883:(e,t,n)=>{"use strict";e.exports=n(67827)},41765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(22970).__exportStar(n(70349),t)},61712:(e,t,n)=>{"use strict";t.LceRenderer=void 0;const r=n(2784),o=n(21883);class a extends r.Component{constructor(){super(...arguments),this.renderDefault=e=>this.props.renderDefault?this.props.renderDefault(e):null}render(){const{data:e,renderNotRequested:t,renderFetching:n,renderContent:r,renderError:a}=this.props;return o.lceSelect(e,{isNotRequested:t,isFetching:n,content:r,error:a,default:this.renderDefault})}}t.LceRenderer=a},31168:(e,t,n)=>{"use strict";e.exports=n(61712)},37138:(e,t,n)=>{"use strict";e.exports=n(79964)},79730:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(22970);(0,r.__exportStar)(n(230),t),(0,r.__exportStar)(n(98160),t)},69821:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});const r={XboxGreen:{accent:"#008746",accentLight1:"#04b358",accentLight2:"#1cb069",accentLight3:"#32c77f",accentDark1:"#0c6b3d",accentDark2:"#044e2a",accentDark3:"#003019"},Brown:{accent:"#724f2f",accentLight1:"#8e7258",accentLight2:"#a18a75",accentLight3:"#bbaa9b",accentDark1:"#644224",accentDark2:"#553518",accentDark3:"#301d0b"},Orange:{accent:"#eb4910",accentLight1:"#ef6d3f",accentLight2:"#f18661",accentLight3:"#f5a78c",accentDark1:"#cb3b10",accentDark2:"#ab2d11",accentDark3:"#692015"},Chocolate:{accent:"#4c4a4b",accentLight1:"#6f6e6f",accentLight2:"#888788",accentLight3:"#a9a8a8",accentDark1:"#424141",accentDark2:"#373737",accentDark3:"#191919"},Grey:{accent:"#737373",accentLight1:"#8f8f8f",accentLight2:"#a2a2a2",accentLight3:"#bbbbbb",accentDark1:"#616161",accentDark2:"#4f4f4f",accentDark3:"#262626"},Steel:{accent:"#677488",accentLight1:"#858f9f",accentLight2:"#9aa3b0",accentLight3:"#b6bcc5",accentDark1:"#536075",accentDark2:"#3e4b61",accentDark3:"#222b38"},Taupe:{accent:"#7e715c",accentLight1:"#978d7c",accentLight2:"#a9a193",accentLight3:"#c1bab0",accentDark1:"#6b5e4a",accentDark2:"#574b38",accentDark3:"#362f24"},Olive:{accent:"#547a72",accentLight1:"#76948e",accentLight2:"#8ea7a1",accentLight3:"#acbfbb",accentDark1:"#3f625a",accentDark2:"#294a42",accentDark3:"#1c2b28"},Crimson:{accent:"#a21025",accentLight1:"#b43f50",accentLight2:"#c1616f",accentLight3:"#d28c96",accentDark1:"#86101e",accentDark2:"#691117",accentDark3:"#450710"},Pink:{accent:"#ed5588",accentLight1:"#f0779f",accentLight2:"#f38eb0",accentLight3:"#f6adc5",accentDark1:"#c63f6c",accentDark2:"#9e2950",accentDark3:"#57172d"},Magenta:{accent:"#bf1077",accentLight1:"#cb3f92",accentLight2:"#d461a5",accentLight3:"#e08cbd",accentDark1:"#99115f",accentDark2:"#731247",accentDark3:"#4a102e"},Violet:{accent:"#b144c0",accentLight1:"#c069cc",accentLight2:"#cb83d5",accentLight3:"#d9a5e0",accentDark1:"#8c2f9a",accentDark2:"#671a73",accentDark3:"#38163d"},Indigo:{accent:"#744da9",accentLight1:"#8f70ba",accentLight2:"#a389c6",accentLight3:"#bca9d5",accentDark1:"#60379a",accentDark2:"#4c208a",accentDark3:"#24153b"},Cobalt:{accent:"#1073d6",accentLight1:"#3f8fde",accentLight2:"#61a2e3",accentLight3:"#8cbbeb",accentDark1:"#1161b0",accentDark2:"#134e8a",accentDark3:"#133157"},Navy:{accent:"#193e91",accentLight1:"#4764a7",accentLight2:"#677fb6",accentLight3:"#90a2ca",accentDark1:"#15357d",accentDark2:"#102c69",accentDark3:"#101836"},Cyan:{accent:"#1081ca",accentLight1:"#3f9ad4",accentLight2:"#61abdc",accentLight3:"#8cc2e5",accentDark1:"#1069a5",accentDark2:"#105080",accentDark3:"#10314f"},Turqoise:{accent:"#108272",accentLight1:"#3f9b8e",accentLight2:"#61aca1",accentLight3:"#8cc3bb",accentDark1:"#0d6659",accentDark2:"#0a4f45",accentDark3:"#062f29"},Teal:{accent:"#148282",accentLight1:"#439b9b",accentLight2:"#63acac",accentLight3:"#8ec3c3",accentDark1:"#146d70",accentDark2:"#13585e",accentDark3:"#103033"},Lime:{accent:"#54a81b",accentLight1:"#76b948",accentLight2:"#8ec568",accentLight3:"#acd591",accentDark1:"#329216",accentDark2:"#107c10",accentDark3:"#103610"},Amber:{accent:"#eb8c10",accentLight1:"#efa33f",accentLight2:"#f1b361",accentLight3:"#f5c78c",accentDark1:"#af6610",accentDark2:"#733f10",accentDark3:"#4f300e"},Red:{accent:"#e31123",accentLight1:"#e8404f",accentLight2:"#ec616d",accentLight3:"#f18c95",accentDark1:"#b4121c",accentDark2:"#851414",accentDark3:"#471010"}}},24117:(e,t,n)=>{"use strict";var r;n.d(t,{Q:()=>r}),function(e){e[e.Dark=0]="Dark",e[e.Light=1]="Light",e[e.HCBlack=2]="HCBlack",e[e.HCWhite=3]="HCWhite",e[e.HCAquatic=4]="HCAquatic",e[e.HCDesert=5]="HCDesert"}(r||(r={}))},73844:(e,t,n)=>{"use strict";var r;n.d(t,{g:()=>r}),function(e){e[e.DefaultTheme=0]="DefaultTheme",e[e.Polaris=1]="Polaris",e[e.Test=2]="Test",e[e.WebPolaris=3]="WebPolaris"}(r||(r={}))},4802:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(2784),o=n(24117),a=n(69821),i=n(73844);const s=(0,r.createContext)({theme:o.Q.Dark,themeVersion:i.g.Polaris,isRtl:!1,userColors:a.I.XboxGreen,textScale:1,version:"1.0",deviceOrientation:"portrait",deviceType:"Handset",language:""})},16763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M12.921 2.001l.117.007a1 1 0 010 1.986l-.117.007H7l-.176.005a3 3 0 00-2.819 2.819L4 7v18l.005.176a3 3 0 002.819 2.819l.176.005h18l.176-.005a3 3 0 002.819-2.819l.005-.176v-6l.007-.116a1 1 0 011.986 0L30 19v6l-.005.217a5 5 0 01-4.772 4.778l-.223.005H7l-.217-.004a5 5 0 01-4.778-4.773L2 25.001v-18l.005-.217a5 5 0 014.772-4.778L7 2.001h5.921zm16.079 0c.27 0 .505.1.703.297a.961.961 0 01.297.703v10c0 .27-.099.505-.297.703a.961.961 0 01-.703.297.961.961 0 01-.703-.297.961.961 0 01-.297-.703V5.407L17.703 15.704a.929.929 0 01-.703.297.929.929 0 01-.703-.297c-.198-.218-.297-.453-.297-.703 0-.27.099-.505.297-.703L26.594 4.001H19a.961.961 0 01-.703-.297.961.961 0 01-.297-.703c0-.27.099-.505.297-.703A.961.961 0 0119 2.001h10z",fillRule:"evenodd"}))}},70829:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M3.922 32c-.521 0-1.016-.104-1.485-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.859-1.25 3.84 3.84 0 01-.328-1.5V3.922C0 3.4.104 2.906.313 2.437a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.859A3.84 3.84 0 013.922 0h24.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v24.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H3.922zM28 30c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V4a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0028 2H4c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64C2.042 3.469 1.99 3.73 2 4v24c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.093.505.146.797.156h24z",fillRule:"evenodd"}))}},48924:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M3.203 32c-.437 0-.849-.083-1.234-.25a3.437 3.437 0 01-1.032-.688 2.925 2.925 0 01-.687-1.015 3.517 3.517 0 01-.25-1.25V3.203c0-.437.083-.849.25-1.234.167-.386.396-.73.688-1.032.291-.302.63-.53 1.015-.687.386-.156.802-.24 1.25-.25h25.594c.437 0 .849.083 1.234.25.386.167.73.396 1.032.688.302.291.53.63.687 1.015.156.386.24.802.25 1.25v25.594c0 .437-.083.849-.25 1.234-.167.386-.396.73-.688 1.032-.291.302-.63.53-1.015.687-.386.156-.802.24-1.25.25H3.203zM13 22.25c.156 0 .313-.031.469-.094.156-.062.297-.15.422-.265l12-12c.24-.24.359-.537.359-.891s-.12-.651-.36-.89a1.21 1.21 0 00-.89-.36c-.354 0-.651.12-.89.36L13 19.233 7.89 14.11A1.21 1.21 0 007 13.75c-.354 0-.651.12-.89.36-.24.239-.36.536-.36.89 0 .156.031.313.094.469.062.156.15.297.265.422l6 6a1.293 1.293 0 00.89.36z",fillRule:"evenodd"}))}},72095:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M1.132 10.277a1.125 1.125 0 011.493-.088l.098.088 13.381 13.38 13.349-13.349a1.125 1.125 0 011.492-.087l.099.087c.408.408.437 1.051.087 1.493l-.087.098-14.145 14.145a1.125 1.125 0 01-1.493.087l-.098-.087L1.132 11.868a1.125 1.125 0 010-1.591z",fillRule:"evenodd"}))}},64807:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M10.236 1.205a1.125 1.125 0 011.493-.088l.098.088L25.97 15.349c.408.408.437 1.051.088 1.493l-.088.098-14.176 14.176a1.125 1.125 0 01-1.678-1.493l.088-.098 13.379-13.381L10.236 2.795a1.125 1.125 0 01-.087-1.492l.087-.098z",fillRule:"evenodd"}))}},94622:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M15.277 6.277a1.125 1.125 0 011.493-.088l.098.088 14.176 14.176a1.125 1.125 0 01-1.493 1.678l-.098-.087L16.072 8.663 2.723 22.013a1.125 1.125 0 01-1.493.087l-.098-.088a1.125 1.125 0 01-.087-1.493l.087-.098L15.277 6.277z",fillRule:"evenodd"}))}},85495:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),r.createElement("path",{d:"M3 6.875a1.125 1.125 0 000 2.25h26a1.125 1.125 0 000-2.25H3zM7 14.875a1.125 1.125 0 000 2.25h18a1.125 1.125 0 000-2.25H7zM12 22.875a1.125 1.125 0 000 2.25h8a1.125 1.125 0 000-2.25h-8z"}))}},89809:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M22.311 5.02l.408.038.473.062a7.455 7.455 0 012.692.988c.588.366 1.128.981 1.407 1.451l.092.169.04.09.148.173.128.168c.097.134.184.274.259.422l.124.246.245.508.251.548.13.296.276.651.303.751.295.761.438 1.175.275.768.252.727.219.66.177.57.197.697.219.814.122.487c.02.078.038.156.056.232l.147.67.124.668c.171 1 .217 1.607.18 2.381l-.02.344c-.066.907-.295 1.639-.718 2.354a4.246 4.246 0 01-1.528 1.524c-.544.327-1.422.614-1.814.585-.467-.03-.984-.253-1.677-.806-.634-.503-1.316-1.212-1.983-2.037l-1.241-1.604-.25-.305-.104-.112c-.306-.296-.66-.535-.942-.608l-.17-.039-.155-.027-.175-.02-.223-.013-.486-.01-.467-.003-8.535.002-.486.011-.222.014-.175.02-.155.026-.171.039c-.284.073-.638.312-.941.605l-.105.113-.25.306-.959 1.245c-.755.98-1.542 1.823-2.265 2.396-.695.554-1.211.776-1.671.807-.4.028-1.277-.258-1.825-.587a4.254 4.254 0 01-1.526-1.524c-.422-.714-.65-1.445-.716-2.352-.069-.953-.036-1.583.16-2.723.077-.455.163-.88.27-1.339l.178-.72.218-.812.199-.7.178-.571.342-1.02.405-1.139.29-.783.294-.773.302-.764.289-.7.135-.315.257-.576.247-.525.246-.496A3.22 3.22 0 014.3 8.16l.128-.169.145-.17.049-.103c.21-.425.706-1.042 1.278-1.463l.218-.148a7.436 7.436 0 012.69-.988l.324-.044.15-.018.408-.038c.256-.018.484-.022.715-.019.436.01.764.144 1.096.4l.199.167 2.67-.032 1.623-.008 2.236.014 2.07.026.036-.032c.392-.344.752-.524 1.267-.535.228-.003.454.001.71.019zM21.69 7l-.005.01-.064.058a2 2 0 01-1.162.493l-.185.006-2.058-.025-2.214-.014-1.607.007-2.671.033a2 2 0 01-1.17-.362l-.143-.109-.112-.096h-.09c-.273.001-.54.021-.892.067l-.222.031a5.553 5.553 0 00-1.687.567l-.167.096-.156.105a3.019 3.019 0 00-.617.643l-.037.062-.049.103a2 2 0 01-.177.304l-.109.14-.119.138-.054.072-.068.102-.02.036-.229.46-.23.487-.311.704-.336.808-.293.742-.288.753-.28.76-.394 1.105-.329.98-.163.52-.191.673-.208.775-.172.694a20.52 20.52 0 00-.248 1.221c-.166.97-.193 1.442-.135 2.242.042.592.175 1.026.44 1.476.213.358.458.6.836.829.102.061.26.134.427.196l.173.058.112.031.1-.056.212-.147.2-.154c.504-.4 1.095-1.012 1.697-1.761l.226-.288.997-1.294.251-.305.077-.089.105-.113.079-.08c.544-.526 1.169-.934 1.836-1.106l.23-.053.253-.046.117-.017.175-.02.101-.008.298-.016.53-.012 8.546-.002.5.003.562.014.223.013.277.029.118.016.261.049.222.051c.59.152 1.149.491 1.65.936l.184.171.08.081.102.112.077.088.286.35 1.216 1.571c.594.736 1.175 1.335 1.673 1.73l.19.146.149.105.11.069.063.032.062-.016.091-.028a2.95 2.95 0 00.546-.235c.387-.234.63-.476.84-.83.23-.389.361-.763.42-1.22l.023-.237.02-.318c.026-.55 0-.978-.105-1.653l-.043-.265-.113-.607-.14-.643-.079-.323-.084-.333-.211-.788-.183-.648-.166-.534-.21-.636-.245-.706-.266-.745-.429-1.15-.285-.736-.29-.72-.382-.893-.233-.51-.233-.481-.119-.237-.067-.117-.089-.117-.115-.135a2 2 0 01-.22-.314l-.113-.225a2.825 2.825 0 00-.631-.695l-.114-.08a5.547 5.547 0 00-1.683-.664l-.24-.042a8.44 8.44 0 00-.941-.095L21.69 7zM16 9.714c.883 0 1.6.702 1.6 1.572 0 .867-.717 1.571-1.6 1.571-.883 0-1.6-.704-1.6-1.571 0-.87.717-1.572 1.6-1.572z",fillRule:"evenodd"}))}},83022:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M0 10.703C0 9.505.224 8.38.672 7.328A8.948 8.948 0 012.5 4.562a8.524 8.524 0 012.734-1.875A8.396 8.396 0 018.625 2c1.167 0 2.276.224 3.328.672a9.03 9.03 0 012.828 1.906c.209.208.406.412.594.61.188.197.39.4.61.609l.578-.61c.187-.197.39-.395.609-.593a8.578 8.578 0 012.797-1.875 8.751 8.751 0 013.312-.672c1.209 0 2.344.229 3.407.687a8.537 8.537 0 012.765 1.891 9.179 9.179 0 011.86 2.797A8.507 8.507 0 0132 10.828a8.92 8.92 0 01-.64 3.328A8.35 8.35 0 0129.483 17L17 29.61c-.26.26-.578.39-.953.39-.365 0-.677-.13-.938-.39L2.547 16.921A8.814 8.814 0 010 10.703zm30 .125a6.741 6.741 0 00-1.953-4.781 6.892 6.892 0 00-2.14-1.453 6.686 6.686 0 00-2.626-.547 6.53 6.53 0 00-2.531.5A6.622 6.622 0 0018.594 6c-.198.198-.39.401-.578.61-.188.208-.391.406-.61.593a2.195 2.195 0 01-.64.438c-.22.093-.48.14-.782.14-.28 0-.536-.047-.765-.14a2.126 2.126 0 01-.656-.438 15.954 15.954 0 01-.594-.594c-.188-.198-.39-.406-.61-.625a7.08 7.08 0 00-2.156-1.468A6.403 6.403 0 008.625 4c-.927 0-1.792.177-2.594.531a6.888 6.888 0 00-2.11 1.438 6.414 6.414 0 00-1.405 2.125A7.019 7.019 0 002 10.704c0 .895.172 1.76.516 2.593a7 7 0 001.453 2.219l12.078 12.203 12.015-12.125a6.652 6.652 0 001.438-2.188c.333-.823.5-1.682.5-2.578z",fillRule:"evenodd"}))}},90592:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M16 0c8.837 0 16 7.163 16 16s-7.163 16-16 16S0 24.837 0 16 7.163 0 16 0zm0 2C8.268 2 2 8.268 2 16s6.268 14 14 14 14-6.268 14-14S23.732 2 16 2zm0 10.875c.58 0 1.057.439 1.118 1.002l.007.123v9a1.125 1.125 0 01-2.243.123L14.875 23v-9c0-.621.504-1.125 1.125-1.125zm0-5a1.625 1.625 0 110 3.25 1.625 1.625 0 010-3.25z",fillRule:"evenodd"}))}},57760:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M5.922 14c-.521 0-1.016-.104-1.484-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.86-1.25 3.84 3.84 0 01-.328-1.5V5.922c0-.521.104-1.016.313-1.484a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.86A3.84 3.84 0 015.922 2h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H5.922zm16 0c-.521 0-1.016-.104-1.485-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.859-1.25 3.84 3.84 0 01-.328-1.5V5.922c0-.521.104-1.016.313-1.484a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.86 3.84 3.84 0 011.5-.328h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328h-4.156zM10 12c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V6a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0010 4H6c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64C4.042 5.469 3.99 5.73 4 6v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.094.505.146.797.156h4zm16 0c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782V6a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0026 4h-4c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64c-.114.25-.166.511-.156.782v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.094.505.146.797.156h4zm-16-2H6V6h4v4zm16 0h-4V6h4v4zM5.922 30c-.521 0-1.016-.104-1.484-.313a4.12 4.12 0 01-1.25-.859 4.12 4.12 0 01-.86-1.25 3.84 3.84 0 01-.328-1.5v-4.156c0-.521.104-1.016.313-1.485a4.12 4.12 0 01.859-1.25 4.12 4.12 0 011.25-.859 3.84 3.84 0 011.5-.328h4.156c.521 0 1.016.104 1.485.313a4.12 4.12 0 011.25.859c.364.364.65.781.859 1.25.208.469.318.969.328 1.5v4.156c0 .521-.104 1.016-.313 1.485a4.12 4.12 0 01-.859 1.25 4.12 4.12 0 01-1.25.859 3.84 3.84 0 01-1.5.328H5.922zM22 22h-4v-4h4v4zm8 0h-4v-4h4v4zm-20 6c.281 0 .542-.052.781-.156.24-.104.448-.245.625-.422a2.18 2.18 0 00.438-.64c.114-.25.166-.511.156-.782v-4a1.9 1.9 0 00-.156-.766 2.207 2.207 0 00-.422-.64 1.845 1.845 0 00-.64-.438A2.012 2.012 0 0010 20H6c-.281 0-.542.052-.781.156-.24.104-.448.245-.625.422a2.18 2.18 0 00-.438.64c-.114.25-.166.511-.156.782v4c0 .281.052.542.156.781.104.24.245.453.422.64.177.188.386.329.625.423.24.093.505.146.797.156h4zm0-2H6v-4h4v4zm16 0h-4v-4h4v4zm-4 4h-4v-4h4v4zm8 0h-4v-4h4v4z",fillRule:"evenodd"}))}},83621:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){return r.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r.createElement("path",{d:"M4.048 31c-.413 0-.8-.08-1.16-.238a3.485 3.485 0 01-.967-.635 2.767 2.767 0 01-.667-.953A3.163 3.163 0 011 27.998c0-.487.106-.952.317-1.397L13.27 2.683c.264-.529.64-.942 1.127-1.238A3.024 3.024 0 0116 1c.582 0 1.116.148 1.603.445.487.296.863.709 1.127 1.238l11.953 23.918c.211.445.317.91.317 1.397 0 .413-.08.8-.238 1.16-.159.36-.381.677-.667.953a3.315 3.315 0 01-.968.65c-.36.16-.751.239-1.175.239H4.048zm12.968-10.926v-8.132c0-.275-.1-.513-.302-.714a.976.976 0 00-.714-.302c-.275 0-.513.1-.714.302a.977.977 0 00-.302.714v8.132a.97.97 0 00.286.714c.19.19.434.291.73.302a.969.969 0 00.714-.286c.19-.19.291-.434.302-.73zm.508 4.065c0-.2-.037-.392-.111-.572a1.503 1.503 0 00-.334-.492 1.502 1.502 0 00-.492-.333 1.761 1.761 0 00-.587-.127c-.212 0-.407.042-.587.127-.18.084-.344.196-.492.333a1.164 1.164 0 00-.318.492 2.77 2.77 0 00-.127.588c0 .212.037.408.111.588.074.18.185.339.334.476.148.138.312.244.492.318.18.074.375.116.587.127a1.47 1.47 0 001.08-.445 1.47 1.47 0 00.444-1.08z",fillRule:"nonzero"}))}},59387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M640 1755L19 1133l90-90 531 531L1939 275l90 90L640 1755z"}))}},51356:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1664 896v128h-640v640H896v-640H256V896h640V256h128v640h640z"}))}},5861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1663 1921v-641h129v768H0V256h768v129H127v1536h1536zM896 0h1152v1152h-128V219L557 1581l-90-90L1829 128H896V0z"}))}},8605:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M640 1280h256v128H512V768h128v512zm765-210q32 28 49 66t18 80q0 40-15 75t-41 61-61 41-75 15h-256V768h224q40 0 75 15t61 41 41 61 15 75q0 61-35 110zm-253-46h96q26 0 45-19t19-45q0-26-19-45t-45-19h-96v128zm128 256q26 0 45-19t19-45q0-26-19-45t-45-19h-128v128h128zm224-896q57 0 110 21t95 62l256 256q41 41 62 94t21 111q0 60-8 123t-27 121l-96 286q-5 13-8 24t-9 23q-19 38-47 68t-64 50-75 30-82 11H256q-53 0-99-20t-82-55-55-81-20-100v-8l64-508q2-13 2-25t4-25q12-51 42-93t69-76q64-57 152-101t191-76 212-53 217-35 208-18 183-6h160zm128 1152q47 0 89-21t64-65q4-8 6-15t4-15l96-287q16-48 22-101t7-104q0-32-11-62t-35-53l-255-255q-23-23-53-34t-62-12h-160q-102 0-209 6t-216 22-212 39-201 60q-24 9-56 22t-68 32-69 41-61 47-43 55-17 60v4q0 2-1 4l-63 507q-1 5 1 14t3 15q6 21 17 38t28 31 37 20 42 7h1376z"}))}},84493:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M960 992q0 58-28 108t-77 82l112 226H825l-97-192h-88v192H512V768h224q46 0 87 17t71 48 48 72 18 87zm-320 96h96q40 0 68-28t28-68q0-40-28-68t-68-28h-96v192zm893-18q32 28 49 66t18 80q0 40-15 75t-41 61-61 41-75 15h-256V768h224q40 0 75 15t61 41 41 61 15 75q0 61-35 110zm-253-46h96q26 0 45-19t19-45q0-26-19-45t-45-19h-96v128zm128 256q26 0 45-19t19-45q0-26-19-45t-45-19h-128v128h128zm640 128q0 53-20 99t-55 82-81 55-100 20H416q-103 0-178-54t-108-152l-95-286q-19-57-27-120T0 928q0-57 21-110t62-95l256-256q41-41 94-62t111-21h160q82 0 182 5t208 19 218 34 211 54 190 76 154 101q38 34 68 76t43 93q3 13 3 25t3 25l64 508v8zm-256 128q22 0 42-7t36-20 28-30 18-39q1-4 3-13t1-15l-63-508v-4q0-2-1-4 0-31-16-60t-44-54-61-48-69-40-67-32-57-23q-96-35-200-59t-213-40-215-21-210-7H544q-32 0-62 11t-53 35L174 813q-23 23-34 53t-12 62q0 51 6 104t23 101l96 287q2 8 4 15t6 15q23 43 64 64t89 22h1376z"}))}},79517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 142-36 273t-103 244-160 207-207 160-245 103-273 37q-142 0-273-36t-244-103-207-160-160-207-103-245-37-273q0-142 36-273t103-244 160-207 207-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32zm137-925q38 5 71 19t58 38 39 56 14 73q0 62-24 106t-64 72-91 42-107 13H758V634h284q45 0 92 8t88 28 65 56 26 91q0 33-12 61t-34 51-48 39-58 25v2zm-228-47h77q24 0 45-5t37-18 25-31 10-45q0-27-11-44t-30-26-42-12-45-4h-66v185zm96 337q25 0 48-6t42-19 29-33 11-48q0-28-11-47t-29-31-42-17-48-5h-96v206h96z"}))}},38725:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1600 1536q40 0 75 15t61 41 41 61 15 75q0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-31 11-64H885q11 33 11 64 0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-55 29-102t80-71L188 256H0V128h281l85 256h1682l-299 896H665l85 256h850zM409 512l213 640h1035l213-640H409zm359 1216q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19q26 0 45-19t19-45zm832 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19z"}))}},1489:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-141 36-272t103-245 160-207 208-160T752 37t272-37q141 0 272 36t245 103 207 160 160 208 103 245 37 272zm-1024 896q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-124 0-238 32t-213 90-182 141-140 181-91 214-32 238q0 124 32 238t90 213 141 182 181 140 214 91 238 32z"}))}},62638:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-142 0-272-36t-245-103-207-160-160-208-103-245-37-272q0-141 36-272t103-245 160-207 208-160T752 37t272-37q141 0 272 36t245 103 207 160 160 208 103 245 37 272zm-1024 896q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-124 0-238 32t-213 90-182 141-140 181-91 214-32 238q0 124 32 238t90 213 141 182 181 140 214 91 238 32zm-233-553l774-774 82 82-856 856-390-390 82-82 308 308z"}))}},95895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1939 467l90 90-1005 1005L19 557l90-90 915 915 915-915z"}))}},38185:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1533 93l-930 931 930 931-90 90L421 1024 1443 3l90 90z"}))}},12646:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M605 3l1022 1021L605 2045l-90-90 930-931L515 93l90-90z"}))}},7739:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1955 1533l-931-930-931 930-90-90L1024 422l1021 1021-90 90z"}))}},66962:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M384 2048v-128h1152v128H384zm1197-851l-621 626-621-626 90-90 467 470V0h128v1577l467-470 90 90z"}))}},93660:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6272 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M928 1856q-128 0-246-33t-222-93-188-146-145-188-94-221T0 928q0-128 33-246t93-222 146-188 188-145 221-94T928 0q128 0 246 33t222 93 188 146 145 188 94 221 33 247q0 128-33 246t-93 222-145 188-188 145-222 94-247 33zm285-904l-81 130h237l80 129h153l-405-648-324 519H506l81-130h248l81-130H396l-81 130h119l-162 259h673l252-403 91 144h-75zM558 563l-81 130h534l81-130H558zm5022 1485h-270l280-568-419-871h278l284 588 278-588h261l-692 1439zm-1030-427q-104 0-191-43t-151-114-99-165-36-192q0-102 36-194t102-164 154-113 194-42q87 0 165 31t139 94V609h249v997h-249v-109q-63 60-144 92t-169 32zm43-800q-57 0-106 21t-87 59-58 87-22 107v27q0 57 21 106t59 86 86 58 107 21q53 0 101-20t86-55 60-82 25-101v-41q0-56-21-105t-59-87-86-59-106-22zm-649 785h-249V208l249-80v1478zm-1177 0h-271V208h318q158 0 319-1 92 0 171 35t138 95 92 140 34 172q0 99-37 181t-100 142-149 92-182 33h-333v509zm0-1152v407h165q82 0 164 1 43 0 80-16t64-44 44-65 16-80q0-42-16-79t-44-65-65-44-80-16h-164q-82 0-164 1z"}))}},94988:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1024q0 142-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-244-104-207-160-161-207-103-245-37-272q0-141 36-272t104-244 160-207 207-161T752 37t272-37q141 0 272 36t244 104 207 160 161 207 103 245 37 272zM616 621l-90 143h589l90-143H616zm983 715h169l-447-715-358 572H559l89-143h274l89-143H437l-89 143h131l-179 286h743l278-445 100 159h-83l-89 143h261l89 143z"}))}},32943:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 640q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45q0-26 19-45t45-19zm704-164q20 14 36 35t25 45l224 607q20 55 27 121t8 124q0 55-17 111t-49 103-80 76-110 30q-22 0-48-8t-43-24l-304-304q-12-12-30-21t-40-15-42-9-37-3H800q-17 0-37 3t-42 9-39 15-31 21l-304 304q-16 16-42 24t-49 8q-62 0-109-29t-80-76-50-103-17-112q0-61 7-124t28-121l1-1 225-609v-2q9-22 24-41t35-34v-66q44-23 85-40t84-28 88-16 95-6q34 0 61 10t49 22 42 22 40 10h320q19 0 39-10t42-22 50-22 61-10q50 0 95 5t87 17 84 28 86 40v66zm64 1124q33 0 57-20t40-49 23-62 8-61q0-49-6-102t-22-101q-32-93-66-184t-70-184l-61-167q-7-17-12-35t-14-35q-5-10-12-17-11-11-27-17t-30-12v-66q-53-22-110-31t-114-9q-20 0-39 10t-42 22-50 22-61 10H864q-34 0-61-10t-49-22-43-22-39-10q-57 0-114 9t-110 31v66q-8 4-18 8t-21 9-18 12-12 17l-223 605q-16 44-22 100t-6 103q0 27 7 60t23 63 40 49 58 20q5 0 7-1l302-303q20-20 49-35t61-25 65-15 60-5h448q27 0 59 5t65 15 62 25 49 35l302 303q2 1 7 1z"}))}},82279:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M0 384h2048v1280H0V384zm684 160L536 974h146l20-78h120l19 78h146L848 544H684zM88 766q0 113 59 164t169 51q10 0 35-3t52-8 50-11 28-14V711H266v104h81v53q-8 1-14 1t-15 1q-50 0-72-31t-23-77q0-53 28-83t83-31q34 0 60 7t58 18V553h-3q-31-5-59-10t-60-6q-33 0-65 6t-60 18-53 33-41 51q-16 27-19 58t-4 63zm491 450q0-42-13-70t-37-44-56-22-70-7H226v430h135v-136h35q35 0 68-9t58-27 41-47 16-68zm320 288h147l-140-430H743l-148 430h146l20-77h119l19 77zm529-131q0-33-13-55t-32-39-42-26-42-19-32-18-13-21q0-16 15-20t28-5q26 0 57 8t52 24v-118h-3q-31-5-58-11t-60-6q-33 0-64 8t-56 24-40 43-15 64q0 35 12 57t31 38 41 25 40 18 31 17 13 23q0 16-14 20t-26 5q-33 0-65-14t-58-33v126q33 10 62 17t64 7q33 0 66-7t61-23 43-42 17-67zm5-696q-1 15-1 30t0 29v238h130V544h-191q-16 68-33 135t-29 136q-3-10-4-19t-3-20l-58-229-1-3h-197v430h119V771q0-23-1-46t-2-46q13 75 34 148t40 147h126l63-257 4-20 4-20zm395 698q0-33-13-55t-32-38-42-26-42-20-32-17-13-21q0-15 15-20t28-6q31 0 56 9t53 23v-117q-26-11-59-14t-62-3q-33 0-64 8t-56 24-40 43-15 64q0 34 12 57t31 38 41 24 40 18 31 18 13 22q0 16-13 21t-27 5q-35 0-64-14t-58-33v126q11 6 27 10t34 8 35 4 29 1q34 0 67-6t60-23 43-43 17-67zm106-401V867h-137v-55h127V705h-127v-54h135V544h-270v430h272zM820 1187q7 35 16 70t19 71h-71q9-35 20-70t16-71zm-23-389h-71l36-141q8 36 17 71t18 70zm-415 374q24 0 39 11t16 38q0 25-13 36t-38 12h-25v-97h21z"}))}},65447:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1504 128q113 0 212 42t173 117 116 173 43 212q0 109-41 208t-118 177l-865 864-865-864Q82 980 41 881T0 672q0-113 42-212t117-173 173-116 212-43q109 0 208 41t177 118q24 24 47 48t48 48q24-24 47-48t48-48q77-77 176-118t209-41z"}))}},29641:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M2048 1536h-640v128h256v128h-640v-128h256v-128H896v256H0V128h896v512h1152v896zm-128-128V768H768v640h1152zM768 1664v-128H256v-128h384v-128H256v-128h384V640h128V256H128v1408h640zM640 384v128H256V384h384z"}))}},51517:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1329 1203q136 47 245 131t187 195 118 243 41 276h-128q0-164-58-304t-162-244-243-161-305-59q-108 0-206 27t-184 76-155 119-119 155-77 184-27 207H128q0-143 42-274t119-242 186-195 245-133q-78-42-140-102T475 968t-67-156-24-172q0-88 23-170t64-153 100-129T701 88t153-65 170-23q88 0 170 23t153 64 129 100 100 130 65 153 23 170q0 87-23 170t-67 157-106 134-139 102zM512 640q0 106 40 199t110 162 163 110 199 41q106 0 199-40t162-110 110-163 41-199q0-106-40-199t-110-162-163-110-199-41q-106 0-199 40T663 278 553 441t-41 199z"}))}},83857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t245 103 207 160 160 208 103 245 37 272q0 141-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t103-245 160-207 208-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32z"}))}},40841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1024 0q141 0 272 36t245 103 207 160 160 208 103 245 37 272q0 141-36 272t-103 245-160 207-208 160-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t103-245 160-207 208-160T751 37t273-37zm0 1920q123 0 237-32t214-90 182-141 140-181 91-214 32-238q0-123-32-237t-90-214-141-182-181-140-214-91-238-32q-123 0-237 32t-214 90-182 141-140 181-91 214-32 238q0 123 32 237t90 214 141 182 181 140 214 91 238 32zm0-1568q93 0 178 24t161 68 136 105 105 136 68 160 24 179q0 93-24 178t-68 161-105 136-136 105-160 68-179 24q-93 0-178-24t-161-68-136-105-105-136-68-160-24-179q0-93 24-178t68-161 105-136 136-105 160-68 179-24z"}))}},81895:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(22970),o=n(2784);const a=function(e){var{title:t,titleId:n}=e,a=(0,r.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M1920 1920H0L960 0l960 1920zM207 1792h1506L960 286 207 1792zm817-1024v640H896V768h128zm-128 768h128v128H896v-128z"}))}},18269:(e,t,n)=>{"use strict";n.d(t,{K:()=>u});var r=n(22970),o=n(12524),a=n.n(o),i=n(2784),s=n(8520),l=n(91841),c=(0,i.forwardRef)((function(e,t){var n,o=e.buttonType,c=void 0===o?s.L$.Brand:o,u=e.buttonSize,d=void 0===u?s.qE.Medium:u,h=e.overlayMode,m=void 0===h?s.gT.Solid:h,p=e.className,g=(0,r.__rest)(e,["buttonType","buttonSize","overlayMode","className"]);return i.createElement(s.Yd,(0,r.__assign)({ref:t,buttonType:c,buttonSize:d,overlayMode:m,className:a()(p,l.CD,(n={},n[l.kI]=d===s.qE.XSmall,n[l.qg]=d===s.qE.Small,n[l.QD]=d===s.qE.Medium,n[l.o9]=d===s.qE.Large,n))},g))}));c.displayName="HeroButtonUnmanaged";var u=(0,i.memo)(c)},94833:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d});var r=n(22970),o=n(12524),a=n.n(o),i=n(2784),s=n(82008),l=n(8520),c=n(91841),u=(0,i.forwardRef)((function(e,t){var n,o=e.iconClassName,u=e.iconStyle,d=e.iconSize,h=void 0===d?s.Jh.XXSmall:d,m=e.className,p=e.icon,g=e.buttonType,f=void 0===g?l.L$.Brand:g,v=e.buttonSize,_=void 0===v?l.qE.Medium:v,y=e.overlayMode,b=void 0===y?l.gT.Solid:y,C=e.children,E=(0,r.__rest)(e,["iconClassName","iconStyle","iconSize","className","icon","buttonType","buttonSize","overlayMode","children"]);return i.createElement(l.Yd,(0,r.__assign)({ref:t,buttonType:f,overlayMode:b,className:a()(m,c.Hs,(n={},n[c.kI]=_===l.qE.XSmall,n[c.qg]=_===l.qE.Small,n[c.QD]=_===l.qE.Medium,n[c.o9]=_===l.qE.Large,n[c.S5]=_===l.qE.XSmall,n[c.x2]=_===l.qE.Small,n[c.eG]=_===l.qE.Medium,n[c.Sv]=_===l.qE.Large,n))},E),i.createElement(s.JO,{iconSize:h,className:a()(c.pD,c._0,o),style:u,icon:p,"aria-hidden":!0}),C)}));u.displayName="HeroIconButtonUnmanaged";var d=(0,i.memo)(u)},14701:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(22970),o=n(12524),a=n.n(o),i=n(2784),s=n(82008),l=n(98900),c=n(91841),u=n(18269),d={basic:l.k,hero:u.K},h={basic:"IconLabelButton",hero:"HeroIconLabelButton"},m=function(e){var t=d[e],n=i.forwardRef((function(e,n){var o=e.iconClassName,l=e.iconStyle,u=e.iconSize,d=void 0===u?s.Jh.XXSmall:u,h=e.className,m=e.icon,p=e.children,g=(0,r.__rest)(e,["iconClassName","iconStyle","iconSize","className","icon","children"]);return i.createElement(t,(0,r.__assign)({ref:n,className:a()(h,c.MM)},g),p,i.createElement(s.JO,{iconSize:d,className:a()(c.pD,c.oI,o),style:l,icon:m,"aria-hidden":!0}))}));return n.displayName=h[e],n},p=(0,i.memo)(m("basic"));(0,i.memo)(m("hero"))},43122:(e,t,n)=>{"use strict";n.d(t,{U:()=>m});var r=n(22970),o=n(12524),a=n.n(o),i=n(2784),s=n(88989),l=(0,i.memo)((function(e){var t,n,o=e.className,l=e.value,c=(0,r.__rest)(e,["className","value"]),u=(0,i.useState)(!1),d=u[0],h=u[1];return(0,s._)((function(){return h(!0)})),i.createElement("div",(0,r.__assign)({className:a()(o,"Switch-module__switchBackplate___C0n-1",(t={},t["Switch-module__enabled___S2SAy"]=l,t))},c),i.createElement("div",{className:a()("Switch-module__switchThumb___vNLDd",(n={},n["Switch-module__transition___AUE-0"]=d,n))}))})),c=n(8520),u=n(98900),d=n(91841),h=(0,i.forwardRef)((function(e,t){var n,o=e.className,s=e.value,h=e.onChange,m=e.children,p=e.onClick,g=(0,r.__rest)(e,["className","value","onChange","children","onClick"]);return i.createElement(u.k,(0,r.__assign)({as:"button",ref:t,role:"switch","aria-live":"polite","aria-checked":s,onClick:function(e){null===p||void 0===p||p(e),null===h||void 0===h||h(!s)},onKeyDown:function(e){if("Enter"===e.key){var t=new MouseEvent("click");e.target.dispatchEvent(t)}},className:a()(d.MM,o)},g),m,i.createElement(l,{className:a()(d.oI,d.Vl,(n={},n[d.Y1]=g.buttonType===c.L$.Secondary,n)),value:s}))}));h.displayName="SwitchButtonUmanaged";var m=(0,i.memo)(h)},30434:(e,t,n)=>{"use strict";n.d(t,{pp:()=>p,nh:()=>o});var r,o,a=n(22970),i=n(51517),s=n(12524),l=n.n(s),c=n(2784),u=n(82008),d="GamerPic-module__gamerPic___LVS6s";!function(e){e[e.None=0]="None",e[e.Offline=1]="Offline",e[e.Online=2]="Online",e[e.FavoriteOffline=3]="FavoriteOffline",e[e.FavoriteOnline=4]="FavoriteOnline"}(r||(r={})),function(e){e[e.Small=0]="Small",e[e.Large=1]="Large"}(o||(o={}));var h=[r.FavoriteOnline,r.FavoriteOffline],m=[r.Online,r.FavoriteOnline],p=function(e){var t,n=e.marker,s=void 0===n?r.None:n,p=e.className,g=e.src,f=e.sources,v=e.type,_=void 0===v?"complex":v,y=e.size,b=e.isXbox360GamerPic,C=void 0!==b&&b,E=e.xbox360GamerPicClassName,S=e.role,T=void 0===S?"img":S,A=e.imageTagProps,w=(0,a.__rest)(e,["marker","className","src","sources","type","size","isXbox360GamerPic","xbox360GamerPicClassName","role","imageTagProps"]),k=(0,c.useState)(!1),I=k[0],P=k[1],R=m.includes(s),x=h.includes(s),N="complex"===_&&s!==r.None,O=(0,c.useMemo)((function(){var e;return"complex"===_?l()(((e={})["GamerPic-module__circleMask___j3NCd"]=!N,e["GamerPic-module__smallCircleMarkerMask___U5-8N"]=N&&!x&&y===o.Small,e["GamerPic-module__largeCircleMarkerMask___5sLAp"]=N&&!x&&y===o.Large,e["GamerPic-module__smallFavoriteMarkerMask___vfSur"]=N&&x&&y===o.Small,e["GamerPic-module__largeFavoriteMarkerMask___BF7AW"]=N&&x&&y===o.Large,e)):"GamerPic-module__defaultMask___l6n-E"}),[x,N,y,_]),L=(0,c.useMemo)((function(){var e,t;return N&&(x?c.createElement("svg",{"aria-hidden":!0,className:l()((e={},e["GamerPic-module__smallFavoriteMarker___Z634Y"]=y===o.Small,e["GamerPic-module__largeFavoriteMarker___GXLA9"]=y===o.Large,e["GamerPic-module__onlineGreenFill___StiJC"]=R,e["GamerPic-module__offlineGrayFill___UoOGM"]=!R,e)),viewBox:"0 0 32 32"},c.createElement("path",{d:"M16 27 6.11958763 32 8 20.4251627 0 12.2169197 11.0515464 10.5336226 16 0 20.9484536 10.5336226 32 12.2169197 24 20.4251627 25.8804124 32z"})):c.createElement("div",{"aria-hidden":!0,className:l()((t={},t["GamerPic-module__smallCircleMarker___MnFGP"]=y===o.Small,t["GamerPic-module__largeCircleMarker___kSFgF"]=y===o.Large,t["GamerPic-module__onlineGreenBackground___rWisN"]=R,t["GamerPic-module__offlineGrayBackground___DXdoW"]=!R,t))}))}),[R,x,N,y]);if(!g||I)return c.createElement("div",(0,a.__assign)({className:l()(d,p),role:T},w),c.createElement("div",{className:l()("GamerPic-module__noGamerPicWrapper___IYztp",O)},c.createElement(u.JO,{"aria-hidden":!0,className:"GamerPic-module__playerIcon___plBaj",iconSize:u.Jh.Custom,icon:i.Z})),L);var M=c.createElement("img",(0,a.__assign)({onLoad:function(){return P(!1)},onError:function(){return P(!0)},src:g,alt:"","aria-hidden":!0,className:l()((t={},t["GamerPic-module__imageXbox360___dp+mT"]=C,t["GamerPic-module__image___mdxba"]=!C,t[O]=!C,t))},A));return C?c.createElement("div",(0,a.__assign)({className:l()(d,p),role:T},w),c.createElement("div",{className:l()("GamerPic-module__gamerPicXbox360Wrapper___OM-24",E,O)},f?c.createElement("picture",null,c.createElement(c.Fragment,null,f),M):M),L):c.createElement("div",(0,a.__assign)({className:l()(d,p),role:T},w),f?c.createElement("picture",null,c.createElement(c.Fragment,null,f),M):M,L)}},40380:(e,t,n)=>{"use strict";n.d(t,{c:()=>h});var r=n(22970),o=n(15946),a=n(95895),i=n(12524),s=n.n(i),l=n(2784),c=n(14701),u=n(8520),d=(0,l.memo)((function(e){var t=e.className,n=e.textClassName,r=e.onPress,o=e.index,a=e.selected,i=e.label,c=(0,l.useRef)(null);return(0,l.useEffect)((function(){var e;a&&(null===(e=c.current)||void 0===e||e.focus())}),[a]),l.createElement("button",{className:s()(t,"Picker-module__pickerItem___VyecJ",n),ref:c,role:"option","aria-selected":a,"data-auto-focus":a,onClick:function(){return null===r||void 0===r?void 0:r(o)},onKeyPress:function(e){"Enter"===e.key&&(null===r||void 0===r||r(o))}},i)}));var h=(0,l.memo)((function(e){var t=e.className,n=e.data,i=e.selectedValue,h=e.visibleItems,m=void 0===h?4:h,p=e.onFocus,g=e.onBlur,f=e.onValueChange,v=e.onClose,_=e.openPickerClassName,y=e.itemTextClassName,b=e.selectedItemTextClassName,C=e.isOpen,E=e.setIsOpen,S=e.showFloatingLabel,T=e.buttonClassName,A=e.labelAndValueContainerClassName,w=e.floatingLabelContainerClassName,k=e.floatingValueContainerClassName,I=e.buttonHtmlAttributes,P=(0,r.__rest)(e,["className","data","selectedValue","visibleItems","onFocus","onBlur","onValueChange","onClose","openPickerClassName","itemTextClassName","selectedItemTextClassName","isOpen","setIsOpen","showFloatingLabel","buttonClassName","labelAndValueContainerClassName","floatingLabelContainerClassName","floatingValueContainerClassName","buttonHtmlAttributes"]),R=(0,l.useState)(),x=R[0],N=R[1],O=P["aria-labelledby"],L=(0,l.useRef)(null),M=(0,l.useRef)(null),D=(0,l.useMemo)((function(){return Math.min(n.length,m)}),[n,m]),U=(0,l.useMemo)((function(){var e;return null===(e=n[0])||void 0===e?void 0:e.label}),[n]),F=(0,l.useMemo)((function(){return n.findIndex((function(e,t){return null!==e&&i===n[t].value}))}),[n,i]),B=(0,l.useMemo)((function(){return n.length>0&&-1!==F?n[F].label:" "}),[n,F]),H=(0,l.useState)(0),q=H[0],G=H[1];(0,l.useEffect)((function(){if(L.current){var e=getComputedStyle(L.current).getPropertyValue("--height").trim(),t=parseInt(e.replace("px",""),10);G(t)}}),[L]);var z=(0,l.useCallback)((function(){var e,t,r,o;if(n.length){var a,i=q*D+(D>=n.length?0:2),s=null===(e=L.current)||void 0===e?void 0:e.getBoundingClientRect(),l=(null!==(t=null===s||void 0===s?void 0:s.top)&&void 0!==t?t:0)+window.pageYOffset;l+i>window.innerHeight&&(a="translateY(".concat(-(l+i-window.innerHeight),"px)")),N({size:{width:null!==(r=null===s||void 0===s?void 0:s.width)&&void 0!==r?r:0,height:i},location:{left:null===(o=L.current)||void 0===o?void 0:o.offsetLeft,transform:a}}),null===E||void 0===E||E(!0)}}),[n.length,D,E,q]),X=(0,l.useCallback)((function(){N(void 0),null===E||void 0===E||E(!1)}),[E]),$=(0,l.useCallback)((function(){var e;X(),null===(e=null===M||void 0===M?void 0:M.current)||void 0===e||e.focus(),null===v||void 0===v||v()}),[v,X]),V=function(e){$(),null===f||void 0===f||f(n[e].value)};return(0,l.useEffect)((function(){C?x||z():void 0!==C&&x&&$()}),[C,z,$,x]),(0,o.useBackHandler)((0,l.useCallback)((function(){return void 0!==x&&($(),!0)}),[$,x])),l.createElement("div",{className:s()("Picker-module__pickerContainer___ec-tx",t)},l.createElement("div",{className:"Picker-module__refContainer___XCfTg",ref:L},l.createElement(c.Z,(0,r.__assign)({"aria-expanded":void 0!==x,"aria-haspopup":!0,"aria-labelledby":O,as:"button",buttonType:u.L$.Primary,className:T,icon:a.Z,onBlur:g,onClick:z,onFocus:p,ref:M,role:"combobox"},I),S&&F>0?l.createElement("div",{className:s()("Picker-module__labelAndValueContainer___CaXKe",A)},l.createElement("span",{className:w},U),l.createElement("span",{className:s()("Picker-module__floatingValueContainer___78ffj",k)},B)):l.createElement(l.Fragment,null,B))),x&&l.createElement("div",(0,r.__assign)({role:"listbox"},P),l.createElement("div",{className:"Picker-module__dismissSurface___OB0n8",onMouseDown:function(){return X()},onTouchStart:function(){return X()},onKeyDown:function(){return X()}}),l.createElement(o.FocusContainer,{className:s()("Picker-module__openPicker___xKcqC",null!==_&&void 0!==_?_:""),style:(0,r.__assign)((0,r.__assign)({},null===x||void 0===x?void 0:x.location),null===x||void 0===x?void 0:x.size),autoFocusContainer:!0},l.createElement(o.GamepadScrollable,{className:"Picker-module__gamepadScrollable___3rdHv",scrollAlignment:o.ScrollAlignment.AlignToNext,stopScrollPropagation:!0,scrollOffsets:2},n.map((function(e,t){var n;return l.createElement(d,{key:t,className:"Picker-module__pickerHeight___xe8cz",textClassName:s()("Picker-module__itemText___1dWtt",(n={},n["Picker-module__selected___q-8Ea"]=e.value===i,n[null!==y&&void 0!==y?y:""]=e.value!==i,n[null!==b&&void 0!==b?b:""]=e.value===i,n)),index:t,selected:e.value===i,onPress:V,label:e.label})}))))))}))},88989:(e,t,n)=>{"use strict";n.d(t,{_:()=>o});var r=n(2784),o=function(e){var t=(0,r.useState)(!1),n=t[0],o=t[1];(0,r.useEffect)((function(){if(n){var t,r=setTimeout((function(){t=requestAnimationFrame(e)}),0);return function(){clearTimeout(r),cancelAnimationFrame(t)}}o(!0)}),[e,n])}},71972:(e,t,n)=>{"use strict";n.d(t,{CC:()=>r,ES:()=>a,jz:()=>i});var r,o=n(22970);!function(e){e[e.DefaultLight=0]="DefaultLight",e[e.DefaultDark=1]="DefaultDark",e[e.DefaultHcWhite=2]="DefaultHcWhite",e[e.DefaultHcBlack=3]="DefaultHcBlack",e[e.DefaultHcDesert=4]="DefaultHcDesert",e[e.DefaultHcAquatic=5]="DefaultHcAquatic"}(r||(r={}));var a=function(e){switch(e){case r.DefaultLight:return"light";case r.DefaultDark:return"dark";case r.DefaultHcWhite:return"hc-white";case r.DefaultHcBlack:return"hc-black";case r.DefaultHcDesert:return"hc-desert";case r.DefaultHcAquatic:return"hc-aquatic"}};function i(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:switch(e){case r.DefaultLight:return[3,1];case r.DefaultDark:return[3,3];case r.DefaultHcWhite:return[3,5];case r.DefaultHcBlack:return[3,7];case r.DefaultHcDesert:return[3,9];case r.DefaultHcAquatic:return[3,11]}return[3,13];case 1:return[4,n.e(99959).then(n.bind(n,99959))];case 2:case 4:case 6:case 8:case 10:case 12:return t.sent(),[2];case 3:return[4,n.e(54041).then(n.bind(n,54041))];case 5:return[4,n.e(9747).then(n.bind(n,9747))];case 7:return[4,n.e(83931).then(n.bind(n,83931))];case 9:return[4,n.e(44497).then(n.bind(n,44497))];case 11:return[4,n.e(24762).then(n.bind(n,24762))];case 13:return[2]}}))}))}},45595:(e,t,n)=>{"use strict";n.d(t,{TA:()=>w,ZP:()=>I});var r=n(2784),o=n(31461),a=n(7896),i=n(80753),s=n(36981),l=n(48570),c=n(73463),u=n.n(c);function d(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function h(e){console.warn("loadable: "+e)}var m=r.createContext();function p(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var g={initialChunks:{}},f="PENDING",v="REJECTED";var _=function(e){return e};function y(e){var t=e.defaultResolveComponent,n=void 0===t?_:t,c=e.render,h=e.onLoad;function p(e,t){void 0===t&&(t={});var p=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),_={};function y(e){return t.cacheKey?t.cacheKey(e):p.resolve?p.resolve(e):"static"}function b(e,r,o){var a=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,l.isValidElementType)(a))throw new Error("resolveComponent returned something that is not a React component!");return u()(o,a,{preload:!0}),a}var C=function(e){var t=y(e),n=_[t];return n&&n.status!==v||((n=p.requireAsync(e)).status=f,_[t]=n,n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:p.resolve(e),chunkName:p.chunkName(e),error:t?t.message:t}),n.status=v}))),n},E=function(e){var t=function(t){return r.createElement(m.Consumer,null,(function(n){return r.createElement(e,Object.assign({__chunkExtractor:n},t))}))};return e.displayName&&(t.displayName=e.displayName+"WithChunkExtractor"),t}(function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:y(n)},d(!n.__chunkExtractor||p.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(p.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(p.chunkName(n))),(0,i.Z)(r)):(!1!==t.ssr&&(p.isReady&&p.isReady(n)||p.chunkName&&g.initialChunks[p.chunkName(n)])&&r.loadSync(),r)}(0,s.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=y(e);return(0,a.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===v&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return y(this.props)},r.getCache=function(){return _[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),_[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;h&&setTimeout((function(){h(e.state.result,e.props)}))},r.loadSync=function(){if(this.state.loading)try{var e=b(p.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:p.resolve(this.props),chunkName:p.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=b(t,e.props,S);e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},r.resolveAsync=function(){var e=this.props,t=(e.__chunkExtractor,e.forwardedRef,(0,o.Z)(e,["__chunkExtractor","forwardedRef"]));return C(t)},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,i=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),s=this.state,l=s.error,u=s.loading,d=s.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===f)throw this.loadAsync();if(l)throw l;var h=r||t.fallback||null;return u?h:c({fallback:h,result:d,options:t,props:(0,a.Z)({},i,{ref:n})})},n}(r.Component)),S=r.forwardRef((function(e,t){return r.createElement(E,Object.assign({forwardedRef:t},e))}));return S.displayName="Loadable",S.preload=function(e){S.load(e)},S.load=function(e){return C(e)},S}return{loadable:p,lazy:function(e,t){return p(e,(0,a.Z)({},t,{suspense:!0}))}}}var b=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),C=b.loadable,E=b.lazy,S=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),T=S.loadable,A=S.lazy;function w(e,t){void 0===e&&(e=function(){});var n=void 0===t?{}:t,r=n.namespace,o=void 0===r?"":r,a=n.chunkLoadingGlobal,i=void 0===a?"__LOADABLE_LOADED_CHUNKS__":a;var s=null,l=p(o),c=document.getElementById(l);if(c){s=JSON.parse(c.textContent);var u=document.getElementById(l+"_ext");if(!u)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(u.textContent).namedChunks.forEach((function(e){g.initialChunks[e]=!0}))}if(!s)return h("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var d=!1;return new Promise((function(e){window[i]=window[i]||[];var t=window[i],n=t.push.bind(t);function r(){s.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(d||(d=!0,e()))}t.push=function(){n.apply(void 0,arguments),r()},r()})).then(e)}var k=C;k.lib=T,E.lib=A;const I=k},9207:(e,t,n)=>{"use strict";n.d(t,{E:()=>a,L:()=>o});var r=n(2784);const o={locales:[],merge:Object.assign,messages:{},pathSep:"."},a=(0,r.createContext)(o)},31:(e,t,n)=>{"use strict";n.d(t,{x:()=>u});var r=n(2784),o=n(9207);const a={EBADMSG:"Message with unexpected object value",ENOMSG:"Message not found"};class i extends Error{constructor(e,t,n){super(`${a[t]}: ${n(e)}`),this.code=t,this.path=e}}function s(e,t,n,r){const o=e=>e.join(t||",");function s(e,t){return console.warn(a[t],e),o(e)}if(void 0===n){if("function"===typeof r)return(e,t)=>r(`${a[t]}: ${o(e)}`);n=r}switch(n){case"silent":return o;case"error":return function(e,t){throw new i(e,t,o)};case"warn":return s;default:if("function"===typeof n){const e=n;return(t,n)=>e(new i(t,n,o))}return e.onError||s}}function l({locales:e},t){const n=e.filter((e=>e!==t));return[t].concat(n)}function c({merge:e,messages:t},n,r){const o=Object.assign({},t),a=o[n];return o[n]=a&&"object"===typeof a?e({},a,r):r,o}function u(e){const{children:t,context:n,debug:a,locale:i="",merge:u,messages:d,onError:h,pathSep:m}=e;let p=(0,r.useContext)(o.E);n?p=n:null===n&&(p=o.L);const g=(0,r.useMemo)((()=>{const e=function(e,t){return null===t||"string"===typeof t?t:e.pathSep}(p,m);return{locales:l(p,i),merge:u||p.merge,messages:c(p,i,d),onError:s(p,e,h,a),pathSep:e}}),[p,i,u,d,m]);return(0,r.createElement)(o.E.Provider,{value:g},t)}},21158:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buyNowUIUrlPath=t.purchaseUIUrlPath=void 0;var r=n(6036);t.purchaseUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_PURCHASEUI_URL:r.BASE_PURCHASEUI_URL};t.buyNowUIUrlPath=function(e,t,n){return"ppe"===(null===e||void 0===e?void 0:e.selectEnv)||t&&t.length>0&&t.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)||n&&n.length>0&&n.map((function(e){return e.toLowerCase()})).includes(r.ppeFlightName)?r.PPE_BUYNOWUI_URL:r.BASE_BUYNOWUI_URL}},16663:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPrefetchUrlByRoute=t.getPrefetchUrl=t.addingQueryParams=t.createInputForArray=t.extraData=t.createInput=void 0;var r=n(6036);t.createInput=function(e,t,n){var r=document.createElement("input");return r.name=e,r.type="hidden",r.value=t?JSON.stringify(t):null!==n&&void 0!==n?n:"",r};t.extraData=function(e){return{usePurchaseSdk:!0,clientType:e}};t.createInputForArray=function(e,n,r){if(e&&r&&(null===r||void 0===r?void 0:r.length)>0){var o=0;r.forEach((function(r){e.appendChild((0,t.createInput)(n+"["+o+"]",void 0,r)),o++}))}};t.addingQueryParams=function(e,t){return t&&t.length>0?(null===e||void 0===e?void 0:e.indexOf("?"))>-1?e+"&"+t:e+"?"+t:e};t.getPrefetchUrl=function(e,n){var r=new URLSearchParams;return n?(n.market&&r.append("market",n.market),n.locale&&r.append("locale",n.locale),n.clientType&&r.append("clientType",n.clientType),n.cssOverride&&r.append("cssOverride",n.cssOverride),n.optionalAssets&&r.append("optional",n.optionalAssets),(0,t.addingQueryParams)(e,r.toString())):e};t.getPrefetchUrlByRoute=function(e){return e.indexOf("cart")>-1||e.indexOf("checkout")>-1?r.prefetchURLTemplate.replace("{0}",r.purchaseUIAppName).replace("{1}",e):r.prefetchURLTemplate.replace("{0}",r.buyNowUIAppName).replace("{1}",e)}},87061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTimeToInvokeMarkFromArgsOrNewMetric=t.getTimeToInvokeMark=t.clearPerfMarks=void 0;var n=function(e){var t=function(e){return performance&&performance.getEntriesByName?performance.getEntriesByName(e):[]}(e);return t.length>0?t[0].startTime:-1};t.clearPerfMarks=function(){performance&&performance.clearMarks&&performance.clearMarks()};t.getTimeToInvokeMark=function(e){return function(e){performance&&performance.mark&&performance.mark(e)}(e),n(e)};t.getTimeToInvokeMarkFromArgsOrNewMetric=function(e,n){return n&&n>0?n:(0,t.getTimeToInvokeMark)(e)}},59902:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeWindowListener=t.prefetchBuyNow=t.invokeBuyNowInFrame=void 0;var i=n(16663),s=n(87061),l=n(47401),c=n(6036),u=n(23126);t.invokeBuyNowInFrame=function(e,t){var n;return o(this,void 0,void 0,(function(){var o;return a(this,(function(a){switch(a.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(o=document.createElement("form")).target=e.name,o.action=(0,u.constructBuyNowUrl)(t),o.method="post",(0,u.createInputForBuyNowUI)(o,r(r(r(r({market:t.market,cV:encodeURIComponent(t.cV),locale:t.locale,authToken:t.authToken,xToken:t.xToken,pageFormat:null!==(n=t.pageFormat)&&void 0!==n?n:"full",products:t.products},t.campaignOptions),{urlRef:document.referrer?document.referrer:window.location.href}),t.onBehalfOfOptions),{catalogClientType:t.catalogClientType,clientType:t.clientType,clientVersion:t.clientVersion,osVersion:t.osVersion,purchaseAppVersion:t.purchaseAppVersion,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,uuid:t.uuid,isAddAsyncPIFailed:t.isAddAsyncPIFailed,selectEnv:t.selectEnv,scenario:t.scenario||"",attachRecordId:t.attachRecordId,fulfillmentData:t.fulfillmentData,deviceContext:t.deviceContext,deviceSerialNumber:t.deviceSerialNumber,suppressGiftThankYouPage:t.suppressGiftThankYouPage,isTelemetryEnabled:t.isTelemetryEnabled,clientDebugInfo:t.clientDebugInfo,disableBuyNowFocusTrap:t.disableBuyNowFocusTrap,gifteeType:t.gifteeType,gifteeValue:t.gifteeValue,gamertagImageUrl:t.gamertagImageUrl,modernGamertag:t.modernGamertag,showProductImage:t.showProductImage,optionalAssets:t.optionalAssets,timeToInvokeIframe:(0,s.getTimeToInvokeMarkFromArgsOrNewMetric)("buyNowInvoke",t.timeToInvokeIframe),sdkVersion:l.LIB_VERSION,cartId:t.cartId})),t.frameAllow&&e.setAttribute("allow",t.frameAllow),e.appendChild(o),o.submit(),[4,(0,u.attachingMessageHandler)(o,t)];case 1:return a.sent(),[2,!0]}}))}))};t.prefetchBuyNow=function(e,t){e.src=(0,i.getPrefetchUrl)(c.BUYNOW_PREFETCH_URL,t)};t.makeWindowListener=function(e){return function(t){var n,r,o,a;if(t.origin===c.TARGET_ORIGIN){var i=t.data;switch(i.message){case"done":e.done(i);break;case"openUrl":e.openUrl?e.openUrl(i):window.location.href=i.url;break;case"stageChanged":null===(n=e.stageChanged)||void 0===n||n.call(e,i);break;case"status":null===(r=e.status)||void 0===r||r.call(e,i);break;case"sizeChanged":null===(o=e.sizeChanged)||void 0===o||o.call(e,i);break;case"pageMessage":null===(a=e.pageMessage)||void 0===a||a.call(e,i)}}}}},23126:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInputForBuyNowUI=t.attachingMessageHandler=t.constructBuyNowUrl=void 0;var r=n(21158),o=n(16663),a=n(6036);t.constructBuyNowUrl=function(e){var t;return""+a.TARGET_ORIGIN+(0,r.buyNowUIUrlPath)(e,null===e||void 0===e?void 0:e.flights,null===(t=null===e||void 0===e?void 0:e.campaignOptions)||void 0===t?void 0:t.flights)+"/buynow?ms-cv="+encodeURIComponent(e.cV)+"&noCanonical=true&market="+e.market+"&locale="+e.locale+"&clientName="+e.clientType};t.attachingMessageHandler=function(e,t){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===a.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};var i={usePurchaseSdk:!0};t.createInputForBuyNowUI=function(e,t){var n=Object.keys(t);e.appendChild((0,o.createInput)("data",void 0,JSON.stringify(i))),n.forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("xToken"===n)e.appendChild((0,o.createInput)("xToken",void 0,t.xToken));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else if("products"===n)e.appendChild((0,o.createInput)("products",t.products));else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))}},6036:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appRoutes=t.ppeFlightName=t.buyNowUIAppName=t.purchaseUIAppName=t.prefetchURLTemplate=t.GPC_DataSharingOptInKey=t.windowTargetCurrent=t.REDEEMNOW_PREFETCH_URL=t.BUYNOW_PREFETCH_URL=t.PPE_BUYNOWUI_URL=t.PPE_PURCHASEUI_URL=t.BASE_BUYNOWUI_URL=t.BASE_PURCHASEUI_URL=t.TARGET_ORIGIN=void 0,t.TARGET_ORIGIN="https://www.microsoft.com",t.BASE_PURCHASEUI_URL="/store/purchase/purchaseui/",t.BASE_BUYNOWUI_URL="/store/purchase/buynowui",t.PPE_PURCHASEUI_URL="/store/purchase/purchaseui-ppe/",t.PPE_BUYNOWUI_URL="/store/purchase/buynowui-ppe",t.BUYNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/buynow",t.REDEEMNOW_PREFETCH_URL="https://www.microsoft.com/store/purchase/buynowui/prefetch/redeemnow",t.windowTargetCurrent="current",t.GPC_DataSharingOptInKey="GPC_DataSharingOptIn",t.prefetchURLTemplate="https://www.microsoft.com/store/purchase/{0}/prefetch/{1}",t.purchaseUIAppName="purchaseui",t.buyNowUIAppName="buynowui",t.ppeFlightName="sc_cartppe",t.appRoutes={cart:"cart",checkout:"checkout",buyNow:"buynow",redeem:"redeem",deviceRepair:"device-repair",guestOrderLookup:"guest-order-lookup",aadSignIn:"aad-signin",commercialCheckout:"commercial-checkout"}},20536:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.makeWindowListener=t.prefetchRedeem=t.invokeRedeemNowInFrame=void 0;var i=n(16663),s=n(87061),l=n(47401),c=n(6036),u=n(23043);t.invokeRedeemNowInFrame=function(e,t){var n;return o(this,void 0,void 0,(function(){var o;return a(this,(function(a){switch(a.label){case 0:if(!e.name)throw new Error('purchase-sdk: target iframe must have unique "name" attribute set');return(o=document.createElement("form")).target=e.name,o.action=(0,u.constructRedeemUrl)(t),o.method="post",(0,u.createInputForRedeemUI)(o,r(r({market:t.market,cV:encodeURIComponent(t.cV),locale:t.locale,authToken:t.authToken,xToken:t.xToken,pageFormat:null!==(n=t.pageFormat)&&void 0!==n?n:"full"},t.campaignOptions),{urlRef:document.referrer?document.referrer:window.location.href,isRedeem:!0,clientType:t.clientType,deviceFamily:t.deviceFamily,layout:t.layout,cssOverride:t.cssOverride,theme:t.theme,clientVersion:t.clientVersion,catalogClientType:t.catalogClientType,osVersion:t.osVersion,purchaseAppVersion:t.purchaseAppVersion,selectEnv:t.selectEnv,isTelemetryEnabled:t.isTelemetryEnabled,disableBuyNowFocusTrap:t.disableBuyNowFocusTrap,uuid:t.uuid,tokenString:t.tokenString,scenario:t.scenario,offerId:t.offerId,transactionId:t.transactionId,productMetadataList:t.productMetadataList,productId:t.productId,skuId:t.skuId,suppressRedeemThankYouPage:t.suppressRedeemThankYouPage,optionalAssets:t.optionalAssets,timeToInvokeIframe:(0,s.getTimeToInvokeMarkFromArgsOrNewMetric)("redeemInvoke",t.timeToInvokeIframe),sdkVersion:l.LIB_VERSION})),e.appendChild(o),o.submit(),[4,(0,u.attachingMessageHandler)(o,t)];case 1:return a.sent(),[2,!0]}}))}))};t.prefetchRedeem=function(e,t){e.src=(0,i.getPrefetchUrl)(c.REDEEMNOW_PREFETCH_URL,t)};t.makeWindowListener=function(e){return function(t){var n,r,o;if(t.origin===c.TARGET_ORIGIN){var a=t.data;switch(a.message){case"done":e.done(a);break;case"openUrl":e.openUrl?e.openUrl(a):window.location.href=a.url;break;case"stageChanged":null===(n=e.stageChanged)||void 0===n||n.call(e,a);break;case"status":null===(r=e.status)||void 0===r||r.call(e,a);break;case"sizeChanged":null===(o=e.sizeChanged)||void 0===o||o.call(e,a)}}}}},23043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInputForRedeemUI=t.attachingMessageHandler=t.constructRedeemUrl=void 0;var r=n(21158),o=n(16663),a=n(6036);t.constructRedeemUrl=function(e){var t;return""+a.TARGET_ORIGIN+(0,r.buyNowUIUrlPath)(e,null===e||void 0===e?void 0:e.flights,null===(t=null===e||void 0===e?void 0:e.campaignOptions)||void 0===t?void 0:t.flights)+"/redeemnow?ms-cv="+encodeURIComponent(e.cV)+"&market="+e.market+"&locale="+e.locale+"&clientName="+e.clientType};t.attachingMessageHandler=function(e,t){return new Promise((function(t){return window.addEventListener("message",(function(n){n.origin===a.TARGET_ORIGIN&&("ReactPurchaseReadyToRender"===n.data&&t(),e&&e.remove())}),!0)}))};var i={usePurchaseSdk:!0};t.createInputForRedeemUI=function(e,t){var n=Object.keys(t);e.appendChild((0,o.createInput)("data",void 0,JSON.stringify(i))),n.forEach((function(n){if(n&&t[n])if("authToken"===n)e.appendChild((0,o.createInput)("msaTicket",void 0,t.authToken));else if("xToken"===n)e.appendChild((0,o.createInput)("xToken",void 0,t.xToken));else if("flights"===n)(0,o.createInputForArray)(e,"flights",t.flights);else{var r=t[n];e.appendChild((0,o.createInput)(n,void 0,r))}}))}},47401:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LIB_VERSION=void 0,t.LIB_VERSION="VERSION_PLACEHOLDER"},36660:(e,t,n)=>{"use strict";n.d(t,{$:()=>ae,A:()=>M,B:()=>v,C:()=>U,D:()=>b,E:()=>c,F:()=>B,G:()=>V,H:()=>N,I:()=>Z,J:()=>H,K:()=>Y,L:()=>se,M:()=>ue,N:()=>oe,O:()=>he,P:()=>L,Q:()=>R,R:()=>D,S:()=>G,T:()=>O,U:()=>ve,V:()=>ne,W:()=>K,X:()=>Q,Y:()=>J,Z:()=>ee,_:()=>te,a:()=>F,a0:()=>ie,a1:()=>le,a2:()=>ce,a3:()=>de,a4:()=>me,a5:()=>pe,a6:()=>ge,a7:()=>fe,b:()=>q,d:()=>z,e:()=>x,f:()=>X,g:()=>$,h:()=>W,i:()=>_,j:()=>A,k:()=>s,l:()=>T,m:()=>y,n:()=>P,o:()=>m,p:()=>u,q:()=>f,r:()=>h,s:()=>S,t:()=>l,u:()=>d,v:()=>w,y:()=>E,z:()=>C});var r=n(23143),o=n(7896),a=n(83594),i=n(25295),s=function(e){return function(){return e}}(!0),l=function(){};var c=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var u=function(e,t){(0,o.Z)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))},d=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))};function h(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function m(e){var t=!1;return function(){t||(t=!0,e())}}var p=function(e){throw e},g=function(e){return{value:e,done:!0}};function f(e,t,n){void 0===t&&(t=p),void 0===n&&(n="iterator");var r={meta:{name:n},next:e,throw:t,return:g,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(r[Symbol.iterator]=function(){return r}),r}function v(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var _=function(e){return new Error("\n  redux-saga: Error checking hooks detected an inconsistent state. This is likely a bug\n  in redux-saga code and not yours. Thanks for reporting this in the project's github repo.\n  Error: "+e+"\n")},y=function(e){return Array.apply(null,new Array(e))},b=function(e){return function(t){return e(Object.defineProperty(t,r.Nm,{value:!0}))}},C=function(e){return e===r.EO},E=function(e){return e===r.Wd},S=function(e){return C(e)||E(e)};function T(e,t){var n=Object.keys(e),r=n.length;var o,i=0,s=(0,a.IX)(e)?y(r):{},c={};return n.forEach((function(e){var n=function(n,a){o||(a||S(n)?(t.cancel(),t(n,a)):(s[e]=n,++i===r&&(o=!0,t(s))))};n.cancel=l,c[e]=n})),t.cancel=function(){o||(o=!0,n.forEach((function(e){return c[e].cancel()})))},c}function A(e){return{name:e.name||"anonymous",location:w(e)}}function w(e){return e[r.b_]}var k={isEmpty:s,put:l,take:l};function I(e,t){void 0===e&&(e=10);var n=new Array(e),r=0,o=0,a=0,i=function(t){n[o]=t,o=(o+1)%e,r++},s=function(){if(0!=r){var t=n[a];return n[a]=null,r--,a=(a+1)%e,t}},l=function(){for(var e=[];r;)e.push(s());return e};return{isEmpty:function(){return 0==r},put:function(s){var c;if(r<e)i(s);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[o]=s,a=o=(o+1)%e;break;case 4:c=2*e,n=l(),r=n.length,o=n.length,a=0,n.length=c,e=c,i(s)}},take:s,flush:l}}var P=function(){return k},R=function(e){return I(e,3)},x=function(e){return I(e,4)},N=Object.freeze({__proto__:null,none:P,fixed:function(e){return I(e,1)},dropping:function(e){return I(e,2)},sliding:R,expanding:x}),O="TAKE",L="PUT",M="ALL",D="RACE",U="CALL",F="CPS",B="FORK",H="JOIN",q="CANCEL",G="SELECT",z="ACTION_CHANNEL",X="CANCELLED",$="FLUSH",V="GET_CONTEXT",W="SET_CONTEXT",K=Object.freeze({__proto__:null,TAKE:O,PUT:L,ALL:M,RACE:D,CALL:U,CPS:F,FORK:B,JOIN:H,CANCEL:q,SELECT:G,ACTION_CHANNEL:z,CANCELLED:X,FLUSH:$,GET_CONTEXT:V,SET_CONTEXT:W}),j=function(e,t){var n;return(n={})[r.IO]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Z=function(e){return j(B,(0,o.Z)({},e.payload,{detached:!0}))};function Y(e,t){return void 0===e&&(e="*"),(0,a.uj)(e)?j(O,{pattern:e}):(0,a.Om)(e)&&(0,a.d5)(t)&&(0,a.uj)(t)?j(O,{channel:e,pattern:t}):(0,a.CE)(e)?j(O,{channel:e}):void 0}var Q=function(){var e=Y.apply(void 0,arguments);return e.payload.maybe=!0,e};function J(e,t){return(0,a.sR)(t)&&(t=e,e=void 0),j(L,{channel:e,action:t})}var ee=function(){var e=J.apply(void 0,arguments);return e.payload.resolve=!0,e};function te(e){var t=j(M,e);return t.combinator=!0,t}function ne(e){var t=j(D,e);return t.combinator=!0,t}function re(e,t){var n,r=null;return(0,a.Yl)(e)?n=e:((0,a.IX)(e)?(r=e[0],n=e[1]):(r=e.context,n=e.fn),r&&(0,a.Z_)(n)&&(0,a.Yl)(r[n])&&(n=r[n])),{context:r,fn:n,args:t}}function oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(U,re(e,n))}function ae(e,t,n){void 0===n&&(n=[]);return j(U,re([e,t],n))}function ie(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(F,re(e,n))}function se(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(B,re(e,n))}function le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Z(se.apply(void 0,[e].concat(n)))}function ce(e){return j(H,e)}function ue(e){return void 0===e&&(e=r.sC),j(q,e)}function de(e){void 0===e&&(e=c);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j(G,{selector:e,args:n})}function he(e,t){return j(z,{pattern:e,buffer:t})}function me(){return j(X,{})}function pe(e){return j($,e)}function ge(e){return j(V,e)}function fe(e){return j(W,e)}var ve=oe.bind(null,i.Z)},61260:(e,t,n)=>{"use strict";n.d(t,{CE:()=>w,Ef:()=>s.H,GG:()=>k,Y0:()=>P,ZP:()=>W,b_:()=>r.b_,he:()=>A,j7:()=>V,n1:()=>r.n1,og:()=>s.I,uR:()=>T,xN:()=>I});var r=n(23143),o=n(7896),a=n(31461),i=n(83594),s=n(36660),l=n(18717),c=n(61884),u=[],d=0;function h(e){try{g(),e()}finally{f()}}function m(e){u.push(e),d||(g(),v())}function p(e){try{return g(),e()}finally{v()}}function g(){d++}function f(){d--}function v(){var e;for(f();!d&&void 0!==(e=u.shift());)h(e)}var _=function(e){return function(t){return e.some((function(e){return S(e)(t)}))}},y=function(e){return function(t){return e(t)}},b=function(e){return function(t){return t.type===String(e)}},C=function(e){return function(t){return t.type===e}},E=function(){return s.k};function S(e){var t="*"===e?E:(0,i.Z_)(e)?b:(0,i.IX)(e)?_:(0,i.eR)(e)?b:(0,i.Yl)(e)?y:(0,i.NA)(e)?C:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var T={type:r.sZ},A=function(e){return e&&e.type===r.sZ};function w(e){void 0===e&&(e=(0,s.e)());var t=!1,n=[];return{take:function(r){t&&e.isEmpty()?r(T):e.isEmpty()?(n.push(r),r.cancel=function(){(0,s.r)(n,r)}):r(e.take())},put:function(r){if(!t){if(0===n.length)return e.put(r);n.shift()(r)}},flush:function(n){t&&e.isEmpty()?n(T):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var r=0,o=e.length;r<o;r++){(0,e[r])(T)}}}}}function k(e,t){void 0===t&&(t=(0,s.n)());var n,r=!1,o=w(t),a=function(){r||(r=!0,(0,i.Yl)(n)&&n(),o.close())};return n=e((function(e){A(e)?a():o.put(e)})),n=(0,s.o)(n),r&&n(),{take:o.take,flush:o.flush,close:a}}function I(){var e,t=!1,n=[],o=n;var a=function(){o===n&&(o=n.slice())},i=function(){t=!0;var e=n=o;o=[],e.forEach((function(e){e(T)}))};return(e={})[r.AS]=!0,e.put=function(e){if(!t)if(A(e))i();else for(var a=n=o,s=0,l=a.length;s<l;s++){var c=a[s];c[r.uq](e)&&(c.cancel(),c(e))}},e.take=function(e,n){void 0===n&&(n=E),t?e(T):(e[r.uq]=n,a(),o.push(e),e.cancel=(0,s.o)((function(){a(),(0,s.r)(o,e)})))},e.close=i,e}function P(){var e=I(),t=e.put;return e.put=function(e){e[r.Nm]?t(e):m((function(){t(e)}))},e}function R(e,t){var n=e[r.n1];(0,i.Yl)(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var x,N=0,O=function(){return++N};function L(e){e.isRunning()&&e.cancel()}var M=((x={})[s.T]=function(e,t,n){var o=t.channel,a=void 0===o?e.channel:o,s=t.pattern,l=t.maybe,c=function(e){e instanceof Error?n(e,!0):!A(e)||l?n(e):n(r.EO)};try{a.take(c,(0,i.d5)(s)?S(s):null)}catch(u){return void n(u,!0)}n.cancel=c.cancel},x[s.P]=function(e,t,n){var r=t.channel,o=t.action,a=t.resolve;m((function(){var t;try{t=(r?r.put:e.dispatch)(o)}catch(s){return void n(s,!0)}a&&(0,i.MC)(t)?R(t,n):n(t)}))},x[s.A]=function(e,t,n,r){var o=r.digestEffect,a=N,l=Object.keys(t);if(0!==l.length){var c=(0,s.l)(t,n);l.forEach((function(e){o(t[e],a,c[e],e)}))}else n((0,i.IX)(t)?[]:{})},x[s.R]=function(e,t,n,r){var o=r.digestEffect,a=N,l=Object.keys(t),c=(0,i.IX)(t)?(0,s.m)(l.length):{},u={},d=!1;l.forEach((function(e){var t=function(t,r){d||(r||(0,s.s)(t)?(n.cancel(),n(t,r)):(n.cancel(),d=!0,c[e]=t,n(c)))};t.cancel=s.t,u[e]=t})),n.cancel=function(){d||(d=!0,l.forEach((function(e){return u[e].cancel()})))},l.forEach((function(e){d||o(t[e],a,u[e],e)}))},x[s.C]=function(e,t,n,r){var o=t.context,a=t.fn,l=t.args,c=r.task;try{var u=a.apply(o,l);if((0,i.MC)(u))return void R(u,n);if((0,i.hZ)(u))return void $(e,u,c.context,N,(0,s.j)(a),!1,n);n(u)}catch(d){n(d,!0)}},x[s.a]=function(e,t,n){var r=t.context,o=t.fn,a=t.args;try{var s=function(e,t){(0,i.sR)(e)?n(t):n(e,!0)};o.apply(r,a.concat(s)),s.cancel&&(n.cancel=s.cancel)}catch(l){n(l,!0)}},x[s.F]=function(e,t,n,r){var o=t.context,a=t.fn,l=t.args,c=t.detached,u=r.task,d=function(e){var t=e.context,n=e.fn,r=e.args;try{var o=n.apply(t,r);if((0,i.hZ)(o))return o;var a=!1;return(0,s.q)((function(e){return a?{value:e,done:!0}:(a=!0,{value:o,done:!(0,i.MC)(o)})}))}catch(l){return(0,s.q)((function(){throw l}))}}({context:o,fn:a,args:l}),h=function(e,t){return e.isSagaIterator?{name:e.meta.name}:(0,s.j)(t)}(d,a);p((function(){var t=$(e,d,u.context,N,h,c,void 0);c?n(t):t.isRunning()?(u.queue.addTask(t),n(t)):t.isAborted()?u.queue.abort(t.error()):n(t)}))},x[s.J]=function(e,t,n,r){var o=r.task,a=function(e,t){if(e.isRunning()){var n={task:o,cb:t};t.cancel=function(){e.isRunning()&&(0,s.r)(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if((0,i.IX)(t)){if(0===t.length)return void n([]);var l=(0,s.l)(t,n);t.forEach((function(e,t){a(e,l[t])}))}else a(t,n)},x[s.b]=function(e,t,n,o){var a=o.task;t===r.sC?L(a):(0,i.IX)(t)?t.forEach(L):L(t),n()},x[s.S]=function(e,t,n){var r=t.selector,o=t.args;try{n(r.apply(void 0,[e.getState()].concat(o)))}catch(a){n(a,!0)}},x[s.d]=function(e,t,n){var r=t.pattern,o=w(t.buffer),a=S(r),i=function t(n){A(n)||e.channel.take(t,a),o.put(n)},s=o.close;o.close=function(){i.cancel(),s()},e.channel.take(i,a),n(o)},x[s.f]=function(e,t,n,r){n(r.task.isCancelled())},x[s.g]=function(e,t,n){t.flush(n)},x[s.G]=function(e,t,n,r){n(r.task.context[t])},x[s.h]=function(e,t,n,r){var o=r.task;(0,s.p)(o.context,t),n()},x);function D(e,t){return e+"?"+t}function U(e){var t=e.name,n=e.location;return n?t+"  "+D(n.fileName,n.lineNumber):t}function F(e){var t=(0,s.u)((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var B=null,H=[],q=function(e){e.crashedEffect=B,H.push(e)},G=function(){B=null,H.length=0},z=function(){var e=H[0],t=H.slice(1),n=e.crashedEffect?function(e){var t=(0,s.v)(e);return t?t.code+"  "+D(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+U(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+U(e.meta)})),[F(H)]).join("\n")};function X(e,t,n,o,a,i,l){var u;void 0===l&&(l=s.t);var d,h,m=0,p=null,g=[],f=Object.create(n),v=function(e,t,n){var r,o=[],a=!1;function i(e){t(),c(),n(e,!0)}function l(t){o.push(t),t.cont=function(l,c){a||((0,s.r)(o,t),t.cont=s.t,c?i(l):(t===e&&(r=l),o.length||(a=!0,n(r))))}}function c(){a||(a=!0,o.forEach((function(e){e.cont=s.t,e.cancel()})),o=[])}return l(e),{addTask:l,cancelAll:c,abort:i,getTasks:function(){return o}}}(t,(function(){g.push.apply(g,v.getTasks().map((function(e){return e.meta.name})))}),_);function _(t,n){if(n){if(m=2,q({meta:a,cancelledTasks:g}),y.isRoot){var o=z();G(),e.onError(t,{sagaStack:o})}h=t,p&&p.reject(t)}else t===r.Wd?m=1:1!==m&&(m=3),d=t,p&&p.resolve(t);y.cont(t,n),y.joiners.forEach((function(e){e.cb(t,n)})),y.joiners=null}var y=((u={})[r.Cs]=!0,u.id=o,u.meta=a,u.isRoot=i,u.context=f,u.joiners=[],u.queue=v,u.cancel=function(){0===m&&(m=1,v.cancelAll(),_(r.Wd,!1))},u.cont=l,u.end=_,u.setContext=function(e){(0,s.p)(f,e)},u.toPromise=function(){return p||(p=(0,c.Z)(),2===m?p.reject(h):0!==m&&p.resolve(d)),p.promise},u.isRunning=function(){return 0===m},u.isCancelled=function(){return 1===m||0===m&&1===t.status},u.isAborted=function(){return 2===m},u.result=function(){return d},u.error=function(){return h},u);return y}function $(e,t,n,o,a,l,c){var u=e.finalizeRunEffect((function(t,n,o){if((0,i.MC)(t))R(t,o);else if((0,i.hZ)(t))$(e,t,h.context,n,a,!1,o);else if(t&&t[r.IO]){(0,M[t.type])(e,t.payload,o,m)}else o(t)}));p.cancel=s.t;var d={meta:a,cancel:function(){0===d.status&&(d.status=1,p(r.Wd))},status:0},h=X(e,d,n,o,a,l,c),m={task:h,digestEffect:g};return c&&(c.cancel=h.cancel),p(),h;function p(e,n){try{var a;n?(a=t.throw(e),G()):(0,s.y)(e)?(d.status=1,p.cancel(),a=(0,i.Yl)(t.return)?t.return(r.Wd):{done:!0,value:r.Wd}):a=(0,s.z)(e)?(0,i.Yl)(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==d.status&&(d.status=3),d.cont(a.value)):g(a.value,o,p)}catch(l){if(1===d.status)throw l;d.status=2,d.cont(l,!0)}}function g(t,n,r,o){void 0===o&&(o="");var a,i=O();function l(n,o){a||(a=!0,r.cancel=s.t,e.sagaMonitor&&(o?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),o&&function(e){B=e}(t),r(n,o))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:o,effect:t}),l.cancel=s.t,r.cancel=function(){a||(a=!0,l.cancel(),l.cancel=s.t,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},u(t,i,l)}}function V(e,t){var n=e.channel,r=void 0===n?P():n,o=e.dispatch,a=e.getState,i=e.context,c=void 0===i?{}:i,u=e.sagaMonitor,d=e.effectMiddlewares,h=e.onError,m=void 0===h?s.B:h;for(var g=arguments.length,f=new Array(g>2?g-2:0),v=2;v<g;v++)f[v-2]=arguments[v];var _=t.apply(void 0,f);var y,b=O();if(u&&(u.rootSagaStarted=u.rootSagaStarted||s.t,u.effectTriggered=u.effectTriggered||s.t,u.effectResolved=u.effectResolved||s.t,u.effectRejected=u.effectRejected||s.t,u.effectCancelled=u.effectCancelled||s.t,u.actionDispatched=u.actionDispatched||s.t,u.rootSagaStarted({effectId:b,saga:t,args:f})),d){var C=l.compose.apply(void 0,d);y=function(e){return function(t,n,r){return C((function(t){return e(t,n,r)}))(t)}}}else y=s.E;var E={channel:r,dispatch:(0,s.D)(o),getState:a,sagaMonitor:u,onError:m,finalizeRunEffect:y};return p((function(){var e=$(E,_,c,b,(0,s.j)(t),!0,void 0);return u&&u.effectResolved(b,e),e}))}const W=function(e){var t,n=void 0===e?{}:e,r=n.context,i=void 0===r?{}:r,l=n.channel,c=void 0===l?P():l,u=n.sagaMonitor,d=(0,a.Z)(n,["context","channel","sagaMonitor"]);function h(e){var n=e.getState,r=e.dispatch;return t=V.bind(null,(0,o.Z)({},d,{context:i,channel:c,dispatch:r,getState:n,sagaMonitor:u})),function(e){return function(t){u&&u.actionDispatched&&u.actionDispatched(t);var n=e(t);return c.put(t),n}}}return h.run=function(){return t.apply(void 0,arguments)},h.setContext=function(e){(0,s.p)(i,e)},h}},5703:(e,t,n)=>{"use strict";n.d(t,{$6:()=>o._,A7:()=>v,By:()=>o.a4,CN:()=>o.X,Cs:()=>o.a1,Ds:()=>b,FW:()=>o.W,Fm:()=>f,P2:()=>_,PV:()=>o.a0,RE:()=>o.N,S3:()=>o.V,XD:()=>y,Ys:()=>o.a3,ZO:()=>o.O,al:()=>o.M,fw:()=>o.a6,gw:()=>o.U,gz:()=>o.Y,ib:()=>g,nn:()=>o.$,qn:()=>o.K,rM:()=>o.L,v:()=>o.a7,v_:()=>o.a2,xN:()=>o.Z,yl:()=>o.a5});var r=n(83594),o=n(36660),a=function(e){return{done:!0,value:e}},i={};function s(e){return(0,r.CE)(e)?"channel":(0,r.eR)(e)?String(e):(0,r.Yl)(e)?e.name:String(e)}function l(e,t,n){var r,s,l,c=t;function u(t,n){if(c===i)return a(t);if(n&&!s)throw c=i,n;r&&r(t);var o=n?e[s](n):e[c]();return c=o.nextState,l=o.effect,r=o.stateUpdater,s=o.errorState,c===i?a(t):l}return(0,o.q)(u,(function(e){return u(null,e)}),n)}function c(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,c={done:!1,value:(0,o.K)(e)},u=function(e){return{done:!1,value:o.L.apply(void 0,[t].concat(r,[e]))}},d=function(e){return i=e};return l({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:u(i)}}},"q1","takeEvery("+s(e)+", "+t.name+")")}function u(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,c,u={done:!1,value:(0,o.K)(e)},d=function(e){return{done:!1,value:o.L.apply(void 0,[t].concat(r,[e]))}},h=function(e){return{done:!1,value:(0,o.M)(e)}},m=function(e){return i=e},p=function(e){return c=e};return l({q1:function(){return{nextState:"q2",effect:u,stateUpdater:p}},q2:function(){return i?{nextState:"q3",effect:h(i)}:{nextState:"q1",effect:d(c),stateUpdater:m}},q3:function(){return{nextState:"q1",effect:d(c),stateUpdater:m}}},"q1","takeLatest("+s(e)+", "+t.name+")")}function d(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i,c={done:!1,value:(0,o.K)(e)},u=function(e){return{done:!1,value:o.N.apply(void 0,[t].concat(r,[e]))}},d=function(e){return i=e};return l({q1:function(){return{nextState:"q2",effect:c,stateUpdater:d}},q2:function(){return{nextState:"q1",effect:u(i)}}},"q1","takeLeading("+s(e)+", "+t.name+")")}function h(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var c,u,d={done:!1,value:(0,o.O)(t,(0,o.Q)(1))},h=function(){return{done:!1,value:(0,o.K)(u)}},m=function(e){return{done:!1,value:o.L.apply(void 0,[n].concat(a,[e]))}},p={done:!1,value:(0,o.U)(e)},g=function(e){return c=e},f=function(e){return u=e};return l({q1:function(){return{nextState:"q2",effect:d,stateUpdater:f}},q2:function(){return{nextState:"q3",effect:h(),stateUpdater:g}},q3:function(){return{nextState:"q4",effect:m(c)}},q4:function(){return{nextState:"q2",effect:p}}},"q1","throttle("+s(t)+", "+n.name+")")}function m(e,t,n){for(var r=e,a=arguments.length,s=new Array(a>3?a-3:0),c=3;c<a;c++)s[c-3]=arguments[c];var u={done:!1,value:o.N.apply(void 0,[n].concat(s))},d={done:!1,value:(0,o.U)(t)};return l({q1:function(){return{nextState:"q2",effect:u,errorState:"q10"}},q2:function(){return{nextState:i}},q10:function(e){if((r-=1)<=0)throw e;return{nextState:"q1",effect:d}}},"q1","retry("+n.name+")")}function p(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var c,u,d={done:!1,value:(0,o.K)(t)},h={done:!1,value:(0,o.V)({action:(0,o.K)(t),debounce:(0,o.U)(e)})},m=function(e){return{done:!1,value:o.L.apply(void 0,[n].concat(a,[e]))}},p=function(e){return{done:!1,value:e}},g=function(e){return c=e},f=function(e){return u=e};return l({q1:function(){return{nextState:"q2",effect:d,stateUpdater:g}},q2:function(){return{nextState:"q3",effect:h,stateUpdater:f}},q3:function(){return u.debounce?{nextState:"q1",effect:m(c)}:{nextState:"q2",effect:p(u.action),stateUpdater:g}}},"q1","debounce("+s(t)+", "+n.name+")")}function g(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[c,e,t].concat(r))}function f(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[u,e,t].concat(r))}function v(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return o.L.apply(void 0,[d,e,t].concat(r))}function _(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.L.apply(void 0,[h,e,t,n].concat(a))}function y(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.N.apply(void 0,[m,e,t,n].concat(a))}function b(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];return o.L.apply(void 0,[p,e,t,n].concat(a))}},83594:(e,t,n)=>{"use strict";n.d(t,{CE:()=>h,IX:()=>l,MC:()=>c,NA:()=>p,Om:()=>g,Yl:()=>i,Z_:()=>s,d5:()=>a,eR:()=>m,hZ:()=>u,sR:()=>o,uj:()=>d});var r=n(23143),o=function(e){return null===e||void 0===e},a=function(e){return null!==e&&void 0!==e},i=function(e){return"function"===typeof e},s=function(e){return"string"===typeof e},l=Array.isArray,c=function(e){return e&&i(e.then)},u=function(e){return e&&i(e.next)&&i(e.throw)},d=function e(t){return t&&(s(t)||p(t)||i(t)||l(t)&&t.every(e))},h=function(e){return e&&i(e.take)&&i(e.close)},m=function(e){return i(e)&&e.hasOwnProperty("toString")},p=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype},g=function(e){return h(e)&&e[r.AS]}},23143:(e,t,n)=>{"use strict";n.d(t,{AS:()=>l,Cs:()=>d,EO:()=>m,IO:()=>i,Nm:()=>c,Wd:()=>h,b_:()=>p,n1:()=>o,sC:()=>u,sZ:()=>a,uq:()=>s});var r=function(e){return"@@redux-saga/"+e},o=r("CANCEL_PROMISE"),a=r("CHANNEL_END"),i=r("IO"),s=r("MATCH"),l=r("MULTICAST"),c=r("SAGA_ACTION"),u=r("SELF_CANCELLATION"),d=r("TASK"),h=r("TASK_CANCEL"),m=r("TERMINATE"),p=r("LOCATION")},90759:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);const o=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t}},27452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(2784),o=n(90759);function a(e){var t=(0,o.Z)(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},56876:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);function o(){var e=(0,r.useRef)(!0),t=(0,r.useRef)((function(){return e.current}));return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t.current}},22364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(2784);function o(e){var t=function(e){var t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((function(){return function(){return t.current()}}),[])}},19001:(e,t,n)=>{"use strict";n.d(t,{R:()=>x});var r=n(73135),o=n(58536),a=n(63699),i=n(81757),s=n(97946),l=n(46894),c=n(94388),u=n(21995);function d(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function h(e,t={}){const n="string"===typeof t?t:t.tunnel,r="string"!==typeof t&&t._metadata?t._metadata.sdk:void 0;return n||`${function(e){return`${d(e)}${e.projectId}/envelope/`}(e)}?${function(e,t){return(0,u._j)({sentry_key:e.publicKey,sentry_version:"7",...t&&{sentry_client:`${t.name}/${t.version}`}})}(e,r)}`}var m=n(73232);var p=n(66465),g=n(48889);function f(e,t,n,o){const a={sent_at:(new Date).toISOString()};n&&n.sdk&&(a.sdk={name:n.sdk.name,version:n.sdk.version}),o&&t&&(a.dsn=(0,r.RA)(t));const i=function(e){const t=function(e){let t="";for(const n of e){const e=Object.entries(n.tags),r=e.length>0?`|#${e.map((([e,t])=>`${e}:${t}`)).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${r}|T${n.timestamp}\n`}return t}(e);return[{type:"statsd",length:t.length},t]}(e);return(0,l.Jd)(a,[i])}var v=n(48364),_=n(92980),y=n(48738);const b="Not capturing exception because it's already been captured.";function C(e){return void 0===e.type}function E(e){return"transaction"===e.type}var S=n(76122),T=n(4285),A=n(7790);function w(e,t,n){const r=[{type:"client_report"},{timestamp:n||(0,A.yW)(),discarded_events:e}];return(0,l.Jd)(t?{dsn:t}:{},[r])}var k=n(57631),I=n(31988),P=n(12634);function R(e,{metadata:t,tunnel:n,dsn:o}){const a={event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!o&&{dsn:(0,r.RA)(o)}},i=function(e){return[{type:"user_report"},e]}(e);return(0,l.Jd)(a,[i])}class x extends class{constructor(e){if(this._options=e,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=(0,r.vK)(e.dsn):m.X&&o.kg.warn("No DSN provided, client will not send events."),this._dsn){const t=h(this._dsn,e);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}}captureException(e,t,n){if((0,a.YO)(e))return void(m.X&&o.kg.log(b));let r=t&&t.event_id;return this._process(this.eventFromException(e,t).then((e=>this._captureEvent(e,t,n))).then((e=>{r=e}))),r}captureMessage(e,t,n,r){let o=n&&n.event_id;const a=(0,i.Le)(e)?e:String(e),s=(0,i.pt)(e)?this.eventFromMessage(a,t,n):this.eventFromException(e,n);return this._process(s.then((e=>this._captureEvent(e,n,r))).then((e=>{o=e}))),o}captureEvent(e,t,n){if(t&&t.originalException&&(0,a.YO)(t.originalException))return void(m.X&&o.kg.log(b));let r=t&&t.event_id;const i=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,t,i||n).then((e=>{r=e}))),r}captureSession(e){"string"!==typeof e.release?m.X&&o.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),(0,v.CT)(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const t=this._transport;return t?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(e).then((n=>t.flush(e).then((e=>n&&e))))):(0,s.WD)(!0)}close(e){return this.flush(e).then((e=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),e)))}getEventProcessors(){return this._eventProcessors}addEventProcessor(e){this._eventProcessors.push(e)}setupIntegrations(e){(e&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(e){return this.getIntegrationByName(e)}getIntegrationByName(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return m.X&&o.kg.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){const t=this._integrations[e.name];(0,g.m7)(this,e,this._integrations),t||(0,g.uf)(this,[e])}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);let n=function(e,t,n,r){const o=(0,l.HY)(n),a=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]])}(e,n&&n.sdk);const i=(0,l.Cd)(e,o,r,t);delete e.sdkProcessingMetadata;const s=[{type:a},e];return(0,l.Jd)(i,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);for(const o of t.attachments||[])n=(0,l.BO)(n,(0,l.zQ)(o,this._options.transportOptions&&this._options.transportOptions.textEncoder));const r=this._sendEnvelope(n);r&&r.then((t=>this.emit("afterSendEvent",e,t)),null)}sendSession(e){const t=function(e,t,n,o){const a=(0,l.HY)(n),i={sent_at:(new Date).toISOString(),...a&&{sdk:a},...!!o&&t&&{dsn:(0,r.RA)(t)}},s="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return(0,l.Jd)(i,[s])}(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){const n=`${e}:${t}`;m.X&&o.kg.log(`Adding outcome: "${n}"`),this._outcomes[n]=this._outcomes[n]+1||1}}captureAggregateMetrics(e){m.X&&o.kg.log(`Flushing aggregated metrics, number of metrics: ${e.length}`);const t=f(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach((e=>e(...t)))}_setupIntegrations(){const{integrations:e}=this._options;this._integrations=(0,g.q4)(this,e),(0,g.uf)(this,e),this._integrationsInitialized=!0}_updateSessionFromEvent(e,t){let n=!1,r=!1;const o=t.exception&&t.exception.values;if(o){r=!0;for(const e of o){const t=e.mechanism;if(t&&!1===t.handled){n=!0;break}}}const a="ok"===e.status;(a&&0===e.errors||a&&n)&&((0,v.CT)(e,{...n&&{status:"crashed"},errors:e.errors||Number(r||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new s.cW((t=>{let n=0;const r=setInterval((()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))}),1)}))}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(e,t,n,r=(0,p.aF)()){const o=this.getOptions(),a=Object.keys(this._integrations);return!t.integrations&&a.length>0&&(t.integrations=a),this.emit("preprocessEvent",e,t),(0,y.R)(o,e,t,n,this,r).then((e=>{if(null===e)return e;const t={...r.getPropagationContext(),...n?n.getPropagationContext():void 0};if(!(e.contexts&&e.contexts.trace)&&t){const{traceId:r,spanId:o,parentSpanId:a,dsc:i}=t;e.contexts={trace:{trace_id:r,span_id:o,parent_span_id:a},...e.contexts};const s=i||(0,_._)(r,this,n);e.sdkProcessingMetadata={dynamicSamplingContext:s,...e.sdkProcessingMetadata}}return e}))}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then((e=>e.event_id),(e=>{if(m.X){const t=e;"log"===t.logLevel?o.kg.log(t.message):o.kg.warn(t)}}))}_processEvent(e,t,n){const r=this.getOptions(),{sampleRate:o}=r,a=E(e),l=C(e),u=e.type||"error",d=`before send for type \`${u}\``;if(l&&"number"===typeof o&&Math.random()>o)return this.recordDroppedEvent("sample_rate","error",e),(0,s.$2)(new c.b(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"));const h="replay_event"===u?"replay":u,m=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,m).then((n=>{if(null===n)throw this.recordDroppedEvent("event_processor",h,e),new c.b("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;const o=function(e,t,n){const{beforeSend:r,beforeSendTransaction:o}=e;if(C(t)&&r)return r(t,n);if(E(t)&&o)return o(t,n);return t}(r,n,t);return function(e,t){const n=`${t} must return \`null\` or a valid event.`;if((0,i.J8)(e))return e.then((e=>{if(!(0,i.PO)(e)&&null!==e)throw new c.b(n);return e}),(e=>{throw new c.b(`${t} rejected with ${e}`)}));if(!(0,i.PO)(e)&&null!==e)throw new c.b(n);return e}(o,d)})).then((r=>{if(null===r)throw this.recordDroppedEvent("before_send",h,e),new c.b(`${d} returned \`null\`, will not send event.`,"log");const o=n&&n.getSession();!a&&o&&this._updateSessionFromEvent(o,r);const i=r.transaction_info;if(a&&i&&r.transaction!==e.transaction){const e="custom";r.transaction_info={...i,source:e}}return this.sendEvent(r,t),r})).then(null,(e=>{if(e instanceof c.b)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new c.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)}))}_process(e){this._numProcessing++,e.then((e=>(this._numProcessing--,e)),(e=>(this._numProcessing--,e)))}_sendEnvelope(e){if(this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport)return this._transport.send(e).then(null,(e=>{m.X&&o.kg.error("Error while sending event:",e)}));m.X&&o.kg.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map((t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}}))}}{constructor(e){const t=P.m9.SENTRY_SDK_SOURCE||(0,T.S)();(0,S.V)(e,"browser",["browser"],t),super(e),e.sendClientReports&&P.m9.document&&P.m9.document.addEventListener("visibilitychange",(()=>{"hidden"===P.m9.document.visibilityState&&this._flushOutcomes()}))}eventFromException(e,t){return(0,I.dr)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",n){return(0,I.aB)(this._options.stackParser,e,t,n,this._options.attachStacktrace)}captureUserFeedback(e){if(!this._isEnabled())return void(k.X&&o.kg.warn("SDK not enabled, will not capture user feedback."));const t=R(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(t)}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n)}_flushOutcomes(){const e=this._clearOutcomes();if(0===e.length)return void(k.X&&o.kg.log("No outcomes to send"));if(!this._dsn)return void(k.X&&o.kg.log("No dsn provided, will not send outcomes"));k.X&&o.kg.log("Sending outcomes:",e);const t=w(e,this._options.tunnel&&(0,r.RA)(this._dsn));this._sendEnvelope(t)}}},57631:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},31988:(e,t,n)=>{"use strict";n.d(t,{GJ:()=>c,ME:()=>f,aB:()=>g,dr:()=>p});var r=n(92642),o=n(81757),a=n(69180),i=n(63699),s=n(97946),l=n(21995);function c(e,t){const n=d(e,t),r={type:t&&t.name,value:m(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function u(e,t){return{exception:{values:[c(e,t)]}}}function d(e,t){const n=t.stacktrace||t.stack||"",r=function(e){if(e){if("number"===typeof e.framesToPop)return e.framesToPop;if(h.test(e.message))return 1}return 0}(t);try{return e(n,r)}catch(o){}return[]}const h=/Minified React error #\d+;/i;function m(e){const t=e&&e.message;return t?t.error&&"string"===typeof t.error.message?t.error.message:t:"No error message"}function p(e,t,n,r){const o=f(e,t,n&&n.syntheticException||void 0,r);return(0,i.EG)(o),o.level="error",n&&n.event_id&&(o.event_id=n.event_id),(0,s.WD)(o)}function g(e,t,n="info",r,o){const a=v(e,t,r&&r.syntheticException||void 0,o);return a.level=n,r&&r.event_id&&(a.event_id=r.event_id),(0,s.WD)(a)}function f(e,t,n,s,l){let c;if((0,o.VW)(t)&&t.error){return u(e,t.error)}if((0,o.TX)(t)||(0,o.fm)(t)){const r=t;if("stack"in t)c=u(e,t);else{const t=r.name||((0,o.TX)(r)?"DOMError":"DOMException"),a=r.message?`${t}: ${r.message}`:t;c=v(e,a,n,s),(0,i.Db)(c,a)}return"code"in r&&(c.tags={...c.tags,"DOMException.code":`${r.code}`}),c}if((0,o.VZ)(t))return u(e,t);if((0,o.PO)(t)||(0,o.cO)(t)){return c=function(e,t,n,i){const s=(0,r.s3)(),l=s&&s.getOptions().normalizeDepth,c={exception:{values:[{type:(0,o.cO)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:_(t,{isUnhandledRejection:i})}]},extra:{__serialized__:(0,a.Qy)(t,l)}};if(n){const t=d(e,n);t.length&&(c.exception.values[0].stacktrace={frames:t})}return c}(e,t,n,l),(0,i.EG)(c,{synthetic:!0}),c}return c=v(e,t,n,s),(0,i.Db)(c,`${t}`,void 0),(0,i.EG)(c,{synthetic:!0}),c}function v(e,t,n,r){const a={};if(r&&n){const r=d(e,n);r.length&&(a.exception={values:[{value:t,stacktrace:{frames:r}}]})}if((0,o.Le)(t)){const{__sentry_template_string__:e,__sentry_template_values__:n}=t;return a.logentry={message:e,params:n},a}return a.message=t,a}function _(e,{isUnhandledRejection:t}){const n=(0,l.zf)(e),r=t?"promise rejection":"exception";if((0,o.VW)(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if((0,o.cO)(e)){return`Event \`${function(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch(t){}}(e)}\` (type=${e.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}},12634:(e,t,n)=>{"use strict";n.d(t,{Wz:()=>c,m9:()=>s,re:()=>d});var r=n(92642),o=n(90063),a=n(21995),i=n(63699);const s=o.GLOBAL_OBJ;let l=0;function c(){return l>0}function u(){l++,setTimeout((()=>{l--}))}function d(e,t={},n){if("function"!==typeof e)return e;try{const t=e.__sentry_wrapped__;if(t)return t;if((0,a.HK)(e))return e}catch(s){return e}const o=function(){const o=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);const r=o.map((e=>d(e,t)));return e.apply(this,r)}catch(a){throw u(),(0,r.$e)((e=>{e.addEventProcessor((e=>(t.mechanism&&((0,i.Db)(e,void 0,void 0),(0,i.EG)(e,t.mechanism)),e.extra={...e.extra,arguments:o},e))),(0,r.Tb)(a)})),a}};try{for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(o[t]=e[t])}catch(l){}(0,a.$Q)(o,e),(0,a.xp)(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:()=>e.name})}catch(l){}return o}},60384:(e,t,n)=>{"use strict";n.d(t,{jK:()=>S});var r={};n.r(r),n.d(r,{FunctionToString:()=>a.c,InboundFilters:()=>i.Q,LinkedErrors:()=>m});var o={};n.r(o),n.d(o,{Breadcrumbs:()=>_.O,Dedupe:()=>C.I,GlobalHandlers:()=>f.d,HttpContext:()=>b.q,LinkedErrors:()=>y.i,TryCatch:()=>v.p});var a=n(76286),i=n(21061),s=n(24085);function l(e,t){return e(t.stack||"",1)}function c(e,t){const n={type:t.name||t.constructor.name,value:t.message},r=l(e,t);return r.length&&(n.stacktrace={frames:r}),n}var u=n(48889);const d="LinkedErrors",h=(0,u._I)(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:d,setupOnce(){},preprocessEvent(e,r,o){const a=o.getOptions();(0,s.Z)(c,a.stackParser,a.maxValueLength,n,t,e,r)}}})),m=(0,u.RN)(d,h),p=r;var g=n(12634),f=n(81228),v=n(53399),_=n(46854),y=n(63440),b=n(22605),C=n(30184);let E={};g.m9.Sentry&&g.m9.Sentry.Integrations&&(E=g.m9.Sentry.Integrations);const S={...E,...p,...o}},46854:(e,t,n)=>{"use strict";n.d(t,{O:()=>R,f:()=>P});var r=n(48889),o=n(92642),a=n(58536),i=n(21995),s=n(90063),l=n(94618);function c(){"console"in s.GLOBAL_OBJ&&a.RU.forEach((function(e){e in s.GLOBAL_OBJ.console&&(0,i.hl)(s.GLOBAL_OBJ.console,e,(function(t){return a.LD[e]=t,function(...t){const n={args:t,level:e};(0,l.rK)("console",n);const r=a.LD[e];r&&r.apply(s.GLOBAL_OBJ.console,t)}}))}))}var u=n(63699);const d=s.GLOBAL_OBJ;let h,m,p;function g(){if(!d.document)return;const e=l.rK.bind(null,"dom"),t=f(e,!0);d.document.addEventListener("click",t,!1),d.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((t=>{const n=d[t]&&d[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,i.hl)(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this,a=r.__sentry_instrumentation_handlers__=r.__sentry_instrumentation_handlers__||{},i=a[n]=a[n]||{refCount:0};if(!i.handler){const r=f(e);i.handler=r,t.call(this,n,r,o)}i.refCount++}catch(a){}return t.call(this,n,r,o)}})),(0,i.hl)(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{const n=this,o=n.__sentry_instrumentation_handlers__||{},a=o[t];a&&(a.refCount--,a.refCount<=0&&(e.call(this,t,a.handler,r),a.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete n.__sentry_instrumentation_handlers__)}catch(o){}return e.call(this,t,n,r)}})))}))}function f(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(e){try{return e.target}catch(t){return null}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable)}(n.type,r))return;(0,i.xp)(n,"_sentryCaptured",!0),r&&!r._sentryId&&(0,i.xp)(r,"_sentryId",(0,u.DM)());const o="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==m)return!1;try{if(!e.target||e.target._sentryId!==p)return!1}catch(t){}return!0}(n)){e({event:n,name:o,global:t}),m=n.type,p=r?r._sentryId:void 0}clearTimeout(h),h=d.setTimeout((()=>{p=void 0,m=void 0}),1e3)}}var v=n(28315),_=n(12633),y=n(2311),b=n(54194);const C=["fatal","error","warning","log","info","debug"];function E(e){return"warn"===e?"warning":C.includes(e)?e:"log"}var S=n(39660),T=n(33483),A=n(57631),w=n(12634);const k=1024,I="Breadcrumbs",P=(0,r._I)(((e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:I,setupOnce(){},setup(e){var n;t.console&&function(e){const t="console";(0,l.Hj)(t,e),(0,l.D2)(t,c)}(function(e){return function(t){if((0,o.s3)()!==e)return;const n={category:"console",data:{arguments:t.args,logger:"console"},level:E(t.level),message:(0,S.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${(0,S.nK)(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1)}(0,o.n_)(n,{input:t.args,level:t.level})}}(e)),t.dom&&(n=function(e,t){return function(n){if((0,o.s3)()!==e)return;let r,i,s="object"===typeof t?t.serializeAttribute:void 0,l="object"===typeof t&&"number"===typeof t.maxStringLength?t.maxStringLength:void 0;l&&l>k&&(A.X&&a.kg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${l} was configured. Sentry will use 1024 instead.`),l=k),"string"===typeof s&&(s=[s]);try{const e=n.event,t=function(e){return!!e&&!!e.target}(e)?e.target:e;r=(0,b.Rt)(t,{keyAttrs:s,maxStringLength:l}),i=(0,b.iY)(t)}catch(u){r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};i&&(c.data={"ui.component_name":i}),(0,o.n_)(c,{event:n.event,name:n.name,global:n.global})}}(e,t.dom),(0,l.Hj)("dom",n),(0,l.D2)("dom",g)),t.xhr&&(0,v.UK)(function(e){return function(t){if((0,o.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t,a=t.xhr[v.xU];if(!n||!r||!a)return;const{method:i,url:s,status_code:l,body:c}=a,u={method:i,url:s,status_code:l},d={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};(0,o.n_)({category:"xhr",data:u,type:"http"},d)}}(e)),t.fetch&&(0,_.U)(function(e){return function(t){if((0,o.s3)()!==e)return;const{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){const e=t.fetchData,a={data:t.error,input:t.args,startTimestamp:n,endTimestamp:r};(0,o.n_)({category:"fetch",data:e,level:"error",type:"http"},a)}else{const e=t.response,a={...t.fetchData,status_code:e&&e.status},i={input:t.args,response:e,startTimestamp:n,endTimestamp:r};(0,o.n_)({category:"fetch",data:a,type:"http"},i)}}}(e)),t.history&&(0,y.a)(function(e){return function(t){if((0,o.s3)()!==e)return;let n=t.from,r=t.to;const a=(0,T.en)(w.m9.location.href);let i=n?(0,T.en)(n):void 0;const s=(0,T.en)(r);i&&i.path||(i=a),a.protocol===s.protocol&&a.host===s.host&&(r=s.relative),a.protocol===i.protocol&&a.host===i.host&&(n=i.relative),(0,o.n_)({category:"navigation",data:{from:n,to:r}})}}(e)),t.sentry&&e.on&&e.on("beforeSendEvent",function(e){return function(t){(0,o.s3)()===e&&(0,o.n_)({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,u.jH)(t)},{event:t})}}(e))}}})),R=(0,r.RN)(I,P)},30184:(e,t,n)=>{"use strict";n.d(t,{I:()=>l,R:()=>s});var r=n(48889),o=n(58536),a=n(57631);const i="Dedupe",s=(0,r._I)((()=>{let e;return{name:i,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!u(e,t))return!1;if(!c(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=d(t),r=d(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!u(e,t))return!1;if(!c(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return a.X&&o.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}})),l=(0,r.RN)(i,s);function c(e,t){let n=h(e),r=h(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function u(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function d(e){return e.exception&&e.exception.values&&e.exception.values[0]}function h(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}},81228:(e,t,n)=>{"use strict";n.d(t,{d:()=>g,k:()=>p});var r=n(48889),o=n(92642),a=n(21240),i=n(81757),s=n(82146),l=n(54194),c=n(58536),u=n(57631),d=n(31988),h=n(12634);const m="GlobalHandlers",p=(0,r._I)(((e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:m,setupOnce(){Error.stackTraceLimit=50},setup(e){t.onerror&&(!function(e){(0,a.V)((t=>{const{stackParser:n,attachStacktrace:r}=_();if((0,o.s3)()!==e||(0,h.Wz)())return;const{msg:a,url:s,line:l,column:c,error:u}=t,m=void 0===u&&(0,i.HD)(a)?function(e,t,n,r){const o=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let a=(0,i.VW)(e)?e.message:e,s="Error";const l=a.match(o);l&&(s=l[1],a=l[2]);return f({exception:{values:[{type:s,value:a}]}},t,n,r)}(a,s,l,c):f((0,d.ME)(n,u||a,void 0,r,!1),s,l,c);m.level="error",(0,o.eN)(m,{originalException:u,mechanism:{handled:!1,type:"onerror"}})}))}(e),v("onerror")),t.onunhandledrejection&&(!function(e){(0,s.h)((t=>{const{stackParser:n,attachStacktrace:r}=_();if((0,o.s3)()!==e||(0,h.Wz)())return;const a=function(e){if((0,i.pt)(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch(n){}return e}(t),s=(0,i.pt)(a)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(a)}`}]}}:(0,d.ME)(n,a,void 0,r,!0);s.level="error",(0,o.eN)(s,{originalException:a,mechanism:{handled:!1,type:"onunhandledrejection"}})}))}(e),v("onunhandledrejection"))}}})),g=(0,r.RN)(m,p);function f(e,t,n,r){const o=e.exception=e.exception||{},a=o.values=o.values||[],s=a[0]=a[0]||{},c=s.stacktrace=s.stacktrace||{},u=c.frames=c.frames||[],d=isNaN(parseInt(r,10))?void 0:r,h=isNaN(parseInt(n,10))?void 0:n,m=(0,i.HD)(t)&&t.length>0?t:(0,l.l4)();return 0===u.length&&u.push({colno:d,filename:m,function:"?",in_app:!0,lineno:h}),e}function v(e){u.X&&c.kg.log(`Global Handler attached: ${e}`)}function _(){const e=(0,o.s3)();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}},22605:(e,t,n)=>{"use strict";n.d(t,{q:()=>s,s:()=>i});var r=n(48889),o=n(12634);const a="HttpContext",i=(0,r._I)((()=>({name:a,setupOnce(){},preprocessEvent(e){if(!o.m9.navigator&&!o.m9.location&&!o.m9.document)return;const t=e.request&&e.request.url||o.m9.location&&o.m9.location.href,{referrer:n}=o.m9.document||{},{userAgent:r}=o.m9.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},i={...e.request,...t&&{url:t},headers:a};e.request=i}}))),s=(0,r.RN)(a,i)},63440:(e,t,n)=>{"use strict";n.d(t,{O:()=>s,i:()=>l});var r=n(48889),o=n(24085),a=n(31988);const i="LinkedErrors",s=(0,r._I)(((e={})=>{const t=e.limit||5,n=e.key||"cause";return{name:i,setupOnce(){},preprocessEvent(e,r,i){const s=i.getOptions();(0,o.Z)(a.GJ,s.stackParser,s.maxValueLength,n,t,e,r)}}})),l=(0,r.RN)(i,s)},53399:(e,t,n)=>{"use strict";n.d(t,{p:()=>u,t:()=>c});var r=n(48889),o=n(21995),a=n(69038),i=n(12634);const s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],l="TryCatch",c=(0,r._I)(((e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:l,setupOnce(){t.setTimeout&&(0,o.hl)(i.m9,"setTimeout",d),t.setInterval&&(0,o.hl)(i.m9,"setInterval",d),t.requestAnimationFrame&&(0,o.hl)(i.m9,"requestAnimationFrame",h),t.XMLHttpRequest&&"XMLHttpRequest"in i.m9&&(0,o.hl)(XMLHttpRequest.prototype,"send",m);const e=t.eventTarget;if(e){(Array.isArray(e)?e:s).forEach(p)}}}})),u=(0,r.RN)(l,c);function d(e){return function(...t){const n=t[0];return t[0]=(0,i.re)(n,{mechanism:{data:{function:(0,a.$P)(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function h(e){return function(t){return e.apply(this,[(0,i.re)(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,a.$P)(e)},handled:!1,type:"instrument"}})])}}function m(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((e=>{e in n&&"function"===typeof n[e]&&(0,o.hl)(n,e,(function(t){const n={mechanism:{data:{function:e,handler:(0,a.$P)(t)},handled:!1,type:"instrument"}},r=(0,o.HK)(t);return r&&(n.mechanism.data.handler=(0,a.$P)(r)),(0,i.re)(t,n)}))})),e.apply(this,t)}}function p(e){const t=i.m9,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,o.hl)(n,"addEventListener",(function(t){return function(n,r,o){try{"function"===typeof r.handleEvent&&(r.handleEvent=(0,i.re)(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,a.$P)(r),target:e},handled:!1,type:"instrument"}}))}catch(s){}return t.apply(this,[n,(0,i.re)(r,{mechanism:{data:{function:"addEventListener",handler:(0,a.$P)(r),target:e},handled:!1,type:"instrument"}}),o])}})),(0,o.hl)(n,"removeEventListener",(function(e){return function(t,n,r){const o=n;try{const n=o&&o.__sentry_wrapped__;n&&e.call(this,t,n,r)}catch(a){}return e.call(this,t,o,r)}})))}},2224:(e,t,n)=>{"use strict";n.d(t,{Dt:()=>h});var r=n(69038);const o="?";function a(e,t,n,r){const o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const i=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/\((\S*)(?::(\d+))(?::(\d+))\)/,l=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=[[30,e=>{const t=i.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){const e=s.exec(t[2]);e&&(t[2]=e[1],t[3]=e[2],t[4]=e[3])}const[e,n]=m(t[1]||o,t[2]);return a(n,e,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],[50,e=>{const t=l.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const e=c.exec(t[3]);e&&(t[1]=t[1]||"eval",t[3]=e[1],t[4]=e[2],t[5]="")}let e=t[3],n=t[1]||o;return[n,e]=m(n,e),a(e,n,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],[40,e=>{const t=u.exec(e);return t?a(t[2],t[1]||o,+t[3],t[4]?+t[4]:void 0):void 0}]],h=(0,r.pE)(...d),m=(e,t)=>{const n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:o,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]}},56106:(e,t,n)=>{"use strict";n.d(t,{f:()=>u});var r=n(94923),o=n(97946),a=n(49798),i=n(58536),s=n(57631),l=n(12634);let c;function u(e,t=function(){if(c)return c;if((0,a.Du)(l.m9.fetch))return c=l.m9.fetch.bind(l.m9);const e=l.m9.document;let t=l.m9.fetch;if(e&&"function"===typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){s.X&&i.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return c=t.bind(l.m9)}()){let n=0,u=0;return(0,r.q)(e,(function(r){const a=r.body.length;n+=a,u++;const i={body:r.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&u<15,...e.fetchOptions};try{return t(e.url,i).then((e=>(n-=a,u--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}})))}catch(s){return c=void 0,n-=a,u--,(0,o.$2)(s)}}))}},8589:(e,t,n)=>{"use strict";n.d(t,{RP:()=>u,cc:()=>c,fH:()=>l});var r=n(90063),o=n(97946),a=n(58536),i=n(81757),s=n(73232);function l(){return(0,r.Y)("globalEventProcessors",(()=>[]))}function c(e){l().push(e)}function u(e,t,n,r=0){return new o.cW(((o,l)=>{const c=e[r];if(null===t||"function"!==typeof c)o(t);else{const d=c({...t},n);s.X&&c.id&&null===d&&a.kg.log(`Event processor "${c.id}" dropped event`),(0,i.J8)(d)?d.then((t=>u(e,t,n,r+1).then(o))).then(null,l):u(e,d,n,r+1).then(o).then(null,l)}}))}},92642:(e,t,n)=>{"use strict";n.d(t,{$e:()=>p,Tb:()=>u,Yr:()=>g,av:()=>m,cg:()=>E,eN:()=>d,nZ:()=>_,n_:()=>h,s3:()=>v,xv:()=>f,yj:()=>y});var r=n(58536),o=n(90063),a=n(66417),i=n(73232),s=n(66465),l=n(48364),c=n(48738);function u(e,t){return(0,s.Gd)().captureException(e,(0,c.U0)(t))}function d(e,t){return(0,s.Gd)().captureEvent(e,t)}function h(e,t){(0,s.Gd)().addBreadcrumb(e,t)}function m(e){(0,s.Gd)().setUser(e)}function p(...e){const t=(0,s.Gd)();if(2===e.length){const[n,r]=e;return n?t.withScope((()=>(t.getStackTop().scope=n,r(n)))):t.withScope(r)}return t.withScope(e[0])}function g(e,t){return(0,s.Gd)().startTransaction({...e},t)}async function f(e){const t=v();return t?t.close(e):(i.X&&r.kg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function v(){return(0,s.Gd)().getClient()}function _(){return(0,s.Gd)().getScope()}function y(e){const t=v(),n=(0,s.aF)(),r=_(),{release:i,environment:c=a.J}=t&&t.getOptions()||{},{userAgent:u}=o.GLOBAL_OBJ.navigator||{},d=(0,l.Hv)({release:i,environment:c,user:r.getUser()||n.getUser(),...u&&{userAgent:u},...e}),h=n.getSession();return h&&"ok"===h.status&&(0,l.CT)(h,{status:"exited"}),b(),n.setSession(d),r.setSession(d),d}function b(){const e=(0,s.aF)(),t=_(),n=t.getSession()||e.getSession();n&&(0,l.RJ)(n),C(),e.setSession(),t.setSession()}function C(){const e=(0,s.aF)(),t=_(),n=v(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function E(e=!1){e?b():C()}},48889:(e,t,n)=>{"use strict";n.d(t,{RN:()=>m,_I:()=>p,m7:()=>h,m8:()=>c,q4:()=>u,uf:()=>d});var r=n(63699),o=n(58536),a=n(73232),i=n(8589),s=n(66465);const l=[];function c(e){const t=e.defaultIntegrations||[],n=e.integrations;let o;t.forEach((e=>{e.isDefaultInstance=!0})),o=Array.isArray(n)?[...t,...n]:"function"===typeof n?(0,r.lE)(n(t)):t;const a=function(e){const t={};return e.forEach((e=>{const{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e)})),Object.keys(t).map((e=>t[e]))}(o),i=function(e,t){for(let n=0;n<e.length;n++)if(!0===t(e[n]))return n;return-1}(a,(e=>"Debug"===e.name));if(-1!==i){const[e]=a.splice(i,1);a.push(e)}return a}function u(e,t){const n={};return t.forEach((t=>{t&&h(e,t,n)})),n}function d(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function h(e,t,n){if(n[t.name])a.X&&o.kg.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===l.indexOf(t.name)&&(t.setupOnce(i.cc,s.Gd),l.push(t.name)),t.setup&&"function"===typeof t.setup&&t.setup(e),e.on&&"function"===typeof t.preprocessEvent){const n=t.preprocessEvent.bind(t);e.on("preprocessEvent",((t,r)=>n(t,r,e)))}if(e.addEventProcessor&&"function"===typeof t.processEvent){const n=t.processEvent.bind(t),r=Object.assign(((t,r)=>n(t,r,e)),{id:t.name});e.addEventProcessor(r)}a.X&&o.kg.log(`Integration installed: ${t.name}`)}}function m(e,t){return Object.assign((function(...e){return t(...e)}),{id:e})}function p(e){return e}},76286:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,c:()=>u});var r=n(21995),o=n(92642),a=n(48889);let i;const s="FunctionToString",l=new WeakMap,c=(0,a._I)((()=>({name:s,setupOnce(){i=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=(0,r.HK)(this),n=l.has((0,o.s3)())&&void 0!==t?t:this;return i.apply(n,e)}}catch(e){}},setup(e){l.set(e,!0)}}))),u=(0,a.RN)(s,c)},21061:(e,t,n)=>{"use strict";n.d(t,{Q:()=>h,S:()=>d});var r=n(58536),o=n(63699),a=n(39660),i=n(73232),s=n(48889);const l=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],c=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],u="InboundFilters",d=(0,s._I)(((e={})=>({name:u,setupOnce(){},processEvent(t,n,s){const u=s.getOptions(),d=function(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:l],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:c],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(e,u);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(t){}return!1}(e))return i.X&&r.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,o.jH)(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch(a){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));i.X&&0===t.length&&r.kg.error(`Could not extract message for event ${(0,o.jH)(e)}`);return t}(e).some((e=>(0,a.U0)(e,t)))}(e,t.ignoreErrors))return i.X&&r.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,o.jH)(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;const n=e.transaction;return!!n&&(0,a.U0)(n,t)}(e,t.ignoreTransactions))return i.X&&r.kg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${(0,o.jH)(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;const n=m(e);return!!n&&(0,a.U0)(n,t)}(e,t.denyUrls))return i.X&&r.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,o.jH)(e)}.\nUrl: ${m(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;const n=m(e);return!n||(0,a.U0)(n,t)}(e,t.allowUrls))return i.X&&r.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,o.jH)(e)}.\nUrl: ${m(e)}`),!0;return!1}(t,d)?null:t}}))),h=(0,s.RN)(u,d);function m(e){try{let n;try{n=e.exception.values[0].stacktrace.frames}catch(t){}return n?function(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch(n){return i.X&&r.kg.error(`Cannot extract url for event ${(0,o.jH)(e)}`),null}}},51877:(e,t,n)=>{"use strict";n.d(t,{lW:()=>h,sX:()=>d});var r=n(81757),o=n(7790),a=n(63699),i=n(58536),s=n(8589),l=n(48364),c=n(29390);let u;class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=m()}static clone(e){return e?e.clone():new d}clone(){const e=new d;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._span=this._span,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e}setClient(e){this._client=e}getClient(){return this._client}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&(0,l.CT)(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this._span;return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const t="function"===typeof e?e(this):e;if(t instanceof d){const e=t.getScopeData();this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&Object.keys(e.user).length&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint.length&&(this._fingerprint=e.fingerprint),t.getRequestSession()&&(this._requestSession=t.getRequestSession()),e.propagationContext&&(this._propagationContext=e.propagationContext)}else if((0,r.PO)(t)){const t=e;this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=m(),this}addBreadcrumb(e,t){const n="number"===typeof t?t:100;if(n<=0)return this;const r={timestamp:(0,o.yW)(),...e},a=this._breadcrumbs;return a.push(r),this._breadcrumbs=a.length>n?a.slice(-n):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:e,_attachments:t,_contexts:n,_tags:r,_extra:o,_user:a,_level:i,_fingerprint:s,_eventProcessors:l,_propagationContext:c,_sdkProcessingMetadata:u,_transactionName:d,_span:h}=this;return{breadcrumbs:e,attachments:t,contexts:n,tags:r,extra:o,user:a,level:i,fingerprint:s||[],eventProcessors:l,propagationContext:c,sdkProcessingMetadata:u,transactionName:d,span:h}}applyToEvent(e,t={},n=[]){(0,c.gi)(e,this.getScopeData());const r=[...n,...(0,s.fH)(),...this._eventProcessors];return(0,s.RP)(r,e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,t){const n=t&&t.event_id?t.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n}captureMessage(e,t,n){const r=n&&n.event_id?n.event_id:(0,a.DM)();if(!this._client)return i.kg.warn("No client configured on scope - will not capture message!"),r;const o=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:o,...n,event_id:r},this),r}captureEvent(e,t){const n=t&&t.event_id?t.event_id:(0,a.DM)();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(i.kg.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((e=>{e(this)})),this._notifyingListeners=!1)}}function h(){return u||(u=new d),u}function m(){return{traceId:(0,a.DM)(),spanId:(0,a.DM)().substring(16)}}},42145:(e,t,n)=>{"use strict";n.d(t,{GK:()=>u,HN:()=>h,I1:()=>v,qp:()=>d});var r=n(21995),o=n(66465),a=n(43002),i=n(92980),s=n(92642),l=n(88043),c=n(12712);function u(e,t){const n=p(e);return(0,o.Ok)((()=>(0,s.$e)(e.scope,(r=>{const i=(0,o.Gd)(),s=r.getSpan(),c=e.onlyIfParent&&!s?void 0:m(i,{parentSpan:s,spanContext:n,forceTransaction:e.forceTransaction,scope:r});return(0,l.i)((()=>t(c)),(()=>{if(c){const{status:e}=(0,a.XU)(c);e&&"ok"!==e||c.setStatus("internal_error")}}),(()=>c&&c.end()))}))))}function d(e){if(!(0,c.z)())return;const t=p(e),n=(0,o.Gd)(),r=e.scope?e.scope.getSpan():h();if(e.onlyIfParent&&!r)return;const a=(e.scope||(0,s.nZ)()).clone();return m(n,{parentSpan:r,spanContext:t,forceTransaction:e.forceTransaction,scope:a})}function h(){return(0,s.nZ)().getSpan()}function m(e,{parentSpan:t,spanContext:n,forceTransaction:s,scope:l}){if(!(0,c.z)())return;const u=(0,o.aF)();let d;if(t&&!s)d=t.startChild(n);else if(t){const r=(0,i.j)(t),{traceId:o,spanId:s}=t.spanContext(),l=(0,a.Tt)(t);d=e.startTransaction({traceId:o,parentSpanId:s,parentSampled:l,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}else{const{traceId:t,dsc:r,parentSpanId:o,sampled:a}={...u.getPropagationContext(),...l.getPropagationContext()};d=e.startTransaction({traceId:t,parentSpanId:o,parentSampled:a,...n,metadata:{dynamicSamplingContext:r,...n.metadata}})}return l.setSpan(d),function(e,t,n){e&&((0,r.xp)(e,f,n),(0,r.xp)(e,g,t))}(d,l,u),d}function p(e){if(e.startTime){const t={...e};return t.startTimestamp=(0,a.$k)(e.startTime),delete t.startTime,t}return e}const g="_sentryScope",f="_sentryIsolationScope";function v(e){return{scope:e._sentryScope,isolationScope:e._sentryIsolationScope}}},94923:(e,t,n)=>{"use strict";n.d(t,{q:()=>u});var r=n(94388),o=n(97946);function a(e){const t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(a){if(!(void 0===e||t.length<e))return(0,o.$2)(new r.b("Not adding Promise because buffer limit was reached."));const i=a();return-1===t.indexOf(i)&&t.push(i),i.then((()=>n(i))).then(null,(()=>n(i).then(null,(()=>{})))),i},drain:function(e){return new o.cW(((n,r)=>{let a=t.length;if(!a)return n(!0);const i=setTimeout((()=>{e&&e>0&&n(!1)}),e);t.forEach((e=>{(0,o.WD)(e).then((()=>{--a||(clearTimeout(i),n(!0))}),r)}))}))}}}var i=n(46894);function s(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},a=n&&n["x-sentry-rate-limits"],i=n&&n["retry-after"];if(a)for(const s of a.trim().split(",")){const[e,t,,,n]=s.split(":",5),a=parseInt(e,10),i=1e3*(isNaN(a)?60:a);if(t)for(const s of t.split(";"))"metric_bucket"===s&&n&&!n.split(";").includes("custom")||(o[s]=r+i);else o.all=r+i}else i?o.all=r+function(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${e}`);return isNaN(r)?6e4:r-t}(i,r):429===t&&(o.all=r+6e4);return o}var l=n(58536),c=n(73232);function u(e,t,n=a(e.bufferSize||30)){let u={};function h(a){const h=[];if((0,i.gv)(a,((t,n)=>{const r=(0,i.mL)(n);if(function(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0}(e,t)>n}(u,r)){const o=d(t,n);e.recordDroppedEvent("ratelimit_backoff",r,o)}else h.push(t)})),0===h.length)return(0,o.WD)();const m=(0,i.Jd)(a[0],h),p=t=>{(0,i.gv)(m,((n,r)=>{const o=d(n,r);e.recordDroppedEvent(t,(0,i.mL)(r),o)}))};return n.add((()=>t({body:(0,i.V$)(m,e.textEncoder)}).then((e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&c.X&&l.kg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),u=s(u,e),e)),(e=>{throw p("network_error"),e})))).then((e=>e),(e=>{if(e instanceof r.b)return c.X&&l.kg.error("Skipped sending event because buffer is full."),p("queue_overflow"),(0,o.WD)();throw e}))}return h.__sentry__baseTransport__=!0,{send:h,flush:e=>n.drain(e)}}function d(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0}},29390:(e,t,n)=>{"use strict";n.d(t,{gi:()=>l,yo:()=>c});var r=n(21995),o=n(63699),a=n(92980),i=n(85112),s=n(43002);function l(e,t){const{fingerprint:n,span:l,breadcrumbs:c,sdkProcessingMetadata:u}=t;!function(e,t){const{extra:n,tags:o,user:a,contexts:i,level:s,transactionName:l}=t,c=(0,r.Jr)(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});const u=(0,r.Jr)(o);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=(0,r.Jr)(a);d&&Object.keys(d).length&&(e.user={...d,...e.user});const h=(0,r.Jr)(i);h&&Object.keys(h).length&&(e.contexts={...h,...e.contexts});s&&(e.level=s);l&&(e.transaction=l)}(e,t),l&&function(e,t){e.contexts={trace:(0,s.wy)(t),...e.contexts};const n=(0,i.G)(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:(0,a.j)(t),...e.sdkProcessingMetadata};const r=(0,s.XU)(n).description;r&&(e.tags={transaction:r,...e.tags})}}(e,l),function(e,t){e.fingerprint=e.fingerprint?(0,o.lE)(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}(e,n),function(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}(e,c),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}(e,u)}function c(e,t){const{extra:n,tags:r,user:o,contexts:a,level:i,sdkProcessingMetadata:s,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:h,propagationContext:m,transactionName:p,span:g}=t;u(e,"extra",n),u(e,"tags",r),u(e,"user",o),u(e,"contexts",a),u(e,"sdkProcessingMetadata",s),i&&(e.level=i),p&&(e.transactionName=p),g&&(e.span=g),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),h.length&&(e.attachments=[...e.attachments,...h]),e.propagationContext={...e.propagationContext,...m}}function u(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}},48738:(e,t,n)=>{"use strict";n.d(t,{R:()=>m,U0:()=>g});var r=n(63699),o=n(7790),a=n(39660),i=n(90063),s=n(69180),l=n(66417),c=n(8589),u=n(51877),d=n(29390),h=n(43002);function m(e,t,n,m,g,f){const{normalizeDepth:v=3,normalizeMaxBreadth:_=1e3}=e,y={...t,event_id:t.event_id||n.event_id||(0,r.DM)(),timestamp:t.timestamp||(0,o.yW)()},b=n.integrations||e.integrations.map((e=>e.name));!function(e,t){const{environment:n,release:r,dist:o,maxValueLength:i=250}=t;"environment"in e||(e.environment="environment"in t?n:l.J);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==o&&(e.dist=o);e.message&&(e.message=(0,a.$G)(e.message,i));const s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=(0,a.$G)(s.value,i));const c=e.request;c&&c.url&&(c.url=(0,a.$G)(c.url,i))}(y,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}(y,b),void 0===t.type&&function(e,t){const n=i.GLOBAL_OBJ._sentryDebugIds;if(!n)return;let r;const o=p.get(t);o?r=o:(r=new Map,p.set(t,r));const a=Object.keys(n).reduce(((e,o)=>{let a;const i=r.get(o);i?a=i:(a=t(o),r.set(o,a));for(let t=a.length-1;t>=0;t--){const r=a[t];if(r.filename){e[r.filename]=n[o];break}}return e}),{});try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.filename&&(e.debug_id=a[e.filename])}))}))}catch(s){}}(y,e.stackParser);const C=function(e,t){if(!t)return e;const n=e?e.clone():new u.sX;return n.update(t),n}(m,n.captureContext);n.mechanism&&(0,r.EG)(y,n.mechanism);const E=g&&g.getEventProcessors?g.getEventProcessors():[],S=(0,u.lW)().getScopeData();if(f){const e=f.getScopeData();(0,d.yo)(S,e)}if(C){const e=C.getScopeData();(0,d.yo)(S,e)}const T=[...n.attachments||[],...S.attachments];T.length&&(n.attachments=T),(0,d.gi)(y,S);const A=[...E,...(0,c.fH)(),...S.eventProcessors];return(0,c.RP)(A,y,n).then((e=>(e&&function(e){const t={};try{e.exception.values.forEach((e=>{e.stacktrace.frames.forEach((e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id)}))}))}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach((e=>{n.push({type:"sourcemap",code_file:e,debug_id:t[e]})}))}(e),"number"===typeof v&&v>0?function(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((e=>({...e,...e.data&&{data:(0,s.Fv)(e.data,t,n)}})))},...e.user&&{user:(0,s.Fv)(e.user,t,n)},...e.contexts&&{contexts:(0,s.Fv)(e.contexts,t,n)},...e.extra&&{extra:(0,s.Fv)(e.extra,t,n)}};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=(0,s.Fv)(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map((e=>{const r=(0,h.XU)(e).data;return r&&(e.data=(0,s.Fv)(r,t,n)),e})));return r}(e,v,_):e)))}const p=new WeakMap;function g(e){if(e)return function(e){return e instanceof u.sX||"function"===typeof e}(e)||function(e){return Object.keys(e).some((e=>f.includes(e)))}(e)?{captureContext:e}:e}const f=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"]},76122:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(91476);function o(e,t,n=[t],o="npm"){const a=e._metadata||{};a.sdk||(a.sdk={name:`sentry.javascript.${t}`,packages:n.map((e=>({name:`${o}:@sentry/${e}`,version:r.J}))),version:r.J}),e._metadata=a}},66212:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},26411:(e,t,n)=>{"use strict";n.d(t,{Iq:()=>l,RH:()=>s});var r=n(48889),o=n(58536),a=n(66212);const i="Dedupe",s=(0,r._I)((()=>{let e;return{name:i,setupOnce(){},processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){const n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!u(e,t))return!1;if(!c(e,t))return!1;return!0}(e,t))return!0;if(function(e,t){const n=d(t),r=d(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!u(e,t))return!1;if(!c(e,t))return!1;return!0}(e,t))return!0;return!1}(t,e))return a.X&&o.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(n){}return e=t}}})),l=(0,r.RN)(i,s);function c(e,t){let n=h(e),r=h(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let o=0;o<r.length;o++){const e=r[o],t=n[o];if(e.filename!==t.filename||e.lineno!==t.lineno||e.colno!==t.colno||e.function!==t.function)return!1}return!0}function u(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(o){return!1}}function d(e){return e.exception&&e.exception.values&&e.exception.values[0]}function h(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}},18796:(e,t,n)=>{"use strict";n.d(t,{S:()=>d});var r=n(48889),o=n(81757),a=n(69180),i=n(21995),s=n(58536),l=n(66212);const c="ExtraErrorData",u=(0,r._I)(((e={})=>{const t=e.depth||3,n=e.captureErrorCause||!1;return{name:c,setupOnce(){},processEvent:(e,r)=>function(e,t={},n,r){if(!t.originalException||!(0,o.VZ)(t.originalException))return e;const c=t.originalException.name||t.originalException.constructor.name,u=function(e,t){try{const n=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],r={};for(const t of Object.keys(e)){if(-1!==n.indexOf(t))continue;const a=e[t];r[t]=(0,o.VZ)(a)?a.toString():a}if(t&&void 0!==e.cause&&(r.cause=(0,o.VZ)(e.cause)?e.cause.toString():e.cause),"function"===typeof e.toJSON){const t=e.toJSON();for(const e of Object.keys(t)){const n=t[e];r[e]=(0,o.VZ)(n)?n.toString():n}}return r}catch(n){l.X&&s.kg.error("Unable to extract extra data from the Error object:",n)}return null}(t.originalException,r);if(u){const t={...e.contexts},r=(0,a.Fv)(u,n);return(0,o.PO)(r)&&((0,i.xp)(r,"__sentry_skip_normalization__",!0),t[c]=r),{...e,contexts:t}}return e}(e,r,t,n)}})),d=(0,r.RN)(c,u)},68651:(e,t,n)=>{"use strict";n.d(t,{S:()=>x});var r=n(21061),o=n(76286),a=n(48889),i=n(58536),s=n(73232),l=n(92642),c=n(66465);function u(e,t){!0===t.debug&&(s.X?i.kg.enable():(0,i.Cf)((()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})));(0,l.nZ)().update(t.initialScope);const n=new e(t);!function(e){const t=(0,c.Gd)().getStackTop();t.client=e,t.scope.setClient(e)}(n),function(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}(n)}var d=n(69038),h=n(49798),m=n(2311),p=n(19001),g=n(57631),f=n(12634),v=n(46854),_=n(30184),y=n(81228),b=n(22605),C=n(63440),E=n(53399),S=n(2224),T=n(56106),A=n(94923),w=n(97946);function k(e){return(0,A.q)(e,(function(t){return new w.cW(((n,r)=>{const o=new XMLHttpRequest;o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&n({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",e.url);for(const t in e.headers)Object.prototype.hasOwnProperty.call(e.headers,t)&&o.setRequestHeader(t,e.headers[t]);o.send(t.body)}))}))}const I=[(0,r.S)(),(0,o.C)(),(0,E.t)(),(0,v.f)(),(0,y.k)(),(0,C.O)(),(0,_.R)(),(0,b.s)()];function P(e={}){void 0===e.defaultIntegrations&&(e.defaultIntegrations=[...I]),void 0===e.release&&("string"===typeof __SENTRY_RELEASE__&&(e.release=__SENTRY_RELEASE__),f.m9.SENTRY_RELEASE&&f.m9.SENTRY_RELEASE.id&&(e.release=f.m9.SENTRY_RELEASE.id)),void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);const t={...e,stackParser:(0,d.Sq)(e.stackParser||S.Dt),integrations:(0,a.m8)(e),transport:e.transport||((0,h.Ak)()?T.f:k)};u(p.R,t),e.autoSessionTracking&&function(){if("undefined"===typeof f.m9.document)return void(g.X&&i.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));(0,l.yj)({ignoreDuration:!0}),(0,l.cg)(),(0,m.a)((({from:e,to:t})=>{void 0!==e&&e!==t&&((0,l.yj)({ignoreDuration:!0}),(0,l.cg)())}))}()}var R=n(76122);function x(e){const t={...e};(0,R.V)(t,"react"),P(t)}},24085:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(81757),o=n(39660);function a(e,t,n=250,a,s,l,c){if(!l.exception||!l.exception.values||!c||!(0,r.V9)(c.originalException,Error))return;const u=l.exception.values.length>0?l.exception.values[l.exception.values.length-1]:void 0;var d,h;u&&(l.exception.values=(d=i(e,t,s,c.originalException,a,l.exception.values,u,0),h=n,d.map((e=>(e.value&&(e.value=(0,o.$G)(e.value,h)),e)))))}function i(e,t,n,o,a,c,u,d){if(c.length>=n+1)return c;let h=[...c];if((0,r.V9)(o[a],Error)){s(u,d);const r=e(t,o[a]),c=h.length;l(r,a,c,d),h=i(e,t,n,o[a],a,[r,...h],r,c)}return Array.isArray(o.errors)&&o.errors.forEach(((o,c)=>{if((0,r.V9)(o,Error)){s(u,d);const r=e(t,o),m=h.length;l(r,`errors[${c}]`,m,d),h=i(e,t,n,o,a,[r,...h],r,m)}})),h}function s(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,..."AggregateError"===e.type&&{is_exception_group:!0},exception_id:t}}function l(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}},54194:(e,t,n)=>{"use strict";n.d(t,{Rt:()=>a,iY:()=>c,l4:()=>s,qT:()=>l});var r=n(81757);const o=(0,n(90063).R)();function a(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let a=0,s=0;const l=" > ",c=l.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,h=!Array.isArray(t)&&t.maxStringLength||80;for(;n&&a++<r&&(u=i(n,d),!("html"===u||a>1&&s+o.length*c+u.length>=h));)o.push(u),s+=u.length,n=n.parentNode;return o.reverse().join(l)}catch(n){return"<unknown>"}}function i(e,t){const n=e,a=[];let i,s,l,c,u;if(!n||!n.tagName)return"";if(o.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;a.push(n.tagName.toLowerCase());const d=t&&t.length?t.filter((e=>n.getAttribute(e))).map((e=>[e,n.getAttribute(e)])):null;if(d&&d.length)d.forEach((e=>{a.push(`[${e[0]}="${e[1]}"]`)}));else if(n.id&&a.push(`#${n.id}`),i=n.className,i&&(0,r.HD)(i))for(s=i.split(/\s+/),u=0;u<s.length;u++)a.push(`.${s[u]}`);const h=["aria-label","type","name","title","alt"];for(u=0;u<h.length;u++)l=h[u],c=n.getAttribute(l),c&&a.push(`[${l}="${c}"]`);return a.join("")}function s(){try{return o.document.location.href}catch(e){return""}}function l(e){return o.document&&o.document.querySelector?o.document.querySelector(e):null}function c(e){if(!o.HTMLElement)return null;let t=e;for(let n=0;n<5;n++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}},73135:(e,t,n)=>{"use strict";n.d(t,{RA:()=>i,vK:()=>l});var r=n(51982),o=n(58536);const a=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function i(e,t=!1){const{host:n,path:r,pass:o,port:a,projectId:i,protocol:s,publicKey:l}=e;return`${s}://${l}${t&&o?`:${o}`:""}@${n}${a?`:${a}`:""}/${r?`${r}/`:r}${i}`}function s(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function l(e){const t="string"===typeof e?function(e){const t=a.exec(e);if(!t)return void(0,o.Cf)((()=>{console.error(`Invalid Sentry Dsn: ${e}`)}));const[n,r,i="",l,c="",u]=t.slice(1);let d="",h=u;const m=h.split("/");if(m.length>1&&(d=m.slice(0,-1).join("/"),h=m.pop()),h){const e=h.match(/^\d+/);e&&(h=e[0])}return s({host:l,pass:i,path:d,projectId:h,port:c,protocol:n,publicKey:r})}(e):s(e);if(t&&function(e){if(!r.X)return!0;const{port:t,projectId:n,protocol:a}=e;return!["protocol","publicKey","host","projectId"].find((t=>!e[t]&&(o.kg.error(`Invalid Sentry Dsn: ${t} missing`),!0)))&&(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e}(a)?!t||!isNaN(parseInt(t,10))||(o.kg.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):(o.kg.error(`Invalid Sentry Dsn: Invalid protocol ${a}`),!1):(o.kg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1))}(t))return t}},4285:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}function o(){return"npm"}n.d(t,{S:()=>o,n:()=>r})},46894:(e,t,n)=>{"use strict";n.d(t,{BO:()=>s,Cd:()=>g,HY:()=>p,Jd:()=>i,V$:()=>u,gv:()=>l,mL:()=>m,zQ:()=>d});var r=n(73135),o=n(69180),a=n(21995);function i(e,t=[]){return[e,t]}function s(e,t){const[n,r]=e;return[n,[...r,t]]}function l(e,t){const n=e[1];for(const r of n){if(t(r,r[0].type))return!0}return!1}function c(e,t){return(t||new TextEncoder).encode(e)}function u(e,t){const[n,r]=e;let a=JSON.stringify(n);function i(e){"string"===typeof a?a="string"===typeof e?a+e:[c(a,t),e]:a.push("string"===typeof e?c(e,t):e)}for(const l of r){const[e,t]=l;if(i(`\n${JSON.stringify(e)}\n`),"string"===typeof t||t instanceof Uint8Array)i(t);else{let e;try{e=JSON.stringify(t)}catch(s){e=JSON.stringify((0,o.Fv)(t))}i(e)}}return"string"===typeof a?a:function(e){const t=e.reduce(((e,t)=>e+t.length),0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}(a)}function d(e,t){const n="string"===typeof e.data?c(e.data,t):e.data;return[(0,a.Jr)({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const h={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function m(e){return h[e]}function p(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function g(e,t,n,o){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:(new Date).toISOString(),...t&&{sdk:t},...!!n&&o&&{dsn:(0,r.RA)(o)},...i&&{trace:(0,a.Jr)({...i})}}}},94388:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});class r extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}}},81757:(e,t,n)=>{"use strict";n.d(t,{Cy:()=>v,HD:()=>c,J8:()=>f,Kj:()=>g,Le:()=>u,PO:()=>h,TX:()=>s,V9:()=>y,VW:()=>i,VZ:()=>o,cO:()=>m,fm:()=>l,i2:()=>_,kK:()=>p,pt:()=>d,y1:()=>b});const r=Object.prototype.toString;function o(e){switch(r.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(e,Error)}}function a(e,t){return r.call(e)===`[object ${t}]`}function i(e){return a(e,"ErrorEvent")}function s(e){return a(e,"DOMError")}function l(e){return a(e,"DOMException")}function c(e){return a(e,"String")}function u(e){return"object"===typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function d(e){return null===e||u(e)||"object"!==typeof e&&"function"!==typeof e}function h(e){return a(e,"Object")}function m(e){return"undefined"!==typeof Event&&y(e,Event)}function p(e){return"undefined"!==typeof Element&&y(e,Element)}function g(e){return a(e,"RegExp")}function f(e){return Boolean(e&&e.then&&"function"===typeof e.then)}function v(e){return h(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function _(e){return"number"===typeof e&&e!==e}function y(e,t){try{return e instanceof t}catch(n){return!1}}function b(e){return!("object"!==typeof e||null===e||!e.__isVue&&!e._isVue)}},58536:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>s,LD:()=>i,RU:()=>a,kg:()=>l});var r=n(51982),o=n(90063);const a=["debug","info","warn","error","log","assert","trace"],i={};function s(e){if(!("console"in o.GLOBAL_OBJ))return e();const t=o.GLOBAL_OBJ.console,n={},r=Object.keys(i);r.forEach((e=>{const r=i[e];n[e]=t[e],t[e]=r}));try{return e()}finally{r.forEach((e=>{t[e]=n[e]}))}}const l=function(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return r.X?a.forEach((n=>{t[n]=(...t)=>{e&&s((()=>{o.GLOBAL_OBJ.console[n](`Sentry Logger [${n}]:`,...t)}))}})):a.forEach((e=>{t[e]=()=>{}})),t}()},63699:(e,t,n)=>{"use strict";n.d(t,{DM:()=>a,Db:()=>l,EG:()=>c,YO:()=>u,jH:()=>s,lE:()=>d});var r=n(21995),o=n(90063);function a(){const e=o.GLOBAL_OBJ,t=e.crypto||e.msCrypto;let n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch(r){}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,(e=>(e^(15&n())>>e/4).toString(16)))}function i(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function s(e){const{message:t,event_id:n}=e;if(t)return t;const r=i(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],a=o[0]=o[0]||{};a.value||(a.value=t||""),a.type||(a.type=n||"Error")}function c(e,t){const n=i(e);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){const e={...r&&r.data,...t.data};n.mechanism.data=e}}function u(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.xp)(e,"__sentry_captured__",!0)}catch(t){}return!1}function d(e){return Array.isArray(e)?e:[e]}},69180:(e,t,n)=>{"use strict";n.d(t,{Fv:()=>i,Qy:()=>s});var r=n(81757);var o=n(21995),a=n(69038);function i(e,t=100,n=1/0){try{return l("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function s(e,t=3,n=102400){const r=i(e,t);return o=r,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(o))>n?s(e,t-1,n):r;var o}function l(e,t,i=1/0,s=1/0,c=function(){const e="function"===typeof WeakSet,t=e?new WeakSet:[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(let e=0;e<t.length;e++)if(t[e]===n)return!0;return t.push(n),!1},function(n){if(e)t.delete(n);else for(let e=0;e<t.length;e++)if(t[e]===n){t.splice(e,1);break}}]}()){const[u,d]=c;if(null==t||["number","boolean","string"].includes(typeof t)&&!(0,r.i2)(t))return t;const h=function(e,t){try{if("domain"===e&&t&&"object"===typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!==typeof n.g&&t===n.g)return"[Global]";if(t===window)return"[Window]";if("undefined"!==typeof document&&t===document)return"[Document]";if((0,r.y1)(t))return"[VueViewModel]";if((0,r.Cy)(t))return"[SyntheticEvent]";if("number"===typeof t&&t!==t)return"[NaN]";if("function"===typeof t)return`[Function: ${(0,a.$P)(t)}]`;if("symbol"===typeof t)return`[${String(t)}]`;if("bigint"===typeof t)return`[BigInt: ${String(t)}]`;const o=function(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}(t);return/^HTML(\w*)Element$/.test(o)?`[HTMLElement: ${o}]`:`[object ${o}]`}catch(o){return`**non-serializable** (${o})`}}(e,t);if(!h.startsWith("[object "))return h;if(t.__sentry_skip_normalization__)return t;const m="number"===typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:i;if(0===m)return h.replace("object ","");if(u(t))return"[Circular ~]";const p=t;if(p&&"function"===typeof p.toJSON)try{return l("",p.toJSON(),m-1,s,c)}catch(_){}const g=Array.isArray(t)?[]:{};let f=0;const v=(0,o.Sh)(t);for(const n in v){if(!Object.prototype.hasOwnProperty.call(v,n))continue;if(f>=s){g[n]="[MaxProperties ~]";break}const e=v[n];g[n]=l(n,e,m-1,s,c),f++}return d(t),g}},21995:(e,t,n)=>{"use strict";n.d(t,{$Q:()=>u,HK:()=>d,Jr:()=>v,Sh:()=>m,_j:()=>h,hl:()=>l,xp:()=>c,zf:()=>f});var r=n(54194),o=n(51982),a=n(81757),i=n(58536),s=n(39660);function l(e,t,n){if(!(t in e))return;const r=e[t],o=n(r);"function"===typeof o&&u(o,r),e[t]=o}function c(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch(r){o.X&&i.kg.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function u(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,c(e,"__sentry_original__",t)}catch(n){}}function d(e){return e.__sentry_original__}function h(e){return Object.keys(e).map((t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`)).join("&")}function m(e){if((0,a.VZ)(e))return{message:e.message,name:e.name,stack:e.stack,...g(e)};if((0,a.cO)(e)){const t={type:e.type,target:p(e.target),currentTarget:p(e.currentTarget),...g(e)};return"undefined"!==typeof CustomEvent&&(0,a.V9)(e,CustomEvent)&&(t.detail=e.detail),t}return e}function p(e){try{return(0,a.kK)(e)?(0,r.Rt)(e):Object.prototype.toString.call(e)}catch(t){return"<unknown>"}}function g(e){if("object"===typeof e&&null!==e){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}return{}}function f(e,t=40){const n=Object.keys(m(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,s.$G)(n[0],t);for(let r=n.length;r>0;r--){const e=n.slice(0,r).join(", ");if(!(e.length>t))return r===n.length?e:(0,s.$G)(e,t)}return""}function v(e){return _(e,new Map)}function _(e,t){if(function(e){if(!(0,a.PO)(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||"Object"===t}catch(t){return!0}}(e)){const n=t.get(e);if(void 0!==n)return n;const r={};t.set(e,r);for(const o of Object.keys(e))"undefined"!==typeof e[o]&&(r[o]=_(e[o],t));return r}if(Array.isArray(e)){const n=t.get(e);if(void 0!==n)return n;const r=[];return t.set(e,r),e.forEach((e=>{r.push(_(e,t))})),r}return e}},69038:(e,t,n)=>{"use strict";n.d(t,{$P:()=>l,Sq:()=>i,pE:()=>a});const r=/\(error: (.*)\)/,o=/captureMessage|captureException/;function a(...e){const t=e.sort(((e,t)=>e[0]-t[0])).map((e=>e[1]));return(e,n=0)=>{const a=[],i=e.split("\n");for(let o=n;o<i.length;o++){const e=i[o];if(e.length>1024)continue;const n=r.test(e)?e.replace(r,"$1"):e;if(!n.match(/\S*Error: /)){for(const e of t){const t=e(n);if(t){a.push(t);break}}if(a.length>=50)break}}return function(e){if(!e.length)return[];const t=Array.from(e);/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop();t.reverse(),o.test(t[t.length-1].function||"")&&(t.pop(),o.test(t[t.length-1].function||"")&&t.pop());return t.slice(0,50).map((e=>({...e,filename:e.filename||t[t.length-1].filename,function:e.function||"?"})))}(a)}}function i(e){return Array.isArray(e)?a(...e):e}const s="<anonymous>";function l(e){try{return e&&"function"===typeof e&&e.name||s}catch(t){return s}}},39660:(e,t,n)=>{"use strict";n.d(t,{$G:()=>o,U0:()=>i,nK:()=>a});var r=n(81757);function o(e,t=0){return"string"!==typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`}function a(e,t){if(!Array.isArray(e))return"";const n=[];for(let a=0;a<e.length;a++){const t=e[a];try{(0,r.y1)(t)?n.push("[VueViewModel]"):n.push(String(t))}catch(o){n.push("[value cannot be serialized]")}}return n.join(t)}function i(e,t=[],n=!1){return t.some((t=>function(e,t,n=!1){return!!(0,r.HD)(e)&&((0,r.Kj)(t)?t.test(e):!!(0,r.HD)(t)&&(n?e===t:e.includes(t)))}(e,t,n)))}},49798:(e,t,n)=>{"use strict";n.d(t,{Ak:()=>i,Du:()=>s,t$:()=>l});var r=n(51982),o=n(58536);const a=(0,n(90063).R)();function i(){if(!("fetch"in a))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(e){return!1}}function s(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function l(){if("string"===typeof EdgeRuntime)return!0;if(!i())return!1;if(s(a.fetch))return!0;let e=!1;const t=a.document;if(t&&"function"===typeof t.createElement)try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=s(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){r.X&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}},97946:(e,t,n)=>{"use strict";n.d(t,{$2:()=>i,WD:()=>a,cW:()=>s});var r,o=n(81757);function a(e){return new s((t=>{t(e)}))}function i(e){return new s(((t,n)=>{n(e)}))}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED"}(r||(r={}));class s{constructor(e){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),s.prototype.__init4.call(this),this._state=r.PENDING,this._handlers=[];try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new s(((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t))}catch(o){r(o)}else n(t)},e=>{if(t)try{n(t(e))}catch(o){r(o)}else r(e)}]),this._executeHandlers()}))}catch(e){return this.then((e=>e),e)}finally(e){return new s(((t,n)=>{let r,o;return this.then((t=>{o=!1,r=t,e&&e()}),(t=>{o=!0,r=t,e&&e()})).then((()=>{o?n(r):t(r)}))}))}__init(){this._resolve=e=>{this._setResult(r.RESOLVED,e)}}__init2(){this._reject=e=>{this._setResult(r.REJECTED,e)}}__init3(){this._setResult=(e,t)=>{this._state===r.PENDING&&((0,o.J8)(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()))}}__init4(){this._executeHandlers=()=>{if(this._state===r.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach((e=>{e[0]||(this._state===r.RESOLVED&&e[1](this._value),this._state===r.REJECTED&&e[2](this._value),e[0]=!0)}))}}}},84792:(e,t,n)=>{"use strict";n.d(t,{JC:()=>i,if:()=>o,wG:()=>r,x1:()=>a});const r="xbl_pa",o="xbl_sb",a="msa_ra",i="1"},4806:(e,t,n)=>{"use strict";var r;n.d(t,{b5:()=>r,qX:()=>a.q,ki:()=>o,x1:()=>i.x1,JC:()=>i.JC,wG:()=>i.wG,Q7:()=>s,if:()=>i.if,t2:()=>l.t2,i4:()=>l.i4,OZ:()=>u.O,nI:()=>l.nI,CD:()=>l.CD,Yr:()=>l.Yr,Em:()=>c.E,P9:()=>d.P,gZ:()=>l.gZ}),function(e){e.InGamePurchase="184",e.CrossNetworkPlay="185",e.PlayTournament="186",e.CreateTourname="187",e.Clubs="188",e.Sessions="189",e.Broadcast="190",e.PremiumMusicContent="191",e.SkypeAdvertisement="192",e.DownloadFreeContent="193",e.FitnessSubscriptionContent="194",e.FitnessUpload="195",e.ManageProfilePrivacySetting="196",e.GameDVR="198",e.ShareKinectContent="199",e.MarkPeopleAsKnown="200",e.LinkXboxGraphToFacebook="201",e.XboxMusic="202",e.MultiplayerParties="203",e.LiveTV="204",e.CommunicationVoiceIngame="205",e.CommunicationSkype="206",e.CloudGamingManageSession="207",e.CloudGamingJoinSession="208",e.CloudSavedGames="209",e.ShareContent="211",e.PremiumContent="214",e.InternetExplorer="217",e.SocialNetworkSharing="220",e.PIIAccess="221",e.PremiumVideo="224",e.BillingSwitching="227",e.PassportSwitching="228",e.VideoCommunications="235",e.PurchaseContent="245",e.UserCreatedContent="247",e.Communication="252",e.Multiplayer="254",e.AddFriend="255"}(r||(r={}));var o,a=n(16065),i=n(84792);!function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.MuidAuthorization="x-authorization-muid",e.S2sAuthHeader="X-S2S-Authorization"}(o||(o={}));var s,l=n(85040),c=n(77747);!function(e){e.XboxLive="http://xboxlive.com",e.MDollar="http://mp.microsoft.com/",e.XCloud="http://gssv.xboxlive.com/",e.XCloudWebPortal="rp://gswp.xboxlive.com/",e.SISU="http://sisu.xboxlive.com/",e.Greenbelt="rp://greenbelt.xboxlive.com/",e.YearInReview="rp://yearinreview.xboxlive.com/",e.Playfab="http://playfab.xboxlive.com/"}(s||(s={}));var u=n(18637),d=n(58635)},85040:(e,t,n)=>{"use strict";n.d(t,{CD:()=>o,Yr:()=>r,gZ:()=>i,i4:()=>l,nI:()=>a,t2:()=>s});const r="1f907974-e22b-4810-a9de-d9647380c97e",o="https://login.microsoftonline.com/consumers",a="xboxlive.signin",i="sandboxId",s="https://consentservice.microsoft.com/checkin/UnifiedUserConsent.Read",l="https://consentservice.microsoft.com/web/UnifiedUserConsent.ReadWrite"},77747:(e,t,n)=>{"use strict";n.d(t,{E:()=>r});const r="cobrandid"},94944:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(15245);class o extends r.R{}},15245:(e,t,n)=>{"use strict";n.d(t,{R:()=>r});class r{constructor(e){this.options=e,this.eventTarget=new EventTarget}dispatchEvent(e){this.options.logger.verbose(`dispatchEvent: ${e.type}`),this.eventTarget.dispatchEvent(e)}addEventListener(e,t,n){this.eventTarget.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventTarget.removeEventListener(e,t,n)}}},23723:(e,t,n)=>{"use strict";n.d(t,{t:()=>o});var r=n(15245);class o extends r.R{}},47772:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(16065);class o extends Event{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.q.Unknown;super(o.type),this.authStateChange=e}}o.type="activeAuthUserChanged"},89895:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});class r extends Event{constructor(){super(r.type)}}r.type="initialized"},67498:(e,t,n)=>{"use strict";n.d(t,{S_:()=>o.S,Nb:()=>a.N,bK:()=>r});class r extends Event{constructor(e){super(r.type),this.xboxTokenCacheKey=e}}r.type="xboxTokenLCEChanged";var o=n(47772),a=(n(63024),n(89895))},76090:(e,t,n)=>{"use strict";n.d(t,{Wg:()=>s,Op:()=>o,ZM:()=>r,F3:()=>l,VZ:()=>u.V,fW:()=>c});n(68995);function r(){return new Date(Date.now()+7776e6)}function o(){return new Date(Date.now()+432e5)}n(73439);var a=n(85144),i=n(51061);const s=e=>`XBL3.0 x=${e.userHash||0};${e.token}`,l=async(e,t)=>{const n=await e.acquireTokenSilently(t);if(n)return s(n)},c=e=>{const t=((e,t)=>{if(!e.expires)return!1;const n=(0,a.I)(e);return!n||!!(0,i.q)(n)&&n<t})(e,new Date);return t};var u=n(74169)},85144:(e,t,n)=>{"use strict";n.d(t,{I:()=>o});var r=n(51061);const o=e=>{if(!e.expires)return;const t="string"===typeof e.expires?new Date(e.expires):e.expires;return(0,r.q)(t)?t:void 0}},74169:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>void 0!==e.message&&"string"===typeof e.message},51061:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});const r=e=>!isNaN(e.valueOf())},28248:(e,t,n)=>{"use strict";n.d(t,{uG:()=>l,S_:()=>E.S_,b5:()=>s.b5,qX:()=>s.qX,zC:()=>f,j2:()=>a,K_:()=>we,Iz:()=>Oe,gM:()=>p,Nb:()=>E.Nb,cE:()=>xe,Q7:()=>s.Q7,Zb:()=>h,gz:()=>K,t2:()=>s.t2,i4:()=>s.i4,EJ:()=>I.EJ,Py:()=>d,Ws:()=>m,nI:()=>s.nI,CD:()=>s.CD,Yr:()=>s.Yr,Wg:()=>o.Wg,R6:()=>I.R6,nY:()=>I.nY,p5:()=>ge.p5,le:()=>C,Vm:()=>I.Vm,bV:()=>I.bV,oI:()=>I.oI,yB:()=>I.yB,Yd:()=>I.Yd,bn:()=>I.bn,IL:()=>ge.IL,PY:()=>I.PY,R8:()=>I.R8,CG:()=>I.CG,gV:()=>I.gV,kN:()=>I.ng,N_:()=>I.N_,rb:()=>I.rb,by:()=>I.by,bG:()=>I.bG,c1:()=>I.c1,V_:()=>I.V_,NA:()=>I.NA,mh:()=>I.mh,F3:()=>o.F3,t_:()=>I.t_,ey:()=>ge.ey,Jf:()=>ge.oE,Tv:()=>v,AZ:()=>R,Pj:()=>x,Q0:()=>O,hI:()=>I.hI,M3:()=>I.M3});n(73439);var r=n(67446),o=n(76090);class a{constructor(e,t){this._logger=new i(e);const n=new r.LK(null===t||void 0===t?void 0:t.userAgent);n.isSafari||n.isSupportedTVBrowser?this.isSingleSignOnSupported=!1:this.isSingleSignOnSupported=!0}setupLogger(e){this._logger=new i(e)}async acquireTokenSilently(e){const t=this.getCachedTokensInternal()[e];if(t){if(!(0,o.fW)(t))return t;this._logger.info(`Token expired for relying party '${e}'. Attempting to get fresh token.`)}else null===t?this._logger.warn(`Unable to get token for relying party: '${e}'`):this._logger.info(`Cached token doesn't exist for relying party: '${e}'. Attempting to get token.`);const n=await this.acquireTokenAsyncInternal(e);return n&&!(0,o.fW)(n)?n:void this._logger.info(`Unable to get token for relying party: '${e}' after calling acquireTokenAsyncInternal. Token is expired or undefined.`)}}class i{constructor(e){this._logger=e}verbose(e){this._logger&&this._logger.verbose(e)}info(e){this._logger&&this._logger.info(e)}warn(e){this._logger&&this._logger.warn(e)}error(e,t){this._logger&&this._logger.error(e,t)}}var s=n(4806);class l{constructor(e,t){this.config=e,this._traceLogger=t}async authenticate(e,t){const n=e.clone();return n.headers.set(s.ki.AadUserAuthorization,`Bearer ${this.config.aadToken}`),n}}n(71372);class c extends Error{constructor(e){super(`Failed to authenticate for mandatory authenticated request. TargetUri: ${e}`),this.httpStatusCode=403,Object.setPrototypeOf(this,c.prototype)}}var u=n(51175);class d{constructor(e,t,n){this._authenticationProvider=t,this._traceLogger=n,this._relyingParty=e.relyingParty,this._isMandatory=e.isMandatory,this._anonymousTokenAuthenticator=e.anonymousTokenAuthenticator,this._aadAuthenticator=e.aadAuthenticator,this._xTokenOverride=e.xTokenOverride}async authenticate(e,t){let n=this._xTokenOverride;if(!n)try{n=await this._authenticationProvider.acquireTokenSilently(this._relyingParty)}catch(a){(0,o.VZ)(a)&&this._traceLogger.warn(`Error while acquiring xToken for request: ${e.url}. Error: ${a.message}`)}let r=e;if(n)r=this._authenticateRequest(e,n);else if(this._isMandatory)throw new c(e.url);return this._anonymousTokenAuthenticator&&(r=await this._anonymousTokenAuthenticator.authenticate(r,t)),this._aadAuthenticator&&(r=await this._aadAuthenticator.authenticate(r,t)),r}_authenticateRequest(e,t){const n=e.clone();return n.headers.set(u.HttpHeader.Authorization,(0,o.Wg)(t)),n}}class h{constructor(e,t,n){this.cartMuid=n,this._xTokenAuthenticator=new d({isMandatory:!1,relyingParty:s.Q7.MDollar},e,t)}async authenticate(e,t){if(!this.cartMuid)throw new c(e.url);const n=e.clone();return n.headers.set(s.ki.MuidAuthorization,this.cartMuid),this._xTokenAuthenticator.authenticate(n)}}class m{constructor(e){this._config=e}async authenticate(e,t){var n;return e.headers&&(null===(n=this._config)||void 0===n?void 0:n.anonToken)&&e.headers.set(s.ki.S2sAuthHeader,`Bearer ${this._config.anonToken}`),e}}class p{constructor(e,t){this._authenticationProvider=e,this._traceLogger=t}async authenticate(e,t){let n,r;if(!n&&!r)try{n=await this._authenticationProvider.acquireTokenSilently(s.Q7.XboxLive),r=await this._authenticationProvider.acquireTokenSilently(s.Q7.YearInReview)}catch(a){(0,o.VZ)(a)&&this._traceLogger.warn(`Error while acquiring xToken for request: ${e.url}. Error: ${a.message}`)}if(n&&r){const t=e.clone();return t.headers.set(u.HttpHeader.Authorization,(0,o.Wg)(r)),t.headers.set(u.HttpHeader.XCurrentUser,(0,o.Wg)(n)),t}throw new c(e.url)}}var g=n(2784);const f=(0,g.createContext)({}),v=()=>(0,g.useContext)(f);var _=n(16216),y=n(20608);function*b(){return yield(0,y.getContext)(_.iBy.authentication)}function C(){return(0,y.call)(b)}var E=n(67498),S=n(814),T=n.n(S),A=n(21883),w=n(87342),k=n(74495),I=n(76248),P=n(57497);const R=()=>{const e=(0,k.useSelector)(I.yB),t=(0,k.useSelector)(I.CG)===_.zHJ.Adult,n=(0,k.useSelector)(I.Yd),r=(0,k.useDispatch)(),o=(0,w.Fj)();(0,g.useEffect)((()=>{e&&t&&((0,A.isValidNotRequestedLCE)(n)||(0,A.isExpiredContent)(n))&&(o.info("[usePrivacyConsent] Dispatching fetchPrivacyConsent action"),r(P.h.fetchPrivacyConsent.start()))}),[n,r,e,o,t]);const a=(0,g.useMemo)((()=>{var e;return null!==(e=(0,A.getUnexpiredDataOrPrevious)(n))&&void 0!==e?e:[]}),[n]);return(0,g.useMemo)((()=>[a,T()({loading:(0,A.isFetching)(n)},n)]),[n,a])},x=e=>{const t=(0,k.useSelector)(I.yB),n=(0,k.useSelector)(I.CG)===_.zHJ.Adult,r=(0,w.Fj)(),o=(0,k.useSelector)((t=>(0,I.bn)(t,e))),a=(0,k.useDispatch)();(0,g.useEffect)((()=>{t&&n&&(0,A.isNotRequested)(o)&&(r.info(`[usePrivacyConsentUiDetails] Dispatching fetchPrivacyConsentUiDetails action with: ${e}`),a(P.h.fetchPrivacyConsentUiDetails.start(e)))}),[a,t,e,r,o,n]);const i=(0,g.useMemo)((()=>{var e;return null!==(e=(0,A.getDataOrPrevious)(o))&&void 0!==e?e:[]}),[o]);return(0,g.useMemo)((()=>[i,T()({loading:(0,A.isFetching)(o)},o)]),[i,o])};n(6886);var N=n(44080);const O=e=>{const t=(0,k.useSelector)(I.yB),n=(0,k.useSelector)(I.Fu),r=(0,w.Fj)(),o=(0,k.useSelector)(I.Eo),a=(0,k.useSelector)(I.oE),i=(0,k.useDispatch)(),s=(0,g.useCallback)((n=>{let{id:o,values:a,consentSurface:s}=n;t&&(r.info("[useSubmitConsent] Dispatching submitConsent action"),i(P.h.submitConsent.start({id:o,values:a,modelType:e,consentSurface:s})))}),[i,t,r,e]),l=(0,g.useMemo)((()=>e===N.ModelType.XboxOptionalDataCollection?n:e===N.ModelType.XboxFinPartnerSharing?a:o),[a,n,o,e]);return(0,g.useMemo)((()=>[s,l,n,o]),[n,o,l,s])};n(70424),n(36728),n(4173),n(6710),n(77950),n(88233),n(31235),n(85940),n(94908),n(48166),n(64925),n(26464),n(45162),n(54819),n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183),n(14121),n(60523);var L=n(67907),M=n(26388),D=n(49845),U=n(27694),F=n(806),B=n(3062),H=n(88767),q=n(85040);n(81497),n(75640),n(1871);class G{constructor(e){this.keys=["isAuthenticatedWithExternalTokens","hasAttemptedSisuRemediation"],this.storage=e.storage}readIsAuthenticatedWithExternalTokens(e){const t=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");return"true"===this.storage.getItem(t)}writeIsAuthenticatedWithExternalTokens(e,t){const n=this.makeCacheKey(e,"isAuthenticatedWithExternalTokens");this.storage.setItem(n,t.toString())}readHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");return"true"===this.storage.getItem(t)}writeHasAttemptedSisuRemediation(e,t){const n=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.setItem(n,t.toString())}clearHasAttemptedSisuRemediation(e){const t=this.makeCacheKey(e,"hasAttemptedSisuRemediation");this.storage.removeItem(t)}clearAllForUser(e){for(const n of this.keys)this.storage.removeItem(this.makeCacheKey(e,n));const t=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const n of t)this.storage.removeItem(n)}makeCacheKey(e,t){return`${btoa(e)}-${t}`}}var z=n(24560);n(44112);class X extends U.d{navigateInternal(e,t){return super.navigateInternal(e,t)}navigateExternal(e,t){const n=e.startsWith("https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize");return super.navigateExternal(e,T()(T()({},t),{},{noHistory:n||t.noHistory}))}}class $ extends M.L{constructor(e){const t=e.logger;super({auth:{clientId:q.Yr,authority:q.CD,navigateToLoginRequestUrl:!1},cache:{cacheLocation:D.Ix.LocalStorage,claimsBasedCachingEnabled:!0},system:{navigationClient:e.enableCustomNavigationClient?new X:new U.d,loggerOptions:{logLevel:void 0,loggerCallback:(e,n,r)=>{if(!r)switch(e){case F.i.Error:return void t.error(n);case F.i.Warning:return void t.warn(n);case F.i.Info:return void t.info(n);case F.i.Verbose:t.verbose(n)}},piiLoggingEnabled:!1},allowRedirectInIframe:!!e.msaSessionId}}),this.userStorageProvider=new G({storage:globalThis.localStorage}),this.traceLogger=t,this.msaSessionId=e.msaSessionId,this.silentRedirectUri=e.silentRedirectUri}static async create(e){const t=new $(e);return await t.initialize(),t}async clearStorage(e){const t=this.getAccountByHomeId(e);t?(await this.clearCache({account:t}),this.userStorageProvider.clearAllForUser(e),this.setActiveAccount(null)):this.traceLogger.warn("[MsaPublicClientApplication] -  No account found for msaHomeAccountId. Skipping clearStorage.")}createCorrelationId(){return(0,H.Z)()}async startNewSignInWithRedirect(e){var t;try{this.traceLogger.verbose("[MsaPublicClientApplication] - Clearing out any existing MSA redirect sign-ins."),await this.handleRedirectPromise()}catch(n){const e=(0,L.toError)(n);this.traceLogger.error("[MsaPublicClientApplication] - startNewSignInWithRedirect cleared out in-progress login via instance.handleRedirectPromise.",e)}return this.getLogger().info(`Kicking off MSA loginRedirect with redirectUri: ${null===(t=e.redirectUri)||void 0===t?void 0:t.toString()}`),this.loginRedirect(e)}signInWithExternalTokens(e,t){if(!(null===e||void 0===e?void 0:e.client_info))throw new Error("Missing expected 'client_info' parameter. Try adding a 'client_info: 1' to the body of the request.");const n=this.getTokenCache(),r={scopes:[q.nI],authority:`https://login.windows.net/${B.gT.CONSUMER_UTID}`};let o=e.expires_in,a=e.ext_expires_in;o&&(o+=t,a&&(a+=o));const i={expiresOn:o,extendedExpiresOn:a,clientInfo:e.client_info},s=n.loadExternalTokens(r,e,i);if(!(null===s||void 0===s?void 0:s.account))throw new Error("Error getting account information after loading external tokens to tokenCache");return this.userStorageProvider.writeIsAuthenticatedWithExternalTokens(s.account.homeAccountId,!0),s.account}async startSignOutWithRedirect(e){try{await Promise.race([this.logoutRedirect(e),new Promise(((e,t)=>setTimeout((()=>t(new V)),1e4)))])}catch(t){const e=(0,L.toError)(t);throw this.traceLogger.error("[MsaPublicClientApplication] - startSignOutWithRedirect error",e),t}}async silentSingleSignOn(e){return this.ssoSilent(T()(T()({},e),{},{prompt:"none",redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}getAccountFromMsaSessionId(){var e;if(this.msaSessionId)return null===(e=this.getAllAccounts())||void 0===e?void 0:e.find((e=>{var t;return(null===(t=e.idTokenClaims)||void 0===t?void 0:t.sid)===this.msaSessionId}))}acquireTokenSilent(e){return super.acquireTokenSilent(T()(T()({},e),{},{redirectUri:new URL(this.silentRedirectUri,window.location.origin).toString()}))}}class V extends z.l{constructor(){super("SignOutRedirectTimedOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Sign-out redirect timed out.",arguments.length>1?arguments[1]:void 0)}}var W=n(83355);class K extends z.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireMsaAccessTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire access token.",e),this.requiresInteraction=e instanceof W.Yo}}class j extends z.l{constructor(){super("UnableToFindAccountInfoError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to find account info.",arguments.length>1?arguments[1]:void 0)}}class Z{constructor(e){this.msaInstance=e.msaInstance,this.accountInfo=e.accountInfo,this.logger=e.logger}async getMsaAccessToken(e){try{try{return(await this.msaInstance.acquireTokenSilent(T()({account:this.accountInfo},e))).accessToken}catch(t){const n=(0,L.toError)(t);if(n instanceof W.Yo){this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently. Going to try acquiring token using ssoSilent");const t=await this.msaInstance.silentSingleSignOn(T()(T()({},e),{},{account:this.accountInfo}));return this.logger.verbose("[ClientMsaTokenProvider] Successfully acquired MSA access token using ssoSilent"),t.accessToken}throw this.logger.verbose("[ClientMsaTokenProvider] Unable to acquire MSA access token silently and error is not an InteractionRequiredAuthError."),n}}catch(t){const e=(0,L.toError)(t);throw this.logger.error("[ClientMsaTokenProvider] Unable to acquire MSA access token",e),new K(e.message,e)}}}n(21515),n(34715),n(19570);var Y=n(48448),Q=n(92938),J=n(43485);class ee extends z.l{constructor(){super("UnableToAcquireXboxUserTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire xbox user token.",arguments.length>1?arguments[1]:void 0)}}class te extends z.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("UnableToAcquireXboxTokenError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire XboxToken.",arguments.length>2?arguments[2]:void 0),this.xboxTokenCacheKey=e}}class ne extends z.l{constructor(){let e=arguments.length>1?arguments[1]:void 0;super("RequiresSisuRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Requires sisu redirect.",arguments.length>2?arguments[2]:void 0),this.xErrorCode=e}}const re="http://auth.xboxlive.com";class oe{constructor(e){this.inflightRequests=new Map,this.userId=e.userId,this.msaTokenProvider=e.msaTokenProvider,this.telemetryProvider=e.telemetryProvider,this.logger=e.telemetryProvider.logger(),this.xboxTokenCache=e.xboxTokenCache,this.httpClient=(0,w.Yr)(new u.HttpClientBuilder,this.telemetryProvider).build(),this.xboxUserTokenRequestFactory=u.RequestFactory.withBaseUrl("https://user.auth.xboxlive.com").setCommonHeaders({[u.HttpHeader.ContentType]:"application/json",[u.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(u.DEFAULT_MAX_RETRIES),this.xstsRequestFactory=u.RequestFactory.withBaseUrl("https://xsts.auth.xboxlive.com").setCommonHeaders({[u.HttpHeader.ContentType]:"application/json",[u.HttpHeader.XXBLContractVersion]:"1"}).setCommonMaxRetries(u.DEFAULT_MAX_RETRIES)}destroy(){this.inflightRequests.forEach(((e,t)=>{let{abortController:n}=e;n.abort("[ClientXboxTokenHandler] - Aborting request due to destroy"),this.inflightRequests.delete(t)}))}getOrFetchXboxToken(e){const t=this.xboxTokenCache.getTokenLCE(e),n=(0,A.getUnexpiredDataOrPrevious)(t);if(n)return Promise.resolve(n);const r=this.getInflightRequestCacheKey(e),o=this.inflightRequests.get(r);if(o)return this.logger.info(`[XboxTokenHandler] Returning inflight request for XboxUserToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),o.promise;(0,A.isError)(t)&&this.logger.warn(`[XboxTokenHandler] XboxToken is in an error state, will fetch again. Error: ${t.error.message}`);const a=new AbortController,i=this.fetchXboxToken(e,a.signal).finally((()=>{this.inflightRequests.delete(r)}));return this.inflightRequests.set(r,{promise:i,abortController:a}),this.logger.info(`[XboxTokenHandler] Returning new request for XboxToken [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),i}async fetchXboxToken(e,t){try{let n;switch(this.xboxTokenCache.writeTokenAsFetching(e),e.identityType){case Q.Hz.UserToken:n=await this.fetchXboxUserToken(e,t);break;case Q.Hz.XToken:n=await this.fetchXboxXToken(e,t)}const r=Q.kW.parse(n.data),o=Y.I.fromXboxTokenResponseSchema(e,r);return this.xboxTokenCache.writeToken(o),o}catch(n){let e=(0,L.toError)(n);throw this.logger.error("[XboxTokenHandler] Error fetching XboxToken",e),e instanceof z.l||(e=new ee(e.message,e)),this.xboxTokenCache.writeTokenAsError(e,{identityType:Q.Hz.UserToken,relyingParty:re}),e}}async fetchXboxUserToken(e,t){const n=await this.msaTokenProvider.getMsaAccessToken({scopes:[q.nI]});return await this.httpClient.execute(this.xboxUserTokenRequestFactory.post("user/authenticate",JSON.stringify({Properties:{AuthMethod:"RPS",RpsTicket:`d=${n}`,SiteName:"user.auth.xboxlive.com"},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[u.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}async fetchXboxXToken(e,t){var n;try{const r=null!==(n=e.sandboxId)&&void 0!==n?n:J.Q,o={identityType:Q.Hz.UserToken,relyingParty:re,sandboxId:r},a=await this.getOrFetchXboxToken(o);return await this.httpClient.execute(this.xstsRequestFactory.post("xsts/authorize",JSON.stringify({Properties:{SandboxId:r,UserTokens:[a.tokenData.token]},RelyingParty:e.relyingParty,TokenType:"JWT"}),{headers:{[u.HttpHeader.CorrelationVector]:this.telemetryProvider.cv().increment()},abortSignal:t}))}catch(r){const t=(0,L.toError)(r);if(this.logger.error("[XboxTokenHandler] Failed to fetch XToken",t),t instanceof z.l)throw t;if(t instanceof u.HttpError){let n;try{const e=await t.response.json();n=Q.cU.parse(e).XErr}catch(o){const n=(0,L.toError)(o);throw this.logger.error("[XboxTokenHandler] Failed to parse XErr code from response",n),new te(t.message,e,t)}throw new ne(t.message,n,t)}throw new te(t.message,e,t)}}getInflightRequestCacheKey(e){return`${this.userId}.${e.identityType}.${e.relyingParty}`}}var ae=n(30195),ie=n(22373);const se=ae.z.object({ru:ae.z.string(),msaId:ae.z.string(),sid:ae.z.string().optional()}),le=ae.z.array(ae.z.object({Item1:ae.z.string(),Item2:Q.kW}).transform((e=>({relyingParty:e.Item1,tokenResponse:e.Item2}))));var ce=n(24308),ue=n(21672);class de extends ue.p{constructor(e){var t;const n=null!==(t=e.id)&&void 0!==t?t:ue.p.fallbackUserId,r=e.xboxTokenCache;super({id:n,initialXboxTokens:e.initialXboxTokens,xboxTokenCache:r,sandboxId:e.sandboxId}),this.xboxTokenCache=r}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:ce.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}isClientAuthUser(){return!0}__unstable__dev_tools(){const e=e=>{this.xboxTokenCache.cache.forEach((t=>{const n=(0,A.getDataOrPrevious)(t);n&&(n.tokenData.expiration=new Date(Date.now()+e),this.xboxTokenCache.writeToken(n))}))};return{expireAllXboxTokens:()=>e(2e3),expireAllXboxTokensInOneMinute:()=>e(6e4)}}}var he=n(90867),me=n(96732),pe=n(23723),ge=n(76474);class fe extends de{constructor(e){const t=e.msaHomeAccountId,n=new me.X({userId:t,storage:globalThis.localStorage,logger:e.telemetryProvider.logger(),eventManager:new pe.t({logger:e.telemetryProvider.logger()})});super(T()(T()({},e),{},{id:t,xboxTokenCache:n})),this.refreshXboxTokenTimeoutIds=new Map,this.msaTokenProvider=e.msaTokenProvider,this.msaHomeAccountId=e.msaHomeAccountId,this.msaName=e.msaName,this.msaUsername=e.msaUsername,this.xboxTokenCache=n,this.authCookiesProvider=e.authCookiesProvider,this.xboxTokenHandler=new oe({userId:this.id,xboxTokenCache:n,msaTokenProvider:this.msaTokenProvider,telemetryProvider:e.telemetryProvider}),this.logger=e.telemetryProvider.logger()}static async createFromMsaAccount(e){const t=new fe(T()(T()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));try{await Promise.all((0,ge.IL)().map((e=>t.getOrFetchXboxToken(e))))}catch(n){const e=(0,L.toError)(n);throw t.destroy(),e}return t.initializeXboxTokenRefreshTimeouts(),t}static hydrateFromMsaAccount(e){const t=new fe(T()(T()({},e),{},{msaHomeAccountId:e.accountInfo.homeAccountId,msaName:e.accountInfo.name,msaUsername:e.accountInfo.username}));for(const n of(0,ge.IL)()){const r=t.getXboxTokenLCE(n);if(!(0,A.isContent)(r))throw t.destroy(),new Error(`XboxTokenLCE needs to be content for hydration [relyingParty:${n}]`);t.updateSandboxId(r.data.sandboxId),e.authCookiesProvider.writeXboxTokenAsCookie(r.data)}return t.initializeXboxTokenRefreshTimeouts(),t}static createFromSisuRemediationAccessToken(e){let{telemetryProvider:t,msaTokenProvider:n,accessToken:r,accountInfo:o,sandboxId:a,authCookiesProvider:i}=e;const s=atob(r),l=(c=s,ie.D.pipe(le).parse(c)).map((e=>Y.I.fromXboxTokenResponseSchema({identityType:ce.H.XToken,relyingParty:e.relyingParty,sandboxId:a},T()({},e.tokenResponse))));var c;const u=new fe({msaHomeAccountId:o.homeAccountId,msaName:o.name,msaUsername:o.username,telemetryProvider:t,msaTokenProvider:n,initialXboxTokens:l,sandboxId:a,authCookiesProvider:i});return u.initializeXboxTokenRefreshTimeouts(),u}destroy(){super.destroy(),this.xboxTokenHandler.destroy(),this.refreshXboxTokenTimeoutIds.forEach((e=>{clearTimeout(e)}))}async getOrFetchXboxToken(e){return this.xboxTokenHandler.getOrFetchXboxToken({identityType:ce.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}isFullUser(){return!0}isSessionUser(){return!1}addEventListener(e,t,n){this.xboxTokenCache.addEventListener(e,t,n)}removeEventListener(e,t,n){this.xboxTokenCache.removeEventListener(e,t,n)}initializeXboxTokenRefreshTimeouts(){this.logger.verbose("[FullClientAuthUser] - Initializing XboxToken refresh timeouts");const e=this.xboxTokenCache.getAllLceTokens();for(const t of e){if(!(0,A.isContent)(t))continue;const e=t.data;if(e.identityType!==ce.H.XToken)continue;const n=e.tokenData.expiration.getTime()-Date.now();if(n<=0){this.logger.verbose(`[FullClientAuthUser] - Token expired. Refreshing now [relyingParty:${e.relyingParty}]`),this.refreshXboxToken(e.relyingParty);continue}const r=e.relyingParty,o=setTimeout((()=>{this.refreshXboxToken(r)}),n);this.refreshXboxTokenTimeoutIds.set(r,o),this.logger.verbose(`[FullClientAuthUser] - Set timeout to refresh token [relyingParty:${r} msUntilExpiration:${n}]`)}}async refreshXboxToken(e){try{const t=await this.getOrFetchXboxToken(e),n=t.tokenData.expiration.getTime()-Date.now();if(n<=0)return void this.logger.warn(`[FullClientAuthUser] - Token expired after refresh. Going to ignore [relyingParty:${e}]`);const r=setTimeout((()=>{this.refreshXboxToken(e)}),n);this.refreshXboxTokenTimeoutIds.set(e,r),this.logger.verbose(`[FullClientAuthUser] - Successfully refreshed. Setting new timeout. [relyingParty:${e} msUntilExpiration:${n}]`),(0,ge.IL)().includes(e)&&this.authCookiesProvider.writeXboxTokenAsCookie(t)}catch(t){const n=(0,L.toError)(t);this.logger.error(`[FullClientAuthUser] - Failed to refresh token [relyingParty:${e}]`,n)}}}class ve extends de{static hydrateFromXboxTokenOverride(e){return new ve({sandboxId:e.xboxToken.sandboxId,telemetryProvider:e.telemetryProvider,initialXboxTokens:[e.xboxToken],xboxTokenCache:new me.p({logger:e.telemetryProvider.logger(),userId:ue.p.fallbackUserId})})}isSessionUser(){return!0}isFullUser(){return!1}}var _e=n(47772),ye=n(94944),be=n(16065),Ce=n(89895),Ee=n(14710);class Se extends z.l{constructor(){super("CompleteAuthenticationViaRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"No account found in redirect result",arguments.length>1?arguments[1]:void 0)}}class Te extends z.l{constructor(){super("UnableToCompleteSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class Ae extends z.l{constructor(){super("UnableToCompleteSignInAfterRedirectFromSisuError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to complete sign in after redirect from SISU",arguments.length>1?arguments[1]:void 0)}}class we extends z.l{constructor(){super("AuthenticationRedirectLoopDetectedError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Authentication redirect loop detected",arguments.length>1?arguments[1]:void 0)}}class ke extends z.l{constructor(){super("UnableToStartSignInAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start sign in authentication redirect",arguments.length>1?arguments[1]:void 0)}}class Ie extends z.l{constructor(){super("UnableToSignInWithExternalTokensError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign in with external tokens",arguments.length>1?arguments[1]:void 0)}}class Pe extends z.l{constructor(){super("UnableToStartFrontChannelSignOutError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to start front channel sign out",arguments.length>1?arguments[1]:void 0)}}class Re extends z.l{constructor(){super("UnableToSignOutAuthenticationRedirectError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to sign out authentication redirect",arguments.length>1?arguments[1]:void 0)}}class xe extends z.l{constructor(){super("NotInMiddleOfMsaRedirectFlowError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not in the middle of an MSA redirect flow",arguments.length>1?arguments[1]:void 0)}}class Ne{constructor(e){this.store=e.store||sessionStorage,this.key=e.key||"loginRedirectsCount",this.logger=e.logger}incrementAttemptOrThrow(){if(this.get()>0){this.reset();const e=new we;throw this.logger.error(`[LoginRedirectsCounter] ${e.message}`,e),e}this.increment()}reset(){this.store.removeItem(this.key)}increment(){this.store.setItem(this.key,String(this.get()+1))}get(){return Number(this.store.getItem(this.key)||0)}}class Oe extends Ee.f{constructor(e){var t,n;const r=e.telemetryProvider.logger(),o=e.authCookiesProvider;super({authCookiesProvider:o}),this.users=new Map,this._initialized=!1,this.authCookiesProvider=o,this.msaInstance=e.msaInstance,this.telemetryProvider=e.telemetryProvider,this.logger=r,this.loginRedirectsCounter=new Ne({logger:this.logger}),this.defaultRedirectUrl=e.defaultRedirectUrl,this.locale=e.locale,this.eventManager=new ye.X({logger:r}),this.isSisuUcsSupportEnabled=null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,this.skipLoginRedirectCounter=null!==(n=e.skipLoginRedirectCounter)&&void 0!==n&&n;for(const a of e.initialAuthUsers)this.users.set(a.id,a),this.logger.verbose(`[ClientAuthProvider] Loaded AuthUser from cache [userId:${a.id}]`);globalThis.location.pathname.includes(this.defaultRedirectUrl)||(0===e.initialAuthUsers.length?(this.logger.verbose("[ClientAuthProvider] No AuthUsers loaded from cache. Going to try to ssoSilent"),this.attemptSsoSilent()):this.initialized=!0)}get initialized(){return this._initialized}set initialized(e){this._initialized!==e&&(this._initialized=e,e&&this.eventManager.dispatchEvent(new Ce.N))}static async create(e){var t;const n=e.telemetryProvider.logger(),r=await $.create({logger:n,msaSessionId:e.msaSessionId,silentRedirectUri:e.silentRedirectUri,enableCustomNavigationClient:!0===e.skipLoginRedirectCounter}),o=new he.y({cookiesProvider:e.cookiesProvider,logger:n}),a=[],i=r.getAllAccounts();for(const l of i){const t=new Z({accountInfo:l,msaInstance:r,logger:n});try{const n=fe.hydrateFromMsaAccount({accountInfo:l,msaTokenProvider:t,telemetryProvider:e.telemetryProvider,authCookiesProvider:o});a.push(n)}catch(s){const e=(0,L.toError)(s);n.warn(`[ClientAuthProvider] - Failed to hydrate from MSA account. This is OK. Skipping account [errorMessage:${e.message}]`);continue}}if(0===a.length){n.verbose("[ClientAuthProvider] - No hydrated AuthUsers found. We will attempt to load a user from XboxToken override session cookie.");const t=o.readXboxTokenOverrideFromSessionCookie();if(t){n.verbose("[ClientAuthProvider] - Found XboxToken override cookie. Creating AuthUser.");const r=ve.hydrateFromXboxTokenOverride({telemetryProvider:e.telemetryProvider,xboxToken:t});a.push(r)}}return new Oe({telemetryProvider:e.telemetryProvider,msaInstance:r,defaultRedirectUrl:e.defaultRedirectUrl,locale:e.locale,initialAuthUsers:a,authCookiesProvider:o,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter})}isInitialized(){return this.initialized}getAuthUser(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.fallbackUserId;var t;return null!==(t=this.users.get(e))&&void 0!==t?t:null}getActiveAuthUser(){return this.getAuthUser(this.getMsaActiveHomeAccountId())}async attemptV2ToV3UserTransition(){if(this.getActiveAuthUser())return;const[e]=this.msaInstance.getAllAccounts();if(!e)return;globalThis.localStorage.getItem("xboxcom_xbl_user_info")&&await this.handleNewMsaUser(e,be.q.SilentSignIn)}async startSignInWithRedirect(e){var t;try{this.skipLoginRedirectCounter||this.loginRedirectsCounter.incrementAttemptOrThrow();const n=this.msaInstance.createCorrelationId(),r=null!==(t=e.prompt)&&void 0!==t?t:"select_account",o={scopes:[s.nI],prompt:r,extraQueryParameters:{},state:encodeURIComponent(e.returnUrlAfterSignIn),correlationId:n,onRedirectNavigate:()=>("select_account"===r&&this.authCookiesProvider.deleteAllAuthRelatedCookies(),!0)},a=new URLSearchParams(location.search),i=a.get(s.Em);i&&(o.extraQueryParameters={[s.Em]:i});const l=new URL(this.defaultRedirectUrl,window.location.origin),c=new URLSearchParams;c.set("action","loggedIn");const u=a.get(s.gZ);return u&&c.set(s.gZ,u),c.set("locale_hint",this.locale),l.search=c.toString(),o.redirectUri=l.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInStarted",version:"v3",msaCorrelationId:n,prompt:r}),await this.msaInstance.startNewSignInWithRedirect(o)}catch(n){const e=(0,L.toError)(n);if(e instanceof z.l)throw e;throw new ke("Unable to start sign in authentication redirect",e)}}async signInWithExternalMsaTokens(e){try{const t=this.msaInstance.signInWithExternalTokens(e.serverAuthorizationTokenResponse,e.requestTimestamp);await this.handleNewMsaUser(t,be.q.DeviceCodeSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInSuccess",version:"v3",msaCorrelationId:e.msaCorrelationId})}catch(t){let n=(0,L.toError)(t);throw n instanceof z.l||(n=new Ie("Unable to sign in with external tokens",n)),this.telemetryProvider.logAuthAction({name:"XboxAuthMSADeviceCodeSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e.msaCorrelationId}),n}}async startSignOutWithRedirect(e){var t,n,r,o;const a=this.msaInstance.createCorrelationId();this.loginRedirectsCounter.reset();try{if(e.msaSessionId){const t=this.msaInstance.getAllAccounts().find((t=>{const n=t.idTokenClaims;return(null===n||void 0===n?void 0:n.sid)===e.msaSessionId}));return void await this.msaInstance.startSignOutWithRedirect({account:t,correlationId:a,onRedirectNavigate:()=>!1})}const i=null!==(t=e.msaHomeAccountId)&&void 0!==t?t:this.getMsaActiveHomeAccountId();if(!i)return this.logger.warn("[ClientAuthProvider] - No MSA account found to sign out, just clearing cookies and redirecting"),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(n=globalThis.window)||void 0===n||n.location.assign(e.returnUrlAfterSignOut));const s=this.getAuthUser(i),l="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());if(this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(i)||l)return this.logger.info("[ClientAuthProvider] - Signing out external user"),await this.msaInstance.clearStorage(i),null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(i),this.authCookiesProvider.deleteAllAuthRelatedCookies(),void(null===(o=globalThis.window)||void 0===o||o.location.assign(e.returnUrlAfterSignOut));{this.logger.info("[ClientAuthProvider] - Signing out normal user");if(!this.msaInstance.getAccountByHomeId(i))throw new j;const t=new URL(this.defaultRedirectUrl,window.location.origin),n=new URLSearchParams;n.set("action","loggedOut"),n.set("returnUrl",e.returnUrlAfterSignOut),n.set("locale_hint",this.locale),t.search=n.toString(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOut",version:"v3",msaCorrelationId:a}),await this.msaInstance.startSignOutWithRedirect({correlationId:a,postLogoutRedirectUri:t.toString(),onRedirectNavigate:()=>(null===s||void 0===s||s.destroy(),this.msaInstance.userStorageProvider.clearAllForUser(i),this.authCookiesProvider.deleteAllAuthRelatedCookies(),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASignOutOnRedirect",version:"v3",msaCorrelationId:a}),!0)})}}catch(i){const e=(0,L.toError)(i);if(e instanceof z.l)throw e;throw new Re("Unable to sign out",e)}}async startFrontChannelSignOut(){try{const e=this.msaInstance.getAccountFromMsaSessionId();if(!e)throw new Pe;await this.msaInstance.startSignOutWithRedirect({account:e,onRedirectNavigate:()=>!1})}catch(e){const t=(0,L.toError)(e);if(t instanceof z.l)throw t;throw new Pe("Unable to start front channel sign out",t)}}async completeSignInAfterRedirectIfNeeded(){this.logger.info("[ClientAuthProvider] Completing sign in after redirect");try{const e=await this.msaInstance.handleRedirectPromise();if(!e)throw new xe;const t=null===e||void 0===e?void 0:e.account,n=null===e||void 0===e?void 0:e.state;if(!t||!n){const e=new Se,t="[ClientAuthProvider] No account found in redirect result";throw this.logger.error(t,e),this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInError",version:"v3",message:t,error:e}),e}this.loginRedirectsCounter.reset();const r=decodeURIComponent(n);return this.telemetryProvider.logAuthAction({name:"XboxAuthMSAInteractiveSignInSuccess",version:"v3"}),await this.handleNewMsaUser(t,be.q.InteractiveSignIn,r),this.initialized=!0,r}catch(e){const t=(0,L.toError)(e);if(t instanceof z.l)throw t;throw new Te("Unable to complete sign in authentication redirect",t)}}async completeSignInAfterRedirectFromSisu(){var e;try{const t=globalThis.location.hash.replace("#",""),n=new URLSearchParams(t),r=n.get("state");if(!r)throw new Error("No state found in searchParams from sisu redirect");const{sisuReturnUrl:o,msaHomeAccountId:a,sandboxId:i}=function(e){const t=ie.D.pipe(se).parse(e);return{sisuReturnUrl:t.ru,msaHomeAccountId:t.msaId,sandboxId:t.sid}}(r),s=null!==(e=n.get("cv"))&&void 0!==e?e:"";this.logger.info(`[ClientAuthProvider] - attempting to complete a pending SISU remediation with cV: ${s}`);if(!this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(a))throw new Error("User has not initiated SISU remediation");const l=n.get("accessToken");if(!l)throw new Error("No accessToken found in searchParams from sisu redirect");const c=this.msaInstance.getAccountByHomeId(a);if(!c)throw new j;const u=new Z({msaInstance:this.msaInstance,accountInfo:c,logger:this.logger}),d=fe.createFromSisuRemediationAccessToken({telemetryProvider:this.telemetryProvider,msaTokenProvider:u,accessToken:l,accountInfo:c,sandboxId:i,authCookiesProvider:this.authCookiesProvider});return this.users.set(d.id,d),await this.setActiveMsaAccount(c,d,be.q.InteractiveSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectSuccess",version:"v3"}),o}catch(t){let e=(0,L.toError)(t);throw e instanceof z.l||(e=new Ae("Unable to complete sign in after redirect from SISU",e)),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectError",version:"v3",error:e}),t}}createMsaCorrelationId(){return this.msaInstance.createCorrelationId()}isClientInstance(){return!0}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}__unstable__dev_tools(){return{expireAllMsaAccessTokens:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);if(null===t||void 0===t?void 0:t.includes("login.windows.net-accesstoken")){const e=localStorage.getItem(t);if(!e)continue;const n=JSON.parse(e),r=T()(T()({},n),{},{expiresOn:"0"});localStorage.setItem(t,JSON.stringify(r))}}},deleteMsaRefreshToken:()=>{for(let e=0,t=localStorage.length;e<t;++e){const t=localStorage.key(e);(null===t||void 0===t?void 0:t.includes("login.windows.net-refreshtoken"))&&localStorage.removeItem(t)}},expireXboxTokensInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokens()},expireXboxTokensInOneMinuteInLocalStorageForActiveUser:()=>{const e=this.getActiveAuthUser();e&&e.__unstable__dev_tools().expireAllXboxTokensInOneMinute()}}}async handleNewMsaUser(e,t,n){var r;this.logger.verbose(`[ClientAuthProvider] Handling new MSA user [msaHomeAccountId:${e.homeAccountId} returnUrlAfterSignIn:${n}]`);const o=new URLSearchParams(globalThis.location.search).get(s.gZ),a=null!==o&&void 0!==o?o:J.Q;try{const n=new Z({msaInstance:this.msaInstance,accountInfo:e,logger:this.logger}),o=await fe.createFromMsaAccount({accountInfo:e,telemetryProvider:this.telemetryProvider,msaTokenProvider:n,sandboxId:a,authCookiesProvider:this.authCookiesProvider});this.users.set(o.id,o),await this.setActiveMsaAccount(e,o,t),this.authCookiesProvider.writeMsaRecentlyAuthenticatedCookie();const i="true"===(null===(r=globalThis.localStorage.getItem("xboxcom_msa_isExternalSignIn"))||void 0===r?void 0:r.toLowerCase());this.msaInstance.userStorageProvider.readIsAuthenticatedWithExternalTokens(e.homeAccountId)||this.msaInstance.userStorageProvider.writeIsAuthenticatedWithExternalTokens(e.homeAccountId,i);const s=["xboxcom_msa_username","xboxcom_xbl_user_info","xboxcom_msa_isExternalSignIn","xboxcom_accountRemediationRequired"];for(const e of s)globalThis.localStorage.removeItem(e)}catch(i){const t=(0,L.toError)(i);if(t instanceof z.l)throw t instanceof ne&&await this.handleSisuRedirectErrorForMsaUser(e,a,n),t;throw i}}async handleSisuRedirectErrorForMsaUser(e,t,n){var r;this.msaInstance.userStorageProvider.readHasAttemptedSisuRemediation(e.homeAccountId)&&(this.logger.warn("[ClientAuthProvider] Signing out user due to already attempting to remediate SISU error, but user was unable to remediate"),await this.startSignOutWithRedirect({msaHomeAccountId:e.homeAccountId,returnUrlAfterSignOut:null!==n&&void 0!==n?n:globalThis.location.href})),this.msaInstance.userStorageProvider.writeHasAttemptedSisuRemediation(e.homeAccountId,!0);const o=null===(r=e.idTokenClaims)||void 0===r?void 0:r.login_hint;if(!o)throw new Error("No msaAccountLoginHint found in accountInfo");const a=new URL(this.defaultRedirectUrl,window.location.origin),i=new URLSearchParams;i.set("action","loggedIn"),a.search=i.toString();const s=new URL("/connect/XboxLive","https://sisu.xboxlive.com/"),l=new URLSearchParams;l.set("ru",a.toString()),l.set("login_hint",o),this.isSisuUcsSupportEnabled&&(l.set("userPrompts","XboxOptionalDataCollection"),l.set("consent","required"));const c=this.telemetryProvider.cv().increment();l.set("cv",c);let u=n;u||(u=globalThis.location.href.includes(this.defaultRedirectUrl)?"/":globalThis.location.href),l.set("state",function(e){const t={ru:e.sisuReturnUrl,msaId:e.msaHomeAccountId,sid:e.sandboxId};return JSON.stringify(t)}({sisuReturnUrl:u,msaHomeAccountId:e.homeAccountId,sandboxId:t})),s.search=l.toString();const d=s.toString();this.logger.info(`[ClientAuthProvider] - Redirecting to SISU remediation flow for cv ${c}, to url: ${d}`),this.telemetryProvider.logAuthAction({name:"XboxAuthXblSisuRemediationRedirectStarted",version:"v3",sisuCv:c}),await this.navigateToExternalHrefAndBlock(d)}async navigateToExternalHrefAndBlock(e){globalThis.location.href=e,await new Promise((e=>{setTimeout(e,5e3)}))}getMsaActiveHomeAccountId(){var e;return null===(e=this.msaInstance.getActiveAccount())||void 0===e?void 0:e.homeAccountId}getAuthUserOrThrow(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de.fallbackUserId;const t=this.getAuthUser(e);if(!t)throw this.logger.verbose(`[ClientAuthProvider] No AuthUser found [id:${e}]`),new Error("[ClientAuthProvider] No AuthUser found");return t}async setActiveMsaAccount(e,t,n){this.msaInstance.setActiveAccount(e),this.eventManager.dispatchEvent(new _e.S(n));const r=await Promise.all((0,ge.IL)().map((e=>t.getOrFetchXboxToken(e))));for(const o of r)this.authCookiesProvider.writeXboxTokenAsCookie(o)}async attemptSsoSilent(){const e=this.msaInstance.createCorrelationId();try{this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInStarted",version:"v3",msaCorrelationId:e,mode:"sso"});const{account:t}=await this.msaInstance.silentSingleSignOn({correlationId:e});t&&(await this.handleNewMsaUser(t,be.q.SilentSignIn),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInSuccess",version:"v3",msaCorrelationId:e,mode:"sso"}))}catch(t){const n=(0,L.toError)(t);this.logger.info(`[ClientAuthProvider] - Attempted ssoSilent with no success [error:${n.message}]`),this.telemetryProvider.logAuthAction({name:"XboxAuthMSASilentSignInError",version:"v3",error:n,message:n.message,msaCorrelationId:e,mode:"sso"})}finally{this.initialized=!0}}}n(38463)},38838:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(30195),o=n(48448),a=n(4806),i=n(22373),s=n(92938);class l{constructor(e){this.xboxTokenOverrideCookieKey="xbox_token_override",this.xboxTokenCookieExtractorRegex=/^XBXXtk(rp.+|http.+)$/,this.logger=e.logger,this.cookiesProvider=e.cookiesProvider}readXboxTokenOverrideFromSessionCookie(){const e=this.cookiesProvider.get(this.xboxTokenOverrideCookieKey);if(!e)return;const t=i.D.pipe(s.ti).safeParse(e);if(t.success)return o.I.fromXboxTokenOverrideSchema(t.data);this.logger.warn(`[ClientAuthCookiesProvider] - Failed to parse XboxTokenOverride cookie [value:${e}]`)}readPreviouslyAuthenticatedCookie(){const e=this.cookiesProvider.get(a.wG);if(!e)return;const t=r.z.coerce.number().transform(((e,t)=>{const n=new Date(e);return isNaN(n.getTime())?(t.addIssue({code:r.z.ZodIssueCode.invalid_date,message:`Invalid date [value:${e}]`}),r.z.NEVER):n})).safeParse(e);if(t.success)return t.data;this.logger.warn(`[AuthCookiesProvider] - Failed to parse previouslyAuthenticated cookie [value:${e}]`)}deletePreviouslyAuthenticatedCookie(){this.cookiesProvider.delete(a.wG,{path:"/",domain:".xbox.com"})}readSandboxIdCookie(){return this.cookiesProvider.get(a.if)}deleteSandboxIdCookie(){this.cookiesProvider.delete(a.if,{path:"/",domain:".xbox.com"})}hasMsaRecentlyAuthenticatedCookie(){return this.cookiesProvider.get(a.x1)===a.JC}deleteMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.delete(a.x1,{path:"/",domain:".xbox.com"})}makeXboxTokenCookieKey(e){return`XBXXtk${e.relyingParty}`}makeXboxTokenCookieKeyForRelyingParty(e){return`XBXXtk${e}`}}},90867:(e,t,n)=>{"use strict";n.d(t,{y:()=>d});n(88233),n(31235),n(6886);var r=n(16216),o=n(4806),a=n(43485),i=n(76090),s=n(76474),l=n(38838),c=n(24560);class u extends c.l{constructor(){super("XboxTokenNotAllowedAsCookieError",arguments.length>0&&void 0!==arguments[0]?arguments[0]:"XboxToken not allowed as cookie",arguments.length>1?arguments[1]:void 0)}}class d extends l.p{writeXboxTokenAsCookie(e){if(!(0,s.IL)().includes(e.relyingParty))throw new u(`This XboxToken cannot be written as a cookie because it's relying party is not allowed [relyingParty:${e.relyingParty}]`);const t=this.makeXboxTokenCookieKey(e);(0,r.kTi)(t,"/",".xbox.com"),this.cookiesProvider.set(t,e.serializeForCookie(),{expires:e.tokenData.expiration,sameSite:"none",path:"/",secure:!0,domain:".xbox.com",essential:!0}),this.writePreviouslyAuthenticatedCookie(),e.sandboxId.toUpperCase()!==a.Q&&this.writeSandboxIdCookie(e.sandboxId.toUpperCase()),this.logger.verbose(`[AuthCookiesProvider] - Set cookie for XboxToken [relyingParty:${e.relyingParty}]`)}writeMsaRecentlyAuthenticatedCookie(){this.cookiesProvider.set(o.x1,o.JC,{expires:(0,i.Op)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}deleteAllAuthRelatedCookies(){this.deleteAllXboxTokenCookies(),this.deletePreviouslyAuthenticatedCookie(),this.deleteSandboxIdCookie(),this.deleteMsaRecentlyAuthenticatedCookie()}deleteAllXboxTokenCookies(){for(const e of Object.values(o.Q7))this.cookiesProvider.delete(this.makeXboxTokenCookieKeyForRelyingParty(e),{path:"/",domain:".xbox.com"})}writePreviouslyAuthenticatedCookie(){this.cookiesProvider.set(o.wG,Date.now().toString(),{expires:(0,i.ZM)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}writeSandboxIdCookie(e){this.cookiesProvider.set(o.if,e,{expires:(0,i.ZM)(),sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}}},14710:(e,t,n)=>{"use strict";n.d(t,{f:()=>r});class r{constructor(e){this.authCookiesProvider=e.authCookiesProvider}lastAuthenticationDate(){return this.authCookiesProvider.readPreviouslyAuthenticatedCookie()}}},88747:(e,t,n)=>{"use strict";n.d(t,{q:()=>r});class r{constructor(e){this.token=e.token,this.expiration=e.expiration,this.issueInstant=e.issueInstant,this.userHash=e.userHash,this.userGamertag=e.userGamertag,this.userModernGamertag=e.userModernGamertag,this.userModernGamertagSuffix=e.userModernGamertagSuffix,this.userUniqueModernGamertag=e.userUniqueModernGamertag,this.userXuid=e.userXuid,this.userAgeGroup=e.userAgeGroup,this.userPrivileges=e.userPrivileges,this.userSettingsRestrictions=e.userSettingsRestrictions,this.userEnforcementRestrictions=e.userEnforcementRestrictions,this.userTitleRestrictions=e.userTitleRestrictions}static deserialize(e){return new r(e)}static fromXboxTokenJwt(e){var t,n,o,a,i,s,l,c,u,d,h,m,p,g,f,v,_,y,b,C,E,S,T,A,w,k,I,P,R,x,N,O,L;return new r({token:e.Token,expiration:e.ExpiresAt,issueInstant:e.IssueInstant,userHash:null===(o=null===(n=null===(t=e.DisplayClaims)||void 0===t?void 0:t.xui)||void 0===n?void 0:n[0])||void 0===o?void 0:o.uhs,userGamertag:null===(s=null===(i=null===(a=e.DisplayClaims)||void 0===a?void 0:a.xui)||void 0===i?void 0:i[0])||void 0===s?void 0:s.gtg,userModernGamertag:null===(u=null===(c=null===(l=e.DisplayClaims)||void 0===l?void 0:l.xui)||void 0===c?void 0:c[0])||void 0===u?void 0:u.mgt,userModernGamertagSuffix:null===(m=null===(h=null===(d=e.DisplayClaims)||void 0===d?void 0:d.xui)||void 0===h?void 0:h[0])||void 0===m?void 0:m.mgs,userUniqueModernGamertag:null===(f=null===(g=null===(p=e.DisplayClaims)||void 0===p?void 0:p.xui)||void 0===g?void 0:g[0])||void 0===f?void 0:f.umg,userXuid:null===(y=null===(_=null===(v=e.DisplayClaims)||void 0===v?void 0:v.xui)||void 0===_?void 0:_[0])||void 0===y?void 0:y.xid,userAgeGroup:null===(E=null===(C=null===(b=e.DisplayClaims)||void 0===b?void 0:b.xui)||void 0===C?void 0:C[0])||void 0===E?void 0:E.agg,userPrivileges:null===(A=null===(T=null===(S=e.DisplayClaims)||void 0===S?void 0:S.xui)||void 0===T?void 0:T[0])||void 0===A?void 0:A.prv,userSettingsRestrictions:null===(I=null===(k=null===(w=e.DisplayClaims)||void 0===w?void 0:w.xui)||void 0===k?void 0:k[0])||void 0===I?void 0:I.usr,userEnforcementRestrictions:null===(x=null===(R=null===(P=e.DisplayClaims)||void 0===P?void 0:P.xui)||void 0===R?void 0:R[0])||void 0===x?void 0:x.uer,userTitleRestrictions:null===(L=null===(O=null===(N=e.DisplayClaims)||void 0===N?void 0:N.xui)||void 0===O?void 0:O[0])||void 0===L?void 0:L.utr})}serialize(){return{token:this.token,expiration:this.expiration,issueInstant:this.issueInstant,userHash:this.userHash,userGamertag:this.userGamertag,userModernGamertag:this.userModernGamertag,userModernGamertagSuffix:this.userModernGamertagSuffix,userUniqueModernGamertag:this.userUniqueModernGamertag,userXuid:this.userXuid,userAgeGroup:this.userAgeGroup,userPrivileges:this.userPrivileges,userSettingsRestrictions:this.userSettingsRestrictions,userEnforcementRestrictions:this.userEnforcementRestrictions,userTitleRestrictions:this.userTitleRestrictions}}}},48448:(e,t,n)=>{"use strict";n.d(t,{I:()=>c});var r=n(814),o=n.n(r),a=(n(6710),n(4806)),i=n(43485),s=n(92938),l=n(88747);class c{constructor(e){var t;this.userId=e.userId,this.identityType=e.identityType,this.relyingParty=e.relyingParty,this.tokenData=l.q.deserialize(e.tokenData),this.sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:i.Q}static fromServerXboxTokenSchema(e,t){return new c(o()(o()({},t),{},{relyingParty:e}))}static fromXboxTokenResponseSchema(e,t){var n,r,a,i,s,l,u,d,h,m,p,g,f,v,_,y,b,C,E,S,T,A;const w=t.DisplayClaims;return new c(o()(o()({},e),{},{tokenData:{token:t.Token,expiration:t.ExpiresAt,issueInstant:t.IssueInstant,userHash:null===(r=null===(n=null===w||void 0===w?void 0:w.xui)||void 0===n?void 0:n[0])||void 0===r?void 0:r.uhs,userGamertag:null===(i=null===(a=null===w||void 0===w?void 0:w.xui)||void 0===a?void 0:a[0])||void 0===i?void 0:i.gtg,userModernGamertag:null===(l=null===(s=null===w||void 0===w?void 0:w.xui)||void 0===s?void 0:s[0])||void 0===l?void 0:l.mgt,userModernGamertagSuffix:null===(d=null===(u=null===w||void 0===w?void 0:w.xui)||void 0===u?void 0:u[0])||void 0===d?void 0:d.mgs,userUniqueModernGamertag:null===(m=null===(h=null===w||void 0===w?void 0:w.xui)||void 0===h?void 0:h[0])||void 0===m?void 0:m.umg,userXuid:null===(g=null===(p=null===w||void 0===w?void 0:w.xui)||void 0===p?void 0:p[0])||void 0===g?void 0:g.xid,userAgeGroup:null===(v=null===(f=null===w||void 0===w?void 0:w.xui)||void 0===f?void 0:f[0])||void 0===v?void 0:v.agg,userPrivileges:null===(y=null===(_=null===w||void 0===w?void 0:w.xui)||void 0===_?void 0:_[0])||void 0===y?void 0:y.prv,userSettingsRestrictions:null===(C=null===(b=null===w||void 0===w?void 0:w.xui)||void 0===b?void 0:b[0])||void 0===C?void 0:C.usr,userEnforcementRestrictions:null===(S=null===(E=null===w||void 0===w?void 0:w.xui)||void 0===E?void 0:E[0])||void 0===S?void 0:S.uer,userTitleRestrictions:null===(A=null===(T=null===w||void 0===w?void 0:w.xui)||void 0===T?void 0:T[0])||void 0===A?void 0:A.utr}}))}static fromXboxTokenOverrideSchema(e){let{token:t,userHash:n}=e;return new c({identityType:s.Hz.XToken,relyingParty:a.Q7.MDollar,tokenData:{expiration:new Date(Date.now()+864e5),issueInstant:new Date,token:t,userHash:n}})}serialize(){return{identityType:this.identityType,relyingParty:this.relyingParty,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId}}serializeForCookie(){const e={identityType:this.identityType,tokenData:this.tokenData.serialize(),sandboxId:this.sandboxId,userId:this.userId};return JSON.stringify(e)}}},39002:(e,t,n)=>{"use strict";n.d(t,{E:()=>r.E,h:()=>r.h});var r=n(57497)},57497:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,h:()=>s});n(6886);var r=n(16216),o=n(4806);const a="";var i;!function(e){e.SET_USER_INFO="@user/SET_USER_INFO",e.RESET_USER_INFO="@user/RESET_USER_INFO",e.UPDATE_AAD_USER="@user/UPDATE_AAD_USER ",e.FETCH_AGE_GATING_INFO="@user/UPDATE_AGE_GATING_INFO",e.UPDATE_USER_AGE_GATING_INFO="@user/UPDATE_USER_AGE_GATING_INFO",e.FETCH_AGE_GATING_INFO_ERROR="@user/UPDATE_AGE_GATING_INFO_ERROR",e.FETCH_PRIVACY_CONSENT_UI_DETAILS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS",e.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR="@user/FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR",e.FETCH_PRIVACY_CONSENT="@user/FETCH_PRIVACY_CONSENT",e.FETCH_PRIVACY_CONSENT_SUCCESS="@user/FETCH_PRIVACY_CONSENT_SUCCESS",e.FETCH_PRIVACY_CONSENT_ERROR="@user/FETCH_PRIVACY_CONSENT_ERROR",e.FETCH_FAMILY_INFO="@user/FETCH_FAMILY_INFO",e.FETCH_FAMILY_INFO_SUCCESS="@user/FETCH_FAMILY_INFO_SUCCESS",e.FETCH_FAMILY_INFO_ERROR="@user/FETCH_FAMILY_INFO_ERROR",e.SUBMIT_CONSENT="@user/SUBMIT_CONSENT",e.SUBMIT_CONSENT_SUCCESS="@user/SUBMIT_CONSENT_SUCCESS",e.SUBMIT_CONSENT_ERROR="@user/SUBMIT_CONSENT_ERROR",e.FETCH_CONTACT_PREFERENCES="@user/FETCH_CONTACT_PREFERENCES",e.FETCH_CONTACT_PREFERENCES_SUCCESS="@user/FETCH_CONTACT_PREFERENCES_SUCCESS",e.FETCH_CONTACT_PREFERENCES_ERROR="@user/FETCH_CONTACT_PREFERENCES_ERROR",e.SUBMIT_CONTACT_PREFERENCES="@user/SUBMIT_CONTACT_PREFERENCES",e.SUBMIT_CONTACT_PREFERENCES_SUCCESS="@user/SUBMIT_CONTACT_PREFERENCES_SUCCESS",e.SUBMIT_CONTACT_PREFERENCES_ERROR="@user/SUBMIT_CONTACT_PREFERENCES_ERROR",e.SET_GAMER_PIC_URL="@user/SET_GAMER_PIC_URL"}(i||(i={}));const s={setUserInfo:(0,r.PHw)(i.SET_USER_INFO,o.OZ,a,((e,t)=>({isSignedIn:e,args:t}))),resetUserInfo:(0,r.PHw)(i.RESET_USER_INFO,o.OZ,a,(()=>({}))),updateAadUser:(0,r.PHw)(i.UPDATE_AAD_USER,o.OZ,a,((e,t)=>({aadUser:e,aadAccessToken:t}))),fetchAgeGatingInfo:(0,r.FZu)(o.OZ,a,i.FETCH_AGE_GATING_INFO,(e=>({type:i.FETCH_AGE_GATING_INFO,xuid:e})),i.UPDATE_USER_AGE_GATING_INFO,((e,t)=>({type:i.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t})),i.FETCH_AGE_GATING_INFO_ERROR,(e=>({type:i.FETCH_AGE_GATING_INFO_ERROR,error:e}))),updateUserAgeGatingInfo:(0,r.PHw)(i.UPDATE_USER_AGE_GATING_INFO,o.OZ,a,((e,t)=>({type:i.UPDATE_USER_AGE_GATING_INFO,userAgeGatingInfo:e,isDefaultUserAgeGatingInfo:t}))),fetchFamilyInfo:(0,r.FZu)(o.OZ,a,i.FETCH_FAMILY_INFO,(()=>({type:i.FETCH_FAMILY_INFO})),i.FETCH_FAMILY_INFO_SUCCESS,(e=>({type:i.FETCH_FAMILY_INFO_SUCCESS,familyData:e})),i.FETCH_FAMILY_INFO_ERROR,(e=>({type:i.FETCH_FAMILY_INFO_ERROR,error:e}))),fetchPrivacyConsentUiDetails:(0,r.FZu)(o.OZ,a,i.FETCH_PRIVACY_CONSENT_UI_DETAILS,(e=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS,consentSurface:e})),i.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,((e,t)=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,privacyConsentUiDetails:e,consentSurface:t})),i.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,((e,t)=>({type:i.FETCH_PRIVACY_CONSENT_UI_DETAILS_ERROR,error:e,consentSurface:t}))),fetchPrivacyConsent:(0,r.FZu)(o.OZ,a,i.FETCH_PRIVACY_CONSENT,(e=>({type:i.FETCH_PRIVACY_CONSENT,shouldSendSnapshot:e})),i.FETCH_PRIVACY_CONSENT_SUCCESS,(e=>({type:i.FETCH_PRIVACY_CONSENT_SUCCESS,privacyConsent:e})),i.FETCH_PRIVACY_CONSENT_ERROR,(e=>({type:i.FETCH_PRIVACY_CONSENT_ERROR,error:e}))),submitConsent:(0,r.FZu)(o.OZ,a,i.SUBMIT_CONSENT,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:i.SUBMIT_CONSENT,id:t,values:n,modelType:r,consentSurface:o}}),i.SUBMIT_CONSENT_SUCCESS,(e=>{let{id:t,values:n,modelType:r,consentSurface:o}=e;return{type:i.SUBMIT_CONSENT_SUCCESS,id:t,values:n,modelType:r,consentSurface:o}}),i.SUBMIT_CONSENT_ERROR,((e,t)=>({type:i.SUBMIT_CONSENT_ERROR,error:e,modelType:t}))),fetchContactPreferences:(0,r.FZu)(o.OZ,a,i.FETCH_CONTACT_PREFERENCES,(()=>({type:i.FETCH_CONTACT_PREFERENCES})),i.FETCH_CONTACT_PREFERENCES_SUCCESS,(e=>({type:i.FETCH_CONTACT_PREFERENCES_SUCCESS,contactPreferences:e})),i.FETCH_CONTACT_PREFERENCES_ERROR,(e=>({type:i.FETCH_CONTACT_PREFERENCES_ERROR,error:e}))),submitContactPreferences:(0,r.FZu)(o.OZ,a,i.SUBMIT_CONTACT_PREFERENCES,((e,t,n)=>({type:i.SUBMIT_CONTACT_PREFERENCES,contactPreferences:e,onSuccess:t,onFailure:n})),i.SUBMIT_CONTACT_PREFERENCES_SUCCESS,(()=>({type:i.SUBMIT_CONTACT_PREFERENCES_SUCCESS})),i.SUBMIT_CONTACT_PREFERENCES_ERROR,(e=>({type:i.SUBMIT_CONTACT_PREFERENCES_ERROR,error:e}))),setGamerPicUrl:(0,r.PHw)(i.SET_GAMER_PIC_URL,o.OZ,a,(e=>({type:i.SET_GAMER_PIC_URL,gamerPicUrl:e})))}},76248:(e,t,n)=>{"use strict";n.d(t,{EJ:()=>r.E,R6:()=>L,nY:()=>y,Vm:()=>N,oE:()=>P,Fu:()=>k,Eo:()=>I,bV:()=>O,oI:()=>E,yB:()=>_,Yd:()=>w,bn:()=>A,PY:()=>x,R8:()=>C,CG:()=>g,gV:()=>v,ng:()=>f,N_:()=>p,rb:()=>m,by:()=>T,bG:()=>u,c1:()=>d,V_:()=>c,NA:()=>h,mh:()=>S,t_:()=>b,hI:()=>r.h,M3:()=>o.M3});var r=n(39002),o=n(12919),a=n(20608),i=(n(71372),n(31235),n(74407),n(26464),n(64903),n(21883)),s=n(97698),l=n(44080);const c=e=>e.user,u=e=>c(e).userInfo,d=e=>c(e).userInfoOverride,h=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.xuid},m=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.gamerTag},p=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.gamerPicUrl},g=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.ageGroup},f=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.firstName},v=e=>{var t;return null===(t=u(e))||void 0===t?void 0:t.email},_=e=>c(e).isSignedIn,y=(0,s.createSelector)(c,(e=>({aadUser:e.aadUser,accessToken:e.aadAccessToken||"",refreshToken:e.aadRefreshToken||""}))),b=e=>c(e).xTokenOverride,C=e=>c(e).userAgeGatingInfo,E=e=>c(e).isDefaultUserAgeGatingInfo,S=e=>{const{aadUser:t}=y(e),n=null===t||void 0===t?void 0:t.name,r=(null===t||void 0===t?void 0:t.exp)&&t.exp>Math.round(Date.now()/1e3)+60;return!!n&&!!r},T=(e,t)=>{var n,r;return null===(r=null===(n=c(e).userInfo)||void 0===n?void 0:n.privileges)||void 0===r?void 0:r.includes(t)},A=(0,s.createSelector)([e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsentUiDetails},(e,t)=>t],((e,t)=>{switch(t){case l.ConsentSurface.WebStart:return e.webStart;case l.ConsentSurface.Backstage2:return e.backStage2;case l.ConsentSurface.SISU:return e.sisu;default:throw new Error("Invalid consent surface")}})),w=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.userPrivacyConsent},k=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didOptionalPrivacyConsentSubmissionSucceed},I=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didPersonalizedPrivacyConsentSubmissionSucceed},P=e=>{var t;return null===(t=c(e).userPrivacyConsentInfo)||void 0===t?void 0:t.didFinPartnerSharingConsentSubmissionSucceed},R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>{var n,r,o,a;const s=null!==(r=null===(n=(0,i.getContentOrPrevious)(e))||void 0===n?void 0:n.lastFetchedMS)&&void 0!==r?r:0;return(null!==(a=null===(o=(0,i.getContentOrPrevious)(t))||void 0===o?void 0:o.lastFetchedMS)&&void 0!==a?a:0)>s?t:e}))},x=(0,s.createSelector)([e=>A(e,l.ConsentSurface.WebStart),e=>A(e,l.ConsentSurface.Backstage2),e=>A(e,l.ConsentSurface.SISU),w,k,I],((e,t,n,r,o,a)=>{let s=null,c=null;if((0,i.isError)(o)&&(s=o),(0,i.isError)(a)&&(c=a),s||c){const e=(null===s||void 0===s?void 0:s.error)||(null===c||void 0===c?void 0:c.error);if(e)return(0,i.lceError)(e)}const u=R(e,t,n),d=R(u,r);return(0,i.isContent)(u)&&(0,i.isFetching)(r)?(0,i.lceTransform)(u,l.transformConsentValuesToSimplifiedConsentValues):(0,i.isContent)(r)&&(0,i.isFetching)(u)||(0,i.isFetching)(r)?(0,i.lceTransform)(r,l.transformConsentValuesToSimplifiedConsentValues):(0,i.isFetching)(u)?(0,i.lceTransform)(u,l.transformConsentValuesToSimplifiedConsentValues):d!==i.LCE_NOT_REQUESTED?(0,i.lceTransform)(d,l.transformConsentValuesToSimplifiedConsentValues):i.LCE_NOT_REQUESTED})),N=e=>c(e).contactPreferences,O=e=>c(e).familyInfo;function*L(){const e=yield(0,a.select)(c);return{isMandatory:!1,aadToken:(null===e||void 0===e?void 0:e.aadAccessToken)||""}}},76474:(e,t,n)=>{"use strict";n.d(t,{IL:()=>a,ey:()=>s,oE:()=>o,p5:()=>l});n(9e4),n(26464),n(18339);let r=[];const o=e=>{r=e};function a(){return r}let i=[];const s=e=>i=e.filter(((e,t,n)=>n.indexOf(e)===t)),l=()=>i},22373:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(30195);const o=r.z.union([r.z.string(),r.z.number(),r.z.boolean(),r.z.null()]),a=r.z.lazy((()=>r.z.union([o,r.z.array(a),r.z.record(a)]))),i=r.z.string().transform(((e,t)=>{try{return JSON.parse(e)}catch(n){return t.addIssue({code:"custom",message:"Invalid JSON"}),r.z.NEVER}}))},92938:(e,t,n)=>{"use strict";n.d(t,{Hz:()=>r,cU:()=>d,kW:()=>s,n3:()=>u,ti:()=>h});var r,o=n(814),a=n.n(o),i=n(30195);!function(e){e.XToken="XToken",e.UserToken="UserToken"}(r||(r={}));const s=i.z.object({Token:i.z.string(),NotAfter:i.z.coerce.date(),IssueInstant:i.z.coerce.date(),DisplayClaims:i.z.object({xui:i.z.array(i.z.object({uhs:i.z.string().optional(),gtg:i.z.string().optional(),mgt:i.z.string().optional(),mgs:i.z.string().optional(),umg:i.z.string().optional(),xid:i.z.string().optional(),agg:i.z.string().optional(),prv:i.z.string().optional(),usr:i.z.string().optional(),uer:i.z.string().optional(),utr:i.z.string().optional()})).optional()}).optional()}).transform(((e,t)=>{const n=6e5,r=e.NotAfter.getTime()-e.IssueInstant.getTime();let o;return o=r<=n?new Date(Date.now()+r):new Date(Date.now()+r-n),Date.now()>=o.getTime()?(t.addIssue({code:i.z.ZodIssueCode.custom,message:"Token is already expired"}),i.z.NEVER):a()(a()({},e),{},{ExpiresAt:o})})),l=i.z.object({token:i.z.string(),expiration:i.z.coerce.date(),issueInstant:i.z.coerce.date().optional(),userHash:i.z.string().optional(),userGamertag:i.z.string().optional(),userModernGamertag:i.z.string().optional(),userModernGamertagSuffix:i.z.string().optional(),userUniqueModernGamertag:i.z.string().optional(),userXuid:i.z.string().optional(),userAgeGroup:i.z.string().optional(),userPrivileges:i.z.string().optional(),userSettingsRestrictions:i.z.string().optional(),userEnforcementRestrictions:i.z.string().optional(),userTitleRestrictions:i.z.string().optional()}),c=i.z.object({userId:i.z.string().optional(),identityType:i.z.nativeEnum(r),relyingParty:i.z.string(),tokenData:l,sandboxId:i.z.string()}),u=(c.omit({relyingParty:!0}).merge(i.z.object({tokenData:l.refine((e=>e.expiration.getTime()>Date.now()),(e=>({message:`Token is expired - [expiration:${e.expiration} currentTime:${Date.now()} msSinceExpiration:${Date.now()-e.expiration.getTime()}]`})))})),i.z.object({tokens:i.z.array(c)})),d=i.z.object({XErr:i.z.number()}),h=i.z.object({token:i.z.string(),userHash:i.z.string()})},96732:(e,t,n)=>{"use strict";n.d(t,{p:()=>u,X:()=>d});var r=n(814),o=n.n(r),a=(n(6710),n(64925),n(54819),n(6886),n(48448)),i=n(92938),s=n(22373),l=n(67498),c=(n(36728),n(34715),n(26464),n(19570),n(21883));n(88233),n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183);class u extends class{constructor(e){this.cache=new Map,this.logger=e.logger,this.userId=e.userId}set(e,t){this.cache.set(this.getCacheKey(e),t)}delete(e){this.cache.delete(this.getCacheKey(e))}clear(){this.cache.clear()}getCacheKey(e){return`${this.userId}.${e.identityType.toString()}.${e.relyingParty}`}}{getTokenLCE(e){const t=this.getCacheKey(e),n=this.cache.get(t);return n?(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache hit: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),n):(this.logger.verbose(`[InMemoryXboxTokenCache] - Cache miss: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`),c.LCE_NOT_REQUESTED)}getAllValidTokens(){const e=[];return this.cache.forEach((t=>{const n=(0,c.getUnexpiredDataOrPrevious)(t);n&&e.push(n)})),e}getAllLceTokens(){return Array.from(this.cache.values())}clearAllTokens(){this.logger.verbose(`[InMemoryXboxTokenCache] - Clearing tokens for user: [userId:${this.userId}]`),this.clear(),this.logger.verbose(`[InMemoryXboxTokenCache] - Cleared tokens for user: [userId:${this.userId}]`)}writeToken(e){const t=e.tokenData.expiration.getTime()-Date.now();this.set(e,(0,c.lceContent)(e,t)),this.logger.verbose(`[InMemoryXboxTokenCache] - Token successfully written to cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsFetching(e){this.set(e,(0,c.lceFetching)(this.getTokenLCE(e))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceFetching in cache: [identityType:${e.identityType} relyingParty:${e.relyingParty}]`)}writeTokenAsError(e,t){this.set(t,(0,c.lceError)(e,this.getTokenLCE(t))),this.logger.verbose(`[InMemoryXboxTokenCache] - Token state set to lceError in cache: [identityType:${t.identityType} relyingParty:${t.relyingParty}]`)}}class d extends u{constructor(e){super(e),this.storage=e.storage,this.eventManager=e.eventManager,this.persistKey=`Auth.User.${e.userId}`;const t=this.storage.getItem(this.persistKey);if(!t)return void this.logger.verbose(`[PersistedXboxTokenCache] - No existing serialized tokens found in storage [persistKey:${this.persistKey}]`);const n=this.deserializeMultiTokenBlob(t);this.logger.verbose(`[PersistedXboxTokenCache] - Successfully deserialized tokens from storage [tokenCount:${n.length} persistKey:${this.persistKey}]`);for(const r of n)super.writeToken(r)}writeToken(e){super.writeToken(e);const t=this.getAllValidTokens(),n=this.serializeMultiTokenBlob(t);this.storage.setItem(this.persistKey,JSON.stringify(n)),this.logger.verbose("[PersistedXboxTokenCache] - Xbox token successfully written to storage.")}clearAllTokens(){this.storage.removeItem(this.persistKey),super.clearAllTokens(),this.logger.verbose(`[PersistedXboxTokenCache] - Cleared tokens for user [persistKey:${this.persistKey}].`)}addEventListener(e,t,n){this.eventManager.addEventListener(e,t,n)}removeEventListener(e,t,n){this.eventManager.removeEventListener(e,t,n)}set(e,t){super.set(e,t),this.eventManager.dispatchEvent(new l.bK(e))}delete(e){super.delete(e),this.eventManager.dispatchEvent(new l.bK(e))}serializeMultiTokenBlob(e){return{tokens:e.map((e=>e.serialize()))}}deserializeMultiTokenBlob(e){return s.D.pipe(i.n3).parse(e).tokens.map((e=>new a.I(o()(o()({},e),{},{userId:this.userId}))))}}},21672:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});n(6886);var r=n(24308),o=n(43485);class a{constructor(e){var t;if(this.id=e.id,this._sandboxId=null!==(t=e.sandboxId)&&void 0!==t?t:o.Q,this.xboxTokenCache=e.xboxTokenCache,e.initialXboxTokens)for(const n of e.initialXboxTokens)this.xboxTokenCache.writeToken(n)}get sandboxId(){return this._sandboxId}destroy(){this.xboxTokenCache.clearAllTokens()}getXboxTokenLCE(e){return this.xboxTokenCache.getTokenLCE({identityType:r.H.XToken,relyingParty:e,sandboxId:this.sandboxId})}updateSandboxId(e){this._sandboxId=e}}a.fallbackUserId="__no-msa-home-account-id__"},67907:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(51098);Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return r.ValidationError}});var o=n(34422);Object.defineProperty(t,"orDefault",{enumerable:!0,get:function(){return o.orDefault}});var a=n(69121);Object.defineProperty(t,"asError",{enumerable:!0,get:function(){return a.asError}}),Object.defineProperty(t,"toError",{enumerable:!0,get:function(){return a.toError}});var i=n(38726);Object.defineProperty(t,"asBool",{enumerable:!0,get:function(){return i.asBool}}),Object.defineProperty(t,"asOptionalBool",{enumerable:!0,get:function(){return i.asOptionalBool}}),Object.defineProperty(t,"asNumber",{enumerable:!0,get:function(){return i.asNumber}}),Object.defineProperty(t,"asOptionalNumber",{enumerable:!0,get:function(){return i.asOptionalNumber}}),Object.defineProperty(t,"asString",{enumerable:!0,get:function(){return i.asString}}),Object.defineProperty(t,"asOptionalString",{enumerable:!0,get:function(){return i.asOptionalString}}),Object.defineProperty(t,"asDate",{enumerable:!0,get:function(){return i.asDate}}),Object.defineProperty(t,"asOptionalDate",{enumerable:!0,get:function(){return i.asOptionalDate}}),Object.defineProperty(t,"asArray",{enumerable:!0,get:function(){return i.asArray}}),Object.defineProperty(t,"asCompactArray",{enumerable:!0,get:function(){return i.asCompactArray}}),Object.defineProperty(t,"asOptionalArray",{enumerable:!0,get:function(){return i.asOptionalArray}}),Object.defineProperty(t,"asOptionalCompactArray",{enumerable:!0,get:function(){return i.asOptionalCompactArray}}),Object.defineProperty(t,"asObject",{enumerable:!0,get:function(){return i.asObject}}),Object.defineProperty(t,"asOptionalObject",{enumerable:!0,get:function(){return i.asOptionalObject}}),Object.defineProperty(t,"asObjectWithSchema",{enumerable:!0,get:function(){return i.asObjectWithSchema}}),Object.defineProperty(t,"asOptionalObjectWithSchema",{enumerable:!0,get:function(){return i.asOptionalObjectWithSchema}});var s=n(81479);Object.defineProperty(t,"EnumMatchBehavior",{enumerable:!0,get:function(){return s.EnumMatchBehavior}}),Object.defineProperty(t,"createStringEnumMatcher",{enumerable:!0,get:function(){return s.createStringEnumMatcher}}),Object.defineProperty(t,"createStringUnionMatcher",{enumerable:!0,get:function(){return s.createStringUnionMatcher}})},61030:(e,t,n)=>{"use strict";n.d(t,{gI:()=>o,UD:()=>l,po:()=>u,y_:()=>c,iV:()=>a,NE:()=>s,QF:()=>i});n(73439),n(6886);var r=n(16216);const o=async e=>{let t;try{t="en-US"===e.localeWithScript?(await n.e(38705).then(n.bind(n,49072))).default:(await n(20518)(`./strings.${e.localeWithScript}.resjson`)).default}catch(o){try{let o=e.language;e.script&&(o=(0,r.yuW)(e.language,e.script)),t=(await n(20518)(`./strings.${o}.resjson`)).default}catch(a){if(e.script)try{t=(await n(20518)(`./strings.${e.language}.resjson`)).default}catch(i){t=(await n.e(38705).then(n.bind(n,49072))).default}else t=(await n.e(38705).then(n.bind(n,49072))).default}}return t},a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return(0,r.iNM)(e,"baseStrings",...n)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.WD1)("baseStrings",...t)},s=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return(0,r.Fsx)("baseStrings",e,t,...o)};function l(e,t){return(0,r.FL2)("baseStrings",e,t)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.s8U)("baseStrings",...t)}function u(e){return(0,r.XY5)("baseStrings",e)}},16109:(e,t,n)=>{"use strict";n.d(t,{So:()=>g});var r=n(16216);const o="Entitlement";var a=n(814),i=n.n(a),s=(n(74407),n(26464),n(64903),n(21883));const l={};n(71372);var c=n(22799),u=n(28248),d=n(87995),h=n(87342),m=n(20608);function p(e){const t=function(e){return function*(t){const{productIds:n}=t;if(0!==n.length)try{if(!(yield(0,m.select)(u.yB))){const t=new Error("Cannot fetch bulk entitlements for an anonymous user");return void(yield(0,m.put)(e.fetchEntitlements.error(n,t)))}const t=yield(0,m.select)(r.yWe),o=yield(0,h.Si)(),a=yield(0,u.le)(),i=yield(0,m.call)(r.gjf),s=yield(0,m.call)(u.R6),l={dependencyName:h.JS.EmeraldXbetService,dependencyOperationName:"GetBulkEntitlements"},c={addAuthorization:!0,isRequired:!0},p=yield(0,m.select)(r.$Pr,r.vCX.StagingFD),g=yield(0,m.call)(d.M3,(e=>e.post("entitlements/bulk",{ProductIds:n},{params:{locale:t.localeWithScript}})),o,i,l,p,{authConfig:c,authenticationProvider:a,aadAuthConfig:s});if(!(0,r.hAT)(g.status))throw new Error(g.statusText);yield(0,m.put)(e.fetchEntitlements.success(n,g.data.entitlements))}catch(o){const t=(0,c.toError)(o);yield(0,m.put)(e.fetchEntitlements.error(n,t))}else yield(0,m.put)(e.fetchEntitlements.success(n,{}))}}(e);return function*(){yield(0,m.takeEvery)((0,r.UoI)(e.fetchEntitlements.start),t)}}function g(e,t){const n=function(e){return{updateEntitlements:(0,r.PHw)("@entitlement/UPDATE_ENTITLEMENTS",o,e,(e=>({entitlements:e}))),fetchEntitlements:(0,r.LG0)(o,e,"@entitlement/FETCH_ENTITLEMENTS",(e=>({productIds:e})),((e,t)=>({productIds:e,response:t})),((e,t)=>({productIds:e,error:t})))}}(e),a=function(e){return(0,r.$ex)([o],new r.h7h(l).on(e.updateEntitlements,(function(e,t){return t.entitlements.length?t.entitlements.reduce(((e,t)=>(t&&(e[(0,r.Lx9)(t.productId)]=(0,s.lceContent)(t)),e)),i()({},e)):e})).on(e.fetchEntitlements.start,(function(e,t){return t.productIds.reduce(((t,n)=>{const o=(0,r.Lx9)(n),a=e[o];return t[o]=(0,s.lceFetching)(a),t}),i()({},e))})).on(e.fetchEntitlements.success,(function(e,t){return t.productIds.reduce(((e,n)=>{const o=(0,r.Lx9)(n);return e[o]=(0,s.lceContent)(t.response[o]||null),e}),i()({},e))})).on(e.fetchEntitlements.error,(function(e,t){return t.productIds.reduce(((n,o)=>{const a=(0,r.Lx9)(o),i=e[a];return n[a]=(0,s.lceError)(t.error,i),n}),i()({},e))})).build())}(n),c=p(n),u=function(e){const t=(t,n)=>e(t)[(0,r.Lx9)(n)]||(0,s.lceNotRequested)();return{getEntitlementByProductId:t,getOwnershipOrSatisfactionByProductId:(e,n)=>{const r=t(e,n);return(0,s.lceTransform)(r,(e=>!!e&&(e.isOwned||e.isSatisfyingEntitlement)))}}}(t);return{entitlementActions:n,entitlementReducer:a,entitlementSagas:c,entitlementSelectors:u}}},35609:(e,t,n)=>{"use strict";n.d(t,{C6:()=>r,F8:()=>i,HZ:()=>d,J2:()=>u,Rc:()=>l,a8:()=>s,sJ:()=>a,ul:()=>c,yf:()=>o});const r="https://emerald.xboxservices.com/xboxcomfd",o="https://emerald-staging.xboxservices.com/xboxcomfd",a="https://cart.production.store-web.dynamics.com/v1.0",i="https://cem.services.microsoft.com/v1",s="https://accounts.xboxlive.com",l="https://displaycatalog.mp.microsoft.com/v7.0",c="https://inv.mp.microsoft.com/v2.0/inventory",u="https://sisu.xboxlive.com",d="https://yearinreviewapi.azurewebsites.net"},17063:(e,t,n)=>{"use strict";n.d(t,{HN:()=>i,S8:()=>a,Wr:()=>o,YK:()=>r});const r=0,o=7500,a=5e3,i=5e3},87995:(e,t,n)=>{"use strict";n.d(t,{zF:()=>r,WE:()=>i.W,cG:()=>a,nV:()=>s,C:()=>m,C6:()=>o.C6,JF:()=>x,S:()=>P,Z0:()=>R,rR:()=>D,dx:()=>U,up:()=>C,kV:()=>N,Xh:()=>F,Ir:()=>B,YA:()=>E,NU:()=>O,Cj:()=>H,mm:()=>S,RG:()=>A,EA:()=>v,oK:()=>q,vY:()=>w,k1:()=>G,C0:()=>l,M3:()=>I,Dl:()=>L});var r,o=n(35609);!function(e){e.AadUserAuthorization="x-ms-authorization-aaduser",e.CartSessionId="x-ms-ucs-sid",e.ContentLength="Content-Length",e.ContinuationToken="x-ms-ct",e.Forwarded="Forwarded",e.ForwardedFor="X-Forwarded-For",e.MsApiVersion="X-MS-API-Version",e.MuidAuthorization="x-authorization-muid",e.TrueClientIp="True-Client-IP",e.UserAgent="User-Agent",e.XblContractVersion="X-XBL-Contract-Version",e.XblExperiments="xbl-experiments",e.ValidationField="x-validation-field-1",e.VectorId="X-MS-Vector-Id"}(r||(r={}));var a,i=n(39683);n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456),n(6886);!function(e){e.SetSwitch="setSwitch",e.SetGateValue="setGateValue",e.ThemeOverride="th"}(a||(a={}));const s={allowDurablesAndConsumables:"allowDurablesAndConsumables",billingMarket:"billingMarket",buddyPassOfferId:"offerId",cId:"cId",campaignId:"campaignId",concernCategory:"concernCategory",deviceFamily:"deviceFamily",enableFullDetail:"enableFullDetail",filters:"filters",giftingString:"giftingString",isHelpful:"isHelpful",isPreview:"isPreview",itemCount:"itemCount",itemType:"itemType",locale:"locale",ocid:"ocid",orderBy:"orderBy",orderIds:"orderIds",pageNumber:"pageNumber",PartnerId:"partnerid",paymentInstrumentId:"paymentInstrumentId",productId:"productId",realReturnUrl:"rrurl",referringProductId:"rpid",resultsPerPage:"resultsPerPage",returnFilters:"returnFilters",searchQuery:"q",serviceSearchQuery:"query",starFilter:"starFilter",status:"status",xboxcomApplyStatus:"xboxcomapplystatus",useNewXSearchAlgorithm:"useNewXSearchAlgorithm",xStoreScenario:"xs",consoleApplySessionId:"consoleApplySessionId",channelName:"channelName",referrerId:"referrerId",isConsoleWebView:"isConsoleWebView",gamerTag:"gt",clientType:"clientType"},l=new Set([a.SetSwitch.toLowerCase(),a.ThemeOverride.toLowerCase()]);var c=n(17063),u=(n(73439),n(51175)),d=n(16216),h=n(22799);n(71372);class m extends Error{constructor(e,t,n){super(e),this.httpStatusCode=t,this.responseBody=n,Object.setPrototypeOf(this,m.prototype)}}var p=n(814),g=n.n(p),f=n(87342);const v=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const a=g()({[r.MsApiVersion]:"1.0"},n);return u.RequestFactory.withBaseUrl(t?o.yf:o.C6).setCommonTimeout(M()).setCommonMaxRetries(c.YK).setCommonHeaders(a).setCommonMetadataValue(f.XP,e)};var _=n(28248);const y=e=>{const t=new u.HttpClientBuilder;return(0,f.Yr)(t,e)},b=(e,t,n)=>y(e).authenticator(new _.Py(n,t,e.logger())),C=(e,t,n)=>b(e,t,n).authenticator(new _.Py(n,t,e.logger())).build(),E=(e,t,n,r)=>b(e,t,n).authenticator(new _.Zb(t,e.logger(),r)).build(),S=e=>y(e).build(),T=(e,t)=>y(e).authenticator(new _.Ws(t)).build(),A=(e,t,n)=>b(e,t,n).build(),w=(e,t)=>y(e).authenticator(new _.gM(t,e.logger())).build(),k=(e,t,n,r,o,a)=>{if(!n.addAuthorization)return S(e);return((e,t,n,r,o)=>{let a=g()({},n);return r&&(a=g()(g()({},a),{},{anonymousTokenAuthenticator:new _.Ws(r)})),(null===o||void 0===o?void 0:o.aadToken)&&(a=g()(g()({},a),{},{aadAuthenticator:new _.uG(o,e.logger())})),b(e,t,a).build()})(e,t,{relyingParty:_.Q7.MDollar,isMandatory:n.isRequired,xTokenOverride:a},r,n.aadAuthRequired?o:void 0)},I=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0;var c,p;const g=v(r,o,s);let f;f=a?k(t,a.authenticationProvider,a.authConfig,n,a.aadAuthConfig,l):T(t,n);const _=e(g);try{const e=await f.execute(_);if(!(0,d.hAT)(e.status))throw new m(`Service request failed. TargetUri: ${e.request.url} | Status: ${e.status}`,e.status,e.data);return e}catch(y){if(y instanceof u.HttpError){const e=(0,d.o8e)(null===(c=y.response)||void 0===c?void 0:c.status)?i.W.InternalServerError:y.response.status;let t;try{const e=null===(p=y.response)||void 0===p?void 0:p.clone();t=await e.json()}catch(b){t=(0,h.toError)(b)}const n=new m(`Service request failed. TargetUri: ${y.request.url} | Status: ${e} | Original Message: ${y.message} | Extra Data: ${t}`,e,t);throw n.name=y.name,n.stack=y.stack,n}throw y}},P=async function(e,t,n,r,o,a,i){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0;return I((t=>t.get(e,u)),n,o,i,s,{authConfig:t,authenticationProvider:r,aadAuthConfig:a},l,c)},R=async function(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0;return I((t=>t.get(e,s)),t,n,r,o,void 0,a,i)},x=(e,t)=>e.execute(t),N=e=>{let t=i.W.InternalServerError;return e!==i.W.Unauthorized&&e!==i.W.Forbidden&&e!==i.W.NotFound||(t=e),t},O=e=>e instanceof m?e.httpStatusCode:e instanceof u.HttpError?e.response.status:void 0,L=async function(e,t,n,r,o,a,i,s){let l=arguments.length>8&&void 0!==arguments[8]&&arguments[8],c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;return I((n=>n.post(e,t,d)),r,a,s,l,{authConfig:n,authenticationProvider:o,aadAuthConfig:i},c,u)};n(68995);const M=()=>((e,t)=>{if(e){const t=parseInt(e,10);if(!isNaN(t))return t}return t})(d.xUA.DEFAULT_TIMEOUT_MSEC,c.Wr),D=e=>u.RequestFactory.withBaseUrl(o.Rc).setCommonTimeout(c.Wr).setCommonMaxRetries(c.YK).setCommonMetadataValue(f.XP,e),U=e=>u.RequestFactory.withBaseUrl(o.F8).setCommonTimeout(c.S8).setCommonMaxRetries(c.YK).setCommonMetadataValue(f.XP,e),F=e=>u.RequestFactory.withBaseUrl(o.ul).setCommonTimeout(c.Wr).setCommonMaxRetries(c.YK).setCommonMetadataValue(f.XP,e),B=e=>u.RequestFactory.withBaseUrl(o.J2).setCommonTimeout(c.Wr).setCommonMaxRetries(c.YK).setCommonMetadataValue(f.XP,e),H=e=>u.RequestFactory.withBaseUrl(o.sJ).setCommonTimeout(M()).setCommonMaxRetries(c.YK).setCommonMetadataValue(f.XP,e),q=e=>u.RequestFactory.withBaseUrl(o.a8).setCommonTimeout(c.HN).setCommonMetadataValue(f.XP,e).setCommonMaxRetries(1),G=e=>u.RequestFactory.withBaseUrl(o.HZ).setCommonTimeout(c.Wr).setCommonMaxRetries(c.YK).setCommonMetadataValue(f.XP,e)},97955:(e,t,n)=>{"use strict";var r;n.d(t,{IG:()=>a,PO:()=>r,Vo:()=>i,gj:()=>o}),function(e){e.AppsSnowbirdBanner="AppsSnowbirdBanner",e.AuthExample="AuthExample",e.BuddyPassReceiver="BuddyPassReceiver",e.BuddyPassSender="BuddyPassSender",e.Carousel="Carousel",e.ContentBlock="ContentBlock",e.ConfigurableSnowbirdHero="ConfigurableSnowbirdHero",e.HeroItem="HeroItem",e.HtmlContentBlock="HtmlContentBlock",e.Hyperlink="Hyperlink",e.IconBar="IconBar",e.Jalisco="JaliscoCTA",e.Mosaic="Mosaic",e.OptIn="OptIn",e.PageBarV1="PageBarV1",e.PageBarV2="PageBarV2",e.ProductInfoExample="ProductInfoExample",e.XboxAppDownloadBanner="XboxAppDownloadBanner",e.XboxCardPMPPageBar="XboxCardPMPPageBar",e.XboxCardPMPPageHero="XboxCardPMPPageHero",e.XgpImmersiveSku="XgpImmersiveSku",e.YearInReview="YearInReview"}(r||(r={}));const o="ContentPage",a="content",i="https://assets.adobedtm.com/launch-ENbcb8955aa2f84046af210e3226cdda04.min.js"},214:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>r.W});n(97955),n(46514);var r=n(42123);n(51854)},10919:(e,t,n)=>{"use strict";var r,o,a,i,s,l,c;n.d(t,{AK:()=>c,H:()=>o,Ix:()=>i,d9:()=>a,rO:()=>r}),function(e){e.Unknown="Unknown",e.PicchuHtmlPage="Skinned Splash Page 2016",e.VariableMimeType="Variable Type Page",e.Redirect="Redirect",e.ModuleBasedPage="Module Based Page"}(r||(r={})),function(e){e.Left="left",e.Right="right"}(o||(o={})),function(e){e.Black="black",e.White="white"}(a||(a={})),function(e){e.h1="h1",e.h2="h2"}(i||(i={})),function(e){e.Heading1="c-heading-1",e.Heading2="c-heading-2"}(s||(s={})),function(e){e.Subheading1="c-subheading-1",e.Subheading2="c-subheading-2"}(l||(l={})),function(e){e.True="true",e.False="false"}(c||(c={}))},46514:(e,t,n)=>{"use strict";n.d(t,{j7:()=>r});var r;n(10919);!function(e){e.Unknown="Unknown",e.NotStarted="NotStarted",e.Prescreening="Prescreening",e.Prescreened="Prescreened",e.Preselected="Preselected",e.Applying="Applying",e.Pending="Pending",e.Approved="Approved",e.Error="Error",e.Blocked="Blocked"}(r||(r={}))},18654:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContentModalLauncherTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(60899).then(n.bind(n,70228))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 70228}})},38919:(e,t,n)=>{"use strict";n.d(t,{L:()=>l,q:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContentPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(84879)]).then(n.bind(n,78985))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 78985}}),c=(0,s.cx)({resolved:{},chunkName:()=>"NoTargetingContentPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(84879)]).then(n.bind(n,71831))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 71831}})},14463:(e,t,n)=>{"use strict";n.d(t,{u:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"YearInReviewMarketingPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(71661),n.e(34716)]).then(n.bind(n,33009))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 33009}})},4358:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"YearInReviewPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(71661),n.e(68262)]).then(n.bind(n,29862))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 29862}})},83362:(e,t,n)=>{"use strict";n.d(t,{ContentRendering:()=>i});var r=n(38919),o=n(3021),a=n(26065);class i{constructor(){this.getContentContainer=()=>r.L,this.getNoTargetingContentContainer=()=>r.q,this.getContentPageRequestSaga=()=>o.m,this.getContentPageTheme=(e,t)=>(0,a.b)(e,t,{})}}},42123:(e,t,n)=>{"use strict";n.d(t,{Q:()=>v,W:()=>_});n(71372),n(73439),n(6886);var r=n(97955),o=n(16216),a=n(61975),i=n(29075),s=n(38919),l=n(18654),c=n(4358),u=n(14463);const d=(0,i.tP)((()=>n.e(37551).then(n.bind(n,91053))),(e=>e.lazyRouteConfigs)),h=()=>null,m=[{key:"ContentModalLauncherTest",path:"/contentmodaltest",component:l.s,exact:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Content Modal Launcher Test"},lazyConfig:d("ContentModalLauncherTest")},{key:"XboxCardContentPage",path:[`/:${o.Hw9.Path}(xbox-mastercard)`],component:s.L,exact:!0,isServerOnly:!0,seoComponent:h,theme:o.Q2A.Light,testConfig:{title:"Xbox Card Content PMP",testPath:[{path:"/xbox-mastercard",title:"Main apply page"}]},lazyConfig:d("XboxCardContentPage")},{key:"XboxCardContentPageDefaultError",path:[`/:${o.Hw9.Path}(xbox-mastercard)`],exact:!0,component:a.GP,isServerOnly:!0,seoComponent:h},{key:"YearInReviewMarketingPage",path:["/2023recap"],exact:!0,component:u.u,seoComponent:h,constraint:{featureGates:{[o.vCX.EnableYearInReviewMarketing]:e=>!0===e}},testConfig:{title:"2023 Recap"},lazyConfig:d("YearInReviewMarketingPage")},{key:"YearInReviewPage",path:["/year-in-review"],exact:!0,component:c.o,seoComponent:h,constraint:{featureGates:{[o.vCX.EnableYearInReview]:e=>!0===e}},testConfig:{title:"Year in Review"},lazyConfig:d("YearInReviewPage")},{key:"AllContentPages",path:[`/:${o.Hw9.Path}*`],component:s.L,exact:!0,isServerOnly:!0,seoComponent:h,testConfig:{title:"Test Content Pages",testPath:[{path:"/test/modular-page",title:"Module Based Page"},{path:"/test/preview-test",title:"Test Preview Page"},{path:"/consoles/xbox-series-x",title:"Xbox Series X (Content)"},{path:"/consoles/scarlett",title:"Scarlett (Content Redirect)"},{path:"/consoles/xbox-one-x",title:"Xbox One X (404)"},{path:"/xbox-bethesda-games-showcase",title:"Bethesda Games Showcase (Migration test)"}]},lazyConfig:d("AllContentPages")},{key:"GlobalSharedContent",path:["/global-shares/*"],component:s.L,exact:!0,isServerOnly:!0,lazyConfig:d("GlobalSharedContent")}];var p=n(83362);const g="content_IContentRendering";let f;const v=()=>{if(!f)throw new Error("Service Locator not initialized.");return f},_={partnerId:r.IG,routes:m,initializeAsync:e=>(f=e,Promise.resolve()),registerDependencies:e=>{e.register(g,(()=>new p.ContentRendering)),e.registerLazy(g,(async()=>{const{ContentRendering:e}=await n.e(37551).then(n.bind(n,83362));return new e}))},lazyConfig:()=>n.e(37551).then(n.bind(n,94))}},51854:(e,t,n)=>{"use strict";n.d(t,{S:()=>i});n(77950),n(88233),n(74069),n(6886),n(60523);var r=n(87995),o=n(49025),a=n(16216);const i=(e,t)=>((e,t,n)=>{const i=`content/${(0,a.r5C)(e)}`,s=new URLSearchParams;return s.append(r.nV.locale,t.localeWithScript),n&&s.append(r.nV.isPreview,n.toString()),(0,o.LTV)(i,s)})(e.match.params[a.Hw9.Path],t,!!e.isPreview)},28782:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,i:()=>i});var r,o=n(30206),a=n(75681);!function(e){e.UPDATE_CONTENT_PAGE="@contentPage/UPDATE_CONTENT_PAGE"}(r||(r={}));const i={updateContentPage:(0,a.a)(r.UPDATE_CONTENT_PAGE,o.Q,((e,t)=>({contentPage:e,isPreview:t})))}},75681:(e,t,n)=>{"use strict";n.d(t,{a:()=>i,z:()=>a});var r=n(16216),o=n(97955);const a=(0,r.Krg)(o.IG),i=(0,r.mqE)(o.IG)},3021:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var r=n(49025),o=n(16216),a=n(20608),i=n(42123),s=n(51854),l=n(28782);function*c(e,t){const n=(0,i.Q)(),l=yield(0,a.call)(n.resolveLazy,r.ibq),c=yield(0,a.select)(o.g48),d=l.makePageRequestSubSaga(s.S,{addAuthorization:!0,isRequired:!1,aadAuthRequired:!!c},u);yield(0,a.call)(d,e,t)}function*u(e){const t=yield(0,a.select)(o.g48);e.content&&(yield(0,a.put)(l.i.updateContentPage(e.content,t)))}},30206:(e,t,n)=>{"use strict";n.d(t,{Q:()=>r});const r="ContentPage"},26065:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,b:()=>s});var r=n(16216),o=n(10919),a=n(59035);const i=(e,t,n)=>{return o=(0,a.U)(e)[(0,r.r5C)(t)],n?null===o||void 0===o?void 0:o.preview:null===o||void 0===o?void 0:o.published;var o},s=(e,t,n)=>{const a=i(e,t);if(a)switch(a.presentationTemplate){case o.rO.PicchuHtmlPage:{const e=a.data.pageDetails.pageDataAttributes;if(!e)return;return e.length>0&&"1"===e[0]?r.Q2A.DarkHeader:void 0}case o.rO.Redirect:return(0,r.gzb)(e)}}},59035:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,U:()=>i});var r=n(16216),o=n(97955);const a=e=>(0,r.Qij)(e,o.IG),i=e=>a(e).contentPages},73483:(e,t,n)=>{"use strict";n.d(t,{DP:()=>u,Fw:()=>r,H1:()=>o,OV:()=>i,TB:()=>a,dP:()=>c});var r,o,a,i,s=n(3569),l=n(16216);function c(e){return e.isMobile?r.Mobile:e.isWindows?r.Windows:r.OtherPC}function u(e){return(0,l.kgH)(e)===(0,l.kgH)(s.Cv)?a.PCGP:(0,l.kgH)(e)===(0,l.kgH)(s.Os)?a.Ultimate:void 0}!function(e){e[e.Mobile=1]="Mobile",e[e.OtherPC=2]="OtherPC",e[e.Windows=3]="Windows"}(r||(r={})),function(e){e[e.Console=1]="Console",e[e.Mobile=2]="Mobile",e[e.OtherPC=3]="OtherPC",e[e.TV=4]="TV",e[e.Windows=5]="Windows"}(o||(o={})),function(e){e.PCGP="CFQ7TTC0KGQ8",e.Ultimate="CFQ7TTC0KHS0"}(a||(a={})),function(e){e.GCM="GCM",e.RPID="RPID"}(i||(i={}))},29084:(e,t,n)=>{"use strict";n.d(t,{DP:()=>r.DP,Fw:()=>r.Fw,H1:()=>r.H1,OV:()=>r.OV,TB:()=>r.TB});var r=n(73483)},47263:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"Launchpad",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,n.e(39393).then(n.bind(n,12339))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 12339}})},5808:(e,t,n)=>{"use strict";n.d(t,{r:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"PIDLContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(31553),n.e(74531)]).then(n.bind(n,31553))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 31553}})},18689:(e,t,n)=>{"use strict";n.d(t,{IG:()=>r,Z0:()=>o});const r="core2",o="default"},32663:(e,t,n)=>{"use strict";var r;n.d(t,{b9:()=>s,n5:()=>u.n5,VY:()=>u.VY,Jp:()=>u.Jp,CD:()=>u.CD,od:()=>o,XW:()=>a,Gx:()=>M,J2:()=>u.J2,uZ:()=>d,Y3:()=>l,TH:()=>x,B6:()=>u.B6,KM:()=>B,Dh:()=>V,By:()=>$,IG:()=>c.IG,qD:()=>u.qD,Uh:()=>r,Fl:()=>u.Fl,ys:()=>u.ys,n_:()=>u.n_,dq:()=>i,yW:()=>O,Q5:()=>U,WR:()=>D,v5:()=>u.v5,Wk:()=>u.Wk,Vx:()=>u.Vx,zx:()=>u.zx,cK:()=>b,m8:()=>N,f0:()=>u.f0,VR:()=>H,jw:()=>q,N6:()=>X,r2:()=>z,at:()=>W,r8:()=>G,XB:()=>K,m5:()=>u.m5,cc:()=>u.cc,Z0:()=>c.Z0,Ok:()=>k,ZG:()=>T,KX:()=>I,FA:()=>F,xX:()=>L,e5:()=>S,Tf:()=>A,PH:()=>w,GP:()=>R}),function(e){e.ProductId="ProductId",e.SkuId="SkuId",e.AvailabilityId="AvailabilityId",e.AffirmationProductId="AffirmationProductId",e.CloudServiceUpsells="CloudServiceUpsells",e.DisabledReason="DisabledReason",e.EditionIdsList="EditionIdsList",e.IsBundleProduct="IsBundleProduct",e.IsOnWishlist="IsOnWishlist",e.IsDisabled="IsDisabled",e.IsTrial="IsTrial",e.IsUpgrade="IsUpgrade",e.NetworkName="NetworkName",e.SkuIdsList="SkuIdsList",e.UpsellProductId="UpsellProductId",e.UpsellProductIdsList="UpsellProductIdsList"}(r||(r={}));const o=25,a="DO_NOT_FILTER",i="ORDERBY",s="AddOnsByParentWithDetails",l="LIBRARY";var c=n(18689),u=n(25262);const d="gamingContext";n(88233),n(6886),n(14121),n(60523);var h=n(87995),m=n(16216),p=n(3569),g=n(74495),f=n(4517),v=n(57302),_=n.n(v),y=n(98680);const b="/games/store/:productName/:productId/:skuId?/:availabilityId?",C="/external/contextual-store-host/:productId/:skuId?/:availabilityId?",E="dark",S=e=>{const t=(0,f.LX)(e,{path:b});if(t&&"productId"in t.params){const e=t.params;return"p"===e.productName&&(e.productName=void 0),e}},T=(e,t,n,r,o)=>new URL(`${e}${I("/p/:productName/:productId/:skuId?/:availabilityId?",t,n,r,o)}`,m.zIV).toString(),A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;return new URL(`${t}${P(C,E,n,r,o,a,i,s,l,"v2",c,u,d)}`,e).toString()},w=(e,t,n,r,o,a,i)=>{const s=(0,g.useSelector)(m.Xnf).origin,l=(0,g.useSelector)(m.Yzi);return k(s,l,e,t,n,r,o,a,i)},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9?arguments[9]:void 0;return new URL(`${t}${I(b,n,r,o,a,i,s,l,c)}`,e).toString()},I=(e,t,n,r,o,a,i,s,l)=>{const c=_()(n||"p",{lower:!0,remove:/[*+]/g});let u=(0,f.Gn)(e,{productId:t,productName:c||"p",skuId:r||void 0,availabilityId:o||void 0});const d=new URLSearchParams;return a&&d.append(h.nV.referringProductId,a),i&&d.append(h.nV.PartnerId,i),s&&d.append(h.nV.campaignId,s),l&&d.append(h.nV.ocid,l),(d.has(h.nV.referringProductId)||d.has(h.nV.PartnerId)||d.has(h.nV.campaignId))&&(u=(0,y.LT)(u,d)),u},P=(e,t,n,r,o,a,i,s,l,c,u,d,m)=>{const p=_()(r||"p",{lower:!0,remove:/[*+]/g});let g=(0,f.Gn)(e,{productId:n,productName:p||"p",skuId:o||void 0,availabilityId:a||void 0});const v=new URLSearchParams;return i&&v.append(h.nV.referringProductId,i),s&&v.append(h.nV.PartnerId,s),l&&v.append(h.nV.campaignId,l),u&&v.append(h.nV.xStoreScenario,u),d&&v.append(h.nV.itemType,d),m&&v.append(h.nV.clientType,m),v.has(h.nV.referringProductId)||v.has(h.nV.PartnerId)||v.has(h.nV.campaignId)||v.has(h.nV.itemType)||v.has(h.nV.xStoreScenario)||v.has(h.nV.clientType)?g=`${(0,y.LT)(g,v)}&v=${c}&t=${t}`:g+=`?v=${c}&t=${t}`,g},R=(e,t)=>{const n=(0,g.useSelector)(m.Xnf).origin,r=(0,g.useSelector)(m.Yzi);return k(n,r,e,(0,p.jb)(e,!1),void 0,void 0,t)};n(31235);const x=100,N="/search/results/:tabName?";var O;!function(e){e.Addons="addons",e.Docs="docs",e.Forums="forums",e.Games="games",e.Hardware="hardware",e.Passes="passes",e.General="general"}(O||(O={}));const L=e=>Object.values(O).includes(e.toLowerCase()),M=O.Games,D=[{tabName:O.Games,hasFilters:!0},{tabName:O.Addons,hasFilters:!0},{tabName:O.Passes,hasFilters:!1},{tabName:O.Hardware,hasFilters:!1},{tabName:O.Docs,hasFilters:!1},{tabName:O.Forums,hasFilters:!1},{tabName:O.General,hasFilters:!1}];var U;!function(e){e[e.Games=0]="Games",e[e.Addons=1]="Addons",e[e.Passes=2]="Passes",e[e.Hardware=3]="Hardware",e[e.Docs=4]="Docs",e[e.Forums=5]="Forums",e[e.General=6]="General"}(U||(U={}));const F=e=>(0,m.Ypc)(e,O.Docs)||(0,m.Ypc)(e,O.Forums)||(0,m.Ypc)(e,O.General);var B;!function(e){e.Production="prod",e.Int="int",e.PPE="ppe"}(B||(B={}));const H="US",q="en-US",G="xboxweb",z="mc",X="credit_card",$="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=success",V="https://www.xbox.com/{locale}/xbox-mastercard?xboxcomapplystatus=fail",W="BANNER",K="MSFT-Web-Lpage"},25262:(e,t,n)=>{"use strict";n.d(t,{B6:()=>r,CD:()=>C,DA:()=>m,Fl:()=>a,J2:()=>c,Jp:()=>b,NX:()=>f,VY:()=>g,Vx:()=>_,WG:()=>s,Wk:()=>u,_t:()=>v,cc:()=>T,cr:()=>p,d7:()=>y,f0:()=>E,m5:()=>S,n5:()=>h,n_:()=>i,qD:()=>A,v5:()=>d,ys:()=>o,zx:()=>l});const r="https://account.microsoft.com",o="https://www.microsoft.com/uniblends/scripts/blender.min.js",a="https://uniblends.www.microsoft.com/ppe/scripts/blender.min.js",i="https://support.xbox.com/en-US/help/games-apps/my-games-apps/install-games-remotely-on-xbox-one",s="https://support.xbox.com/help/games-apps/cloud-gaming/set-up-smart-tv-xbox-app",l="https://xbox.com/{locale}/wishlist",c="https://www.xbox.com/{locale}/promotions/sales/sales-and-specials",u="https://www.xbox.com/{locale}/games/all-games?cat=newreleases",d="https://www.xbox.com/{locale}/xbox-game-pass",h="https://www.xbox.com/{locale}/games/browse",m="https://www.xbox.com/{locale}/games/browse/console?PlayWith=XboxSeriesX%7CS,XboxOne,CloudGaming,XboxPlayAnywhere",p="https://www.xbox.com/{locale}/games/browse/pc?PlayWith=PC,CloudGaming,XboxPlayAnywhere",g="/{locale}/games/browse/{collection}",f="https://www.xbox.com/{locale}/consoles",v="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",_="https://store.ubi.com/my-account",y="https://www.xbox.com/play",b="https://www.xbox.com/{locale}/play",C="https://www.xbox.com/{locale}/play/games/{title}/{productId}",E="https://www.xbox.com/{locale}/apps/xbox-app-for-pc",S="https://www.xbox.com/{locale}/apps/xbox-app-for-pc#systemrequirements",T="https://www.xbox.com/{locale}/apps/xbox-app-for-tv",A="https://www.xbox.com/{locale}/xbox-game-pass/games#pcgames"},12748:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});n(36728);const r=(e,t,n)=>{n&&e.push(t)}},54070:(e,t,n)=>{"use strict";n.d(t,{H0:()=>T,HN:()=>_,Nd:()=>p,Pd:()=>f,Qz:()=>m,Wd:()=>y,fm:()=>h,mZ:()=>A,uw:()=>b});var r=n(814),o=n.n(r),a=(n(36728),n(43430),n(77950),n(88233),n(74069),n(44112),n(64925),n(74407),n(26464),n(54819),n(64903),n(6886),n(14121),n(60523),n(16216)),i=n(61030),s=n(87342),l=n(74495),c=n(3569),u=n(32663),d=n(15708);const h=(e,t)=>{const n=(0,l.useSelector)((t=>(0,d.fT)(t,e))),r=g(n),o=(0,l.useSelector)((t=>(0,d.oT)(t,e))),a=(0,i.NE)(r,o);return t||a},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.V9f,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return new URL(`${t}/games/browse/${n}`,e).toString()},p=e=>{const t=(0,l.useSelector)(a.Yzi);return(0,a.uQr)(u.VY,{locale:t,collection:e})},g=e=>`channelTitle_${e}`,f=(e,t)=>{const n=`_CHANNELID=${t}`,r=`_FILTERS=${C(e)}`;return(0,a.kgH)(`${s.uZ.Browse.toUpperCase()}${n}${r}`)},v=/_CHANNELID=(.*?)_FILTERS=/i,_=e=>{var t,n;return(0,a.kgH)(e).startsWith("BROWSE_")&&null!==(n=null===(t=e.match(v))||void 0===t?void 0:t[1])&&void 0!==n?n:e},y=(e,t,n)=>`${s.uZ.Search}_${t}_SEARCHQUERY=${n.split(" ").join("-")}_${C(e)}`.toUpperCase(),b=(e,t)=>Object.keys(u.yW).reduce(((n,r)=>o()(o()({},n),{},{[u.yW[r]]:y(t,r,e)})),{}),C=e=>E(e).sort().join("&"),E=e=>{const t=[];for(const[n,r]of Object.entries(e))0!==r.length&&t.push(`${n.toUpperCase()}=${S(r)}`);return t},S=e=>e.map((e=>e.toUpperCase())).sort().join(","),T=e=>{let t="";if(!e||0===e.length)return t;switch(e[0]){case c.Zr.Consumable:case c.Zr.Durable:t=u.b9}return t},A=e=>e?e.substring(0,u.TH).trim():""},45208:(e,t,n)=>{"use strict";n.d(t,{Oi:()=>r,lx:()=>a,wU:()=>o});const r=e=>Math.round(100*e)/100,o=e=>`${e}rem`,a=(e,t)=>`${e}_${t.toLocaleUpperCase()}`},98680:(e,t,n)=>{"use strict";n.d(t,{jP:()=>p,vo:()=>v,aX:()=>f,wT:()=>$,Al:()=>W,Ri:()=>K,fV:()=>O,U8:()=>G,G7:()=>k,LT:()=>H,nS:()=>Z.nS,mU:()=>c,OT:()=>R,vx:()=>x,wU:()=>L.wU,lx:()=>L.lx,Pd:()=>l.Pd,WE:()=>A,sD:()=>E,CY:()=>T,Wd:()=>l.Wd,uw:()=>l.uw,Zc:()=>w,Qz:()=>l.Qz,HN:()=>l.HN,Is:()=>M,_B:()=>q,Uo:()=>Z.Uo,z1:()=>Z.z1,BS:()=>Z.BS,H0:()=>l.H0,e1:()=>Z.e1,EV:()=>Z.EV,uh:()=>Z.uh,Oi:()=>L.Oi,mZ:()=>l.mZ,Nd:()=>l.Nd,WV:()=>a,FF:()=>Q,fm:()=>l.fm,mG:()=>N,_q:()=>z._,kR:()=>b,Gi:()=>y,g6:()=>_,bN:()=>z.b});n(12748),n(61657),n(13489),n(88233),n(6886);var r=n(16216),o=n(61030);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;var a;const s=(0,o.iV)("gameSizeFormat"),l=i(e,t,n);if(void 0!==l)return(0,r.WUZ)(s,null===(a=l.size)||void 0===a?void 0:a.toString(),l.unit)},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const[r,a,i,l,c,u]=(0,o.QF)("bytesSymbol","kiloBytesSymbol","megaBytesSymbol","gigaBytesSymbol","teraBytesSymbol","petaBytesSymbol"),d=[r,a,i,l,c,u];if(void 0===e)return;let h,m=0;return 0===e?h=e:(m=s(e,t),h=parseFloat((e/Math.pow(t,m)).toFixed(n))),{size:h,unit:d[m]&&d[m]||""}},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;return Math.floor(Math.log(e)/Math.log(t))};var l=n(54070);const c=e=>"true"===(null===e||void 0===e?void 0:e.toLowerCase());n(43430),n(9e4),n(34715),n(64925),n(74407),n(52856),n(26464),n(18339),n(19570),n(54819),n(64903),n(57610),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456);var u=n(2784),d=n(74495),h=n(3569),m=n(15708);const p=u.createContext({activeFilterFunctions:{},filteredProducts:[],initialProducts:[],setActiveFilterFunctions:()=>{}}),{Provider:g,Consumer:f}=p,v=e=>{const{children:t,initialProductList:n}=e,[r,o]=(0,u.useState)({}),a=(0,d.useSelector)((e=>(0,m.h$)(e,n))).filter((e=>!!e.product)),i=Object.values(r).reduce(((e,t)=>t(e)),a).map((e=>{var t,n;return{productId:e.product.productId,skuId:null===(t=e.sku)||void 0===t?void 0:t.skuId,availabilityId:null===(n=e.availability)||void 0===n?void 0:n.availabilityId}}));return u.createElement(g,{value:{activeFilterFunctions:r,filteredProducts:i,initialProducts:a,setActiveFilterFunctions:o}},t)},_=()=>{const{gamesProductKindDisplayText:e,durableProductKindDisplayText:t}=(0,o.y_)("gamesProductKindDisplayText","durableProductKindDisplayText");return{[h.Fc.Game.toUpperCase()]:e,[h.Fc.Durable.toUpperCase()]:t}},y=e=>{const t=new Set,n=_();e.forEach((e=>{e.product.productKind&&t.add(e.product.productKind)}));return{filterOptions:[...t].sort(),filter:(e,t)=>e.filter((e=>e.product.productKind&&(0,r.Ypc)(e.product.productKind,t))),filterValueToDisplayString:n}},b=e=>{const t=new Set;e.forEach((e=>{e.product.categories&&e.product.categories.forEach((e=>t.add(e)))}));return{filterOptions:[...t].sort(),filter:(e,t)=>e.filter((e=>{let n=!1;return e.product.categories&&(n=e.product.categories.some((e=>(0,r.Ypc)(e,t)))),n}))}};var C=n(87995);const E=e=>{const t={},n=(e=>Object.entries(e).filter((e=>{let[t,n]=e;return!!t&&!0===n})).map((e=>{let[t,n]=e;return t})).join(","))(e);return n&&(t[C.zF.XblExperiments]=n),t},S=(e,t)=>{switch(e){case 2:return t&&(e=>29===new Date(e,1,29).getDate())(t)?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},T=e=>{const t=new Array(13);t[0]={value:-1,label:e};for(let n=1;n<t.length;n++)t[n]={value:n,label:n.toString()};return t},A=(e,t,n)=>{let r;if(t){const e=S(t,n);r=new Array(e+1)}else r=new Array(32);r[0]={value:-1,label:e};for(let o=1;o<r.length;o++)r[o]={value:o,label:o.toString()};return r},w=e=>{const t=(new Date).getFullYear(),n=new Array(151);n[0]={value:-1,label:e};for(let r=1;r<n.length;r++)n[r]={value:t-r,label:(t-r).toString()};return n},k=e=>{const t=new Date,n=t.getMonth(),r=e.getMonth();let o=t.getFullYear()-e.getFullYear();return(n<r||n===r&&t.getDate()<e.getDate())&&o--,o};var I=n(15946);const P="keydown",R=e=>Array.from(e.querySelectorAll('button, a, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter((e=>!e.hasAttribute("disabled"))),x=e=>{if(null===e||void 0===e?void 0:e.current){const t=R(e.current);t.length>0&&t[0].focus()}},N=(e,t,n,o)=>{(0,I.useBButtonHandler)(I.GamepadAction.Up,(()=>!!e&&(t(),!0))),(0,u.useEffect)((()=>{if(e){const e=function(e){let o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,r.Ypc)(e.key,"escape")&&(t(),o&&(null===n||void 0===n?void 0:n.current)&&n.current.focus(),e.stopPropagation(),e.preventDefault())},a=t=>e(t);let i;if(document.addEventListener(P,a),null===o||void 0===o?void 0:o.current){x(o),o.current.addEventListener(P,(t=>e(t,!0)));const t=null===o||void 0===o?void 0:o.current;i=()=>{t&&t.removeEventListener(P,(t=>e(t,!0)))}}return()=>{document.removeEventListener(P,a),i&&i()}}}),[n,o,t,e]);return e=>{t(e),(null===n||void 0===n?void 0:n.current)&&n.current.focus()}},O=u.createContext({});var L=n(45208);const M=(e,t)=>e<0?0:e>=t?t-1:e;n(84179);var D=n(814),U=n.n(D),F=n(4517),B=n(32663);const H=(e,t)=>t?`${e}?${t.toString()}`:e,q=e=>{const t=(0,F.LX)(e.pathname,{path:B.m8});if(t){if("tabName"in t.params){const n=t.params.tabName;if(n&&(0,B.xX)(n))return U()(U()({},e),{},{pathname:(0,F.Gn)(B.m8,{tabName:n.toLowerCase()})})}return U()(U()({},e),{},{pathname:(0,F.Gn)(B.m8,{tabName:B.Gx})})}return e};var G,z=n(95240);!function(e){e.AlphabeticalAscending="AlphabeticalAscending",e.AlphabeticalDescending="AlphabeticalDescending"}(G||(G={}));const X={[G.AlphabeticalAscending]:e=>j(e),[G.AlphabeticalDescending]:e=>j(e,!0)},$=u.createContext({activeSortFunction:G.AlphabeticalAscending,setActiveSortFunction:()=>{},sortedProducts:[]}),{Provider:V,Consumer:W}=$,K=e=>{const{children:t,initialProductList:n}=e,[r,o]=(0,u.useState)(G.AlphabeticalAscending),a=(0,d.useSelector)((e=>(0,m.h$)(e,n))).filter((e=>!!e.product)),i=X[r](a.map((e=>e.product))).map((e=>({productId:e.productId})));return u.createElement(V,{value:{activeSortFunction:r,setActiveSortFunction:o,sortedProducts:i}},t)},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[...e],r=n.sort(((e,t)=>e.title<t.title?-1:e.title>t.title?1:0));return t?r.reverse():r};var Z=n(37533),Y=n(28248);const Q=()=>{const e=(0,d.useSelector)(Y.bG),t=null===e||void 0===e?void 0:e.xuid,n=(0,d.useDispatch)(),r=(0,d.useSelector)(m.ut);(0,u.useEffect)((()=>{r||n(m.SA.fetchVectorId.start())}),[t,r,n])}},84179:(e,t,n)=>{"use strict";n.d(t,{m:()=>s});var r=n(16216),o=n(74495),a=n(32663),i=n(89083);const s=e=>{const t=(0,o.useSelector)(r.Xnf).origin,n=(0,o.useSelector)(r.Yzi);if(!e||!e.id||!e.itemType)return;const{id:s,itemType:l}=e;switch(l){case i.UA.ProductId:return(0,a.Ok)(t,n,s);case i.UA.CollectionId:return;case i.UA.Link:return s;default:return}}},81525:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(16216),o=n(74495),a=n(32663);const i=(e,t)=>{const n=(0,o.useSelector)(r.Yzi);return(0,r.uQr)(a.CD,{locale:n,title:t||"p",productId:e})}},95240:(e,t,n)=>{"use strict";n.d(t,{_:()=>i,b:()=>s});n(31235),n(6886);var r=n(16216),o=n(2784),a=n(74495);const i=e=>{const[t,n]=(0,o.useState)(!1);(0,o.useEffect)((()=>{if(!t)return void n(!0);let r;const o=setTimeout((()=>{r=window.requestAnimationFrame(e)}),0);return()=>{clearTimeout(o),cancelAnimationFrame(r)}}),[e,t])},s=()=>{const e=(0,a.useSelector)(r.yWe).language;return r.Kp2.includes((0,r.kgH)(e))}},37533:(e,t,n)=>{"use strict";n.d(t,{BS:()=>u,EV:()=>s,Uo:()=>d,e1:()=>l,nS:()=>c,uh:()=>i,z1:()=>h});var r=n(814),o=n.n(r),a=(n(36728),n(77950),n(88233),n(31235),n(94908),n(34715),n(26464),n(19570),n(6886),n(60523),n(89741));const i=(e,t,n)=>{e.push(o()(o()({},t),{},{state:{returnFilters:!n}}))},s=(e,t)=>{var n;const r=new URLSearchParams(t.search),o=decodeURIComponent(null!==(n=r.get(e))&&void 0!==n?n:"");return null===o||0===o.trim().length?void 0:o},l=e=>{const t={},n=Object.values(a.v);return new URLSearchParams(e.search).forEach(((e,r)=>{if(!n.includes(r))return;const o=decodeURIComponent(e);o&&o.trim().length>0&&(t[r]=o.split(","))})),t},c=e=>{const t=Object.values(a.v),n=new URLSearchParams(e.search);return new URLSearchParams(e.search).forEach(((e,r)=>{t.includes(r)&&n.delete(r)})),o()(o()({},e),{},{search:n.toString()})},u=(e,t,n)=>{const r=new URLSearchParams(n.search);return r.has(e)?r.set(e,t):r.append(e,t),o()(o()({},n),{},{search:r.toString()})},d=(e,t)=>{const n=new URLSearchParams(t.search);return n.has(e)?(n.delete(e),o()(o()({},t),{},{search:n.toString()})):t},h=(e,t,n)=>{var r;const a=new URLSearchParams(n.search);if(a.has(e)){const n=decodeURIComponent(null!==(r=a.get(e))&&void 0!==r?r:"");if(n&&n.trim().length>0){const r=n.split(",");r.includes(t)?r.splice(r.indexOf(t),1):r.push(t),r.length>0?a.set(e,r.join(",")):a.delete(e)}else a.delete(e)}else a.append(e,t);return o()(o()({},n),{},{search:a.toString()})}},49025:(e,t,n)=>{"use strict";n.d(t,{ttT:()=>At.tt,S8w:()=>Mn.S8,eNe:()=>Mn.eN,vmd:()=>Mn.vm,Xaj:()=>At.X,UFU:()=>y,UGU:()=>At.UG,lvQ:()=>q,_NT:()=>U,pdP:()=>ae,JqF:()=>$t,voT:()=>Y.vo,CO6:()=>Oe,K3f:()=>Le,aX7:()=>Y.aX,wwk:()=>Be,Alg:()=>Y.Al,RiE:()=>Y.Ri,rKW:()=>He,wc4:()=>en,m9s:()=>Mn.m9,fVL:()=>Y.fV,Hcb:()=>du,uL1:()=>Ul,aoB:()=>At.ao,vnT:()=>yn,BEx:()=>An,Ype:()=>Fl,E$n:()=>ql,EqJ:()=>Tn,sCM:()=>_n,F0k:()=>bn,zBs:()=>Sn,c$s:()=>At.c$,odo:()=>T.od,Gxm:()=>T.Gx,XgG:()=>Xe,msS:()=>$e,L0B:()=>jn,s69:()=>Kl,CTs:()=>Zn,vAw:()=>Mn.vA,BPi:()=>At.BP,xpi:()=>ne,odj:()=>Ye,td5:()=>Qe,xZ4:()=>fu.x,ibq:()=>vu,zTD:()=>ds,WAY:()=>At.WA,v9X:()=>Oa,njw:()=>Mn.nj,Ukb:()=>st,zPB:()=>Uc,J_R:()=>Js,dGl:()=>ht,YXB:()=>iu,$kX:()=>uu,kTJ:()=>cu,yAf:()=>Un,ooi:()=>Mn.oo,IGD:()=>T.IG,whE:()=>er,ZrW:()=>Mn.Zr,F6K:()=>At.F6,tCN:()=>At.tC,IYI:()=>At.IY,G3y:()=>se,tob:()=>Xr,gaw:()=>Kc,TbR:()=>Cn,dqe:()=>T.dq,pxp:()=>Mn.px,sXi:()=>At.sX,B44:()=>Zc,yW7:()=>T.yW,Q5c:()=>T.Q5,WRE:()=>T.WR,qYw:()=>mt,lPH:()=>ft,Z5$:()=>At.Z5,$16:()=>Jc,$K:()=>At.$K,BQW:()=>Mn.BQ,Uj1:()=>Xt,OK9:()=>yt,njP:()=>Ct,TZ0:()=>bt,qI3:()=>rl,qYg:()=>Mn.qY,cKJ:()=>T.cK,YQ:()=>mu,Twg:()=>pu,QFv:()=>gu,atq:()=>T.at,XBC:()=>T.XB,VCn:()=>At.VC,z2f:()=>At.z2,G7L:()=>Y.G7,LAc:()=>At.LA,LTV:()=>Y.LT,nSo:()=>Y.nS,Ivn:()=>At.Iv,laP:()=>At.l,tG6:()=>At.tG,KNz:()=>At.KN,Z0r:()=>T.Z0,b3e:()=>At.b3,HgD:()=>At.Hg,YA2:()=>At.YA,EKU:()=>At.EK,vxR:()=>Y.vx,PdF:()=>Y.Pd,WEp:()=>Y.WE,sDH:()=>Y.sD,CYE:()=>Y.CY,Wd4:()=>Y.Wd,uwM:()=>Y.uw,Zcz:()=>Y.Zc,Nxi:()=>At.Nx,Qzm:()=>Y.Qz,ut_:()=>At.ut,V4L:()=>At.V4,HND:()=>Y.HN,hni:()=>At.hn,D3K:()=>At.D3,QjW:()=>At.Qj,tRf:()=>At.tR,ZjP:()=>At.Zj,OkP:()=>T.Ok,Iel:()=>At.Ie,wXP:()=>At.wX,AYc:()=>At.AY,Uk3:()=>At.Uk,ZG7:()=>T.ZG,bE7:()=>At.bE,zFb:()=>At.zF,h$f:()=>At.h$,mrM:()=>At.mr,zkb:()=>At.zk,_LE:()=>At._L,KXb:()=>T.KX,j0v:()=>At.j0,th2:()=>At.th,tAZ:()=>At.L2,ZiK:()=>At.Zi,e1L:()=>Y.e1,LuX:()=>At.Lu,pMM:()=>At.pM,EV:()=>Y.EV,Z5S:()=>At.CF,wxp:()=>At.wx,FA5:()=>T.FA,xXR:()=>T.xX,uhc:()=>Y.uh,e5v:()=>T.e5,bXX:()=>At.bX,Z5C:()=>At.xN,s86:()=>At.s8,Oio:()=>Y.Oi,VnN:()=>Mn.Vn,mZK:()=>Y.mZ,F40:()=>At.F4,SA4:()=>At.SA,Nd3:()=>Y.Nd,WVX:()=>Y.WV,FF:()=>Y.FF,fmR:()=>Y.fm,mGL:()=>Y.mG,PHv:()=>T.PH,_q2:()=>Y._q,bNS:()=>Y.bN});n(36728),n(6886);var r=n(22970),o=n(57760),a=n(16763),i=n(12524),s=n.n(i),l=n(2784),c=n(98900),u=n(8520),d=n(82008),h="EsrbRating-module__ratingValue___bSF6+",m=(0,l.memo)((function(e){var t=e.imgProps,n=e.ratingValue,i=e.ratingLink,m=e.className,p=e.children,g=e.linkButtonProps,f=e.showQR,v=(0,r.__rest)(e,["imgProps","ratingValue","ratingLink","className","children","linkButtonProps","showQR"]),_=g||{},y=_.className,b=(0,r.__rest)(_,["className"]);return l.createElement("div",(0,r.__assign)({className:s()("EsrbRating-module__container___Z6Ef+",m)},v),l.createElement("img",(0,r.__assign)({},t,{className:s()("EsrbRating-module__ratingImage___sMISX",t.className),src:t.src,alt:t.alt})),l.createElement("div",{className:"EsrbRating-module__labelContainer___pTpkq"},i&&n?l.createElement(c.k,(0,r.__assign)({as:"a",href:i,buttonType:u.L$.Secondary,buttonSize:u.qE.XSmall,className:s()(y,h,"EsrbRating-module__link___bhdWP"),target:"_blank",isCallToAction:!0,rel:"noopener noreferrer"},b),n,l.createElement(d.JO,{className:"EsrbRating-module__icon___15GZO",icon:f?o.Z:a.Z,iconSize:d.Jh.XXSmall})):n?l.createElement("div",{className:h},n):null,p))})),p=(0,l.memo)((function(e){var t=e.className,n=e.label;return l.createElement("div",{className:s()("EsrbRating-module__description___RvWaD",t)},n)})),g=n(16216),f=n(61030),v=n(74495),_=n(93106);const y=e=>{var t,n;const{productId:r,className:o}=e,a=(0,f.iV)("commaSeparatorTemplate"),[i,s]=(0,f.QF)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),c=(0,v.useSelector)((e=>(0,_.th)(e,r))),u=null===c||void 0===c?void 0:c.contentRating,d=(0,l.useMemo)((()=>({src:null===u||void 0===u?void 0:u.imageUri,alt:null===u||void 0===u?void 0:u.ratingDescription})),[u]);if(!u)return null;const h=(0,g.OjV)(a,(0,g.NRv)(u.descriptors)),y=[];(null===(t=u.interactiveDescriptions)||void 0===t?void 0:t.length)&&y.push((0,g.OjV)(a,u.interactiveDescriptions));const b=[];(null===(n=u.disclaimers)||void 0===n?void 0:n.length)&&b.push((0,g.OjV)(a,u.disclaimers));const C=(0,g.WUZ)(i,u.rating,s);return l.createElement("div",{className:o},l.createElement(m,{className:"AgeRatingInfo-module__ratingPositionOverride___y86yq",imgProps:d,ratingLink:u.imageLinkUri,ratingValue:u.rating,linkButtonProps:{"aria-label":C}},l.createElement(p,{label:h}),y.length>0&&l.createElement(l.Fragment,null,l.createElement("hr",null),y.map(((e,t)=>l.createElement(p,{key:`rating-interactive-description-pdp-${t}`,label:e})))),b.length>0&&l.createElement(l.Fragment,null,l.createElement("hr",null),b.map(((e,t)=>l.createElement(p,{key:`rating-disclaimer-pdp-${t}`,label:e}))))))};var b=n(814),C=n.n(b),E=(n(73439),n(28248)),S=n(87342),T=n(32663);const A="BlendsHost",w={ClientType:"XboxCom",ParentElementId:A,PurchaseServiceVersion:"7.0",PurchaseScenario:"GiftPurchase"},k=e=>{const t=(0,E.Tv)(),n=(0,v.useSelector)(g.yWe),r=(0,S.Qc)(),o=(0,v.useSelector)(g.gzb),a=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.UsePurchasePPE))),i={ProductId:e.productId,SkuId:e.skuId,AvailabilityId:e.availabilityId,BuddyPassOfferId:e.buddyPassOfferId,Culture:n.localeWithScript,Market:n.market,CV:r.cv().increment(),Style:{cssOverride:o===g.Q2A.Dark?I.Dark:""}},s=t=>((e,t)=>{const n=JSON.parse(e.data);((0,g.Ypc)(n.message,"done")||(0,g.Ypc)(n.message,"redeemDone"))&&t&&t(n.status)})(t,e.onComplete),c=(0,g.Gq1)(a?T.Fl:T.ys);return(0,l.useEffect)((()=>{if(c===g._M1.Ready)return e.buddyPassOfferId?(async(e,t,n,r)=>{if(void 0!==WebBlender&&void 0!==WebBlender.redeem){const o=await(0,E.F3)(t,E.Q7.MDollar);WebBlender.redeem(C()(C()(C()({},e),w),{},{Flight:"enablebuddypass:1",Style:{cssOverride:I.GamingApp,layout:"modal"},XToken:o,Environment:r})),null===WebBlender||void 0===WebBlender||WebBlender.registerMessageHandler(n)}})(i,t,s,a?"ppe":"prod"):(async(e,t,n)=>{if(void 0!==WebBlender&&void 0!==WebBlender.purchaseSingleItem){const r=await(0,E.F3)(t,E.Q7.MDollar);WebBlender.purchaseSingleItem(C()(C()(C()({},e),w),{},{XToken:r})),null===WebBlender||void 0===WebBlender||WebBlender.registerMessageHandler(n)}})(i,t,s),()=>{null===WebBlender||void 0===WebBlender||WebBlender.unregisterMessageHandler(s)}}),[c]),l.createElement("div",{id:A,className:"BlendsHost-module__blendsHost___xIxx8"})};var I;!function(e){e.GamingApp="gamingapp",e.Dark="dark"}(I||(I={}));var P=n(89872),R=n(61975);const x=n.p+"static/media/browseAllGamesModuleImage.0ea1be45.png";var N=n(25262);const O=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),l.createElement("path",{d:"M20.38 1.205a1.125 1.125 0 011.679 1.492l-.088.098-13.38 13.381L21.94 29.525c.408.408.437 1.051.087 1.493l-.087.098a1.125 1.125 0 01-1.493.087l-.098-.087L6.205 16.97a1.125 1.125 0 01-.088-1.492l.088-.099L20.38 1.205z",fillRule:"evenodd"}))};var L=n(64807),M=n(95240);const D=e=>{const{className:t,label:n,url:r}=e,o=(0,M.b)();return l.createElement(c.k,{className:s()("SnoByrdButton-module__snoByrdButton___LrK0z",t),as:"a",href:r,"aria-label":n},l.createElement("span",{className:"SnoByrdButton-module__snoByrdButtonContent___abZnS"},l.createElement("div",{className:s()("SnoByrdButton-module__snoByrdIconSpacing___QcidL",P.fe)},n),o?l.createElement(O,{"aria-hidden":!0}):l.createElement(L.Z,{"aria-hidden":!0})))};var U;!function(e){e[e.Console=0]="Console",e[e.PC=1]="PC"}(U||(U={}));const F=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o}=e;return l.createElement("div",{className:"BrowseAllGames-module__moduleContainerDesktop___Koi4b"},l.createElement("img",{className:"BrowseAllGames-module__imageDesktop___c2AGe",src:x,alt:r}),l.createElement("div",{className:"BrowseAllGames-module__titleAndButtonContainerDesktop___keIAC"},l.createElement("h3",{className:P.A9},o),l.createElement(D,{className:"BrowseAllGames-module__ctaDesktop___bpCoU",label:t,url:n})))},B=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o,moduleTitle:a}=e;return l.createElement("div",{className:"BrowseAllGames-module__moduleContainerMobilePortrait___RVbuP"},l.createElement("h3",{className:P.O8},a),l.createElement("img",{className:"BrowseAllGames-module__imageMobilePortrait___eODRo",src:x,alt:r}),l.createElement("div",{className:"BrowseAllGames-module__centeredContainerMobilePortrait___fFseT"},l.createElement("h4",{className:P.TH},o),l.createElement(D,{className:"BrowseAllGames-module__ctaMobilePortrait___xbGUY",label:t,url:n})))},H=e=>{const{buttonLabel:t,buttonLink:n,imageAltText:r,moduleSubTitle:o}=e;return l.createElement("div",{className:"BrowseAllGames-module__moduleContainerMobileLandscape___pJRu4"},l.createElement("img",{className:"BrowseAllGames-module__imageMobileLandscape___vTUr7",src:x,alt:r}),l.createElement("div",{className:"BrowseAllGames-module__titleAndButtonContainerMobileLandscape___QXhTw"},l.createElement("h4",{className:P.HX},o),l.createElement(D,{className:"BrowseAllGames-module__ctaMobileLandscape___JNIkx",label:t,url:n})))},q=e=>{const t=(0,v.useSelector)(g.Yzi),{homePageBrowseAllGamesModuleTitle:n,homePageBrowseAllGamesModuleSubTitle:r,homePageBrowseAllGamesImageAltText:o,homePageBrowseAllGamesConsoleButtonLabel:a,homePageBrowseAllGamesPCButtonLabel:i}=(0,f.y_)("homePageBrowseAllGamesModuleTitle","homePageBrowseAllGamesModuleSubTitle","homePageBrowseAllGamesImageAltText","homePageBrowseAllGamesConsoleButtonLabel","homePageBrowseAllGamesPCButtonLabel");let s="",c="";e.mode===U.Console?(s=a,c=N.DA):e.mode===U.PC&&(s=i,c=N.cr);const u={moduleTitle:n,moduleSubTitle:r,imageAltText:o,buttonLabel:s,buttonLink:(0,g.uQr)(c,{locale:t})},d=(0,R.Wp)({desktopComponent:F,mobilePortraitComponent:B,mobileLandscapeComponent:H});return d?l.createElement(d,C()({},u)):null};var G=n(3569),z=n(93660),X=n(59387),$=n(24923),V=n.n($),W=n(15946),K=n(14701),j=n(7739),Z=n(95895),Y=n(98680),Q="ButtonWithFlyout-module__flyoutButton___q31zM";const J=["accessibilityLabel","children","buttonId","buttonType","className","showArrow","telemetryProps"],ee=l.createContext({reverseOpenDirection:!1,reverseVerticalPosition:!1,showFlyout:!1,closeFlyout:()=>{},openFlyout:()=>{},buttonRef:void 0,flyoutRef:void 0}),{Provider:te,Consumer:ne}=ee,re={left:0},oe={right:0},ae=e=>{const{children:t,flyoutBoundingParent:n}=e,[r,o]=(0,l.useState)(!1),[a,i]=(0,l.useState)(!1),[s,c]=(0,l.useState)(!1),u=(0,l.useRef)(null),d=(0,l.useRef)(null),h=(0,R.df)(),m=(0,Y.mG)(r,(()=>o(!1)),d,u);(0,l.useEffect)((()=>{if(d.current){let{left:e,right:t,top:r,bottom:o}=d.current.getBoundingClientRect();if(null===n||void 0===n?void 0:n.current){const a=n.current.getBoundingClientRect();e-=a.left,t=a.right-t,r-=a.top,o=a.bottom-o,c(r>o)}else t=window.innerWidth-t,o=window.innerHeight-o,c(!1);i(e>t)}}),[h,n]);const p={buttonRef:d,flyoutRef:u,reverseOpenDirection:a,reverseVerticalPosition:s,showFlyout:r,closeFlyout:m,openFlyout:()=>o(!0)};return l.createElement("div",{className:"ButtonWithFlyout-module__buttonContainer___DM0Hd"},l.createElement(te,{value:p},t))};ae.Button=e=>{const{accessibilityLabel:t,children:n,buttonId:r,buttonType:o,className:a,showArrow:i,telemetryProps:u}=e,d=V()(e,J);return l.createElement(ne,null,(e=>{const{buttonRef:r,showFlyout:h,closeFlyout:m,openFlyout:p}=e,g=(0,S._d)({behavior:h?S.cg.REDUCE:S.cg.EXPAND},u),f=(0,S.iZ)(g);return i?l.createElement(K.Z,C()(C()({as:"button","aria-expanded":h,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Q,a]),onClick:h?m:p,icon:h?j.Z:Z.Z,ref:r},f),d),n):l.createElement(c.k,C()(C()({as:"button","aria-expanded":h,"aria-haspopup":!0,"aria-label":t,buttonType:o,className:s()([Q,a]),onClick:h?m:p,ref:r},f),d),n)}))},ae.Flyout=e=>{const{buttonRef:t,closeFlyout:n,flyoutRef:r,reverseOpenDirection:o,reverseVerticalPosition:a,showFlyout:i}=(0,l.useContext)(ee),s=(0,R.EX)()<=R.JD.SM;let c={},u={};if(null===t||void 0===t?void 0:t.current){const e={right:`calc(-${t.current.offsetWidth}px + 8rem)`};c=o?s?e:oe:re,u=a?{bottom:`calc(${t.current.offsetHeight}px + 0.5rem)`}:{top:`calc(${t.current.offsetHeight}px + 0.5rem)`}}const d={width:"max-content"};return l.createElement(l.Fragment,null,i&&l.createElement(l.Fragment,null,l.createElement(W.FocusContainer,{autoFocusContainer:!0,className:"ButtonWithFlyout-module__flyout___CjK6D",role:"dialog",style:C()(C()(C()({},c),u),s?d:void 0)},l.createElement(R.Lx,null),l.createElement("div",{ref:r},e.children)),l.createElement("div",{className:"ButtonWithFlyout-module__lightDismissLayer___FLmRO",onClick:n,role:"none"})))};const ie=e=>{var t;const n=null!==(t=e.ariaLabel)&&void 0!==t?t:e.label;return l.createElement(c.k,{as:"button",buttonType:u.L$.Tertiary,className:"ButtonWithIcon-module__button___h6MbS","aria-label":n,onClick:()=>window.location.assign(e.url),style:e.widthInRem?{width:(0,Y.wU)(e.widthInRem)}:void 0},l.createElement("div",{className:"ButtonWithIcon-module__insideContainer___5hWC1"},l.createElement("div",{className:"ButtonWithIcon-module__icon___TGo-W"},e.icon),l.createElement("div",{className:s()(P.gC,"ButtonWithIcon-module__label___WxWzd")},e.label)))};const se=e=>{const t="1.25rem",{width:n=t,height:r=t}=e,o=(0,v.useSelector)(g.gzb),a=(0,f.iV)("loadingText"),i=o===g.Q2A.Dark?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAYKADAAQAAAABAAAAYAAAAACpM19OAAAMnUlEQVR4Ae2da4xdVRXHO1gf1AfyEEsLtlCfKFExJJqIGIGAfjAmQkQT/WBijMbEhA8kGk00USMf/GD8otH4BiKJRkjUJmIDgg0+olHASi1KybSg0FoBW0qr9f+7s/+36+4558w9c8/tnXtnr2TN2nvt93+tvfY+596ZmVuzQunYsWNrNbXnip8f5Dql0cPPEj9TfJL4qPh/SR6RPCR+Uvy4eW5uDv2Ko7mVMqME+Kmaz+mJAZ75PUMMAbTniyQPLVXudgdU9xGzDPI0jSdNXtBE5pFAP1ODrxcDPGTASEegrUcX9XUGqNPTzzHxo+Jd4r/LGIclJ0In3AACnTHxdEA/QwxQ6JoAU3HfMNSFARKqa1endztL+tgt3il+SMbAOCeMWMgJoQQ8gL9ETGzPgTQgSM8LmQOZt8vL1aTSoHm7fDzKCVO/F/9VhuBMGTsx6FgpAU+YOVv8HHHVwplHrpdqEZDobCADOooB3Ec+/r81DobYMW5DMPDYSOBzkJ4r5vYSAWZMgPP4OQDkzW7n+lV6+ssNk7ejDm2jwaxzn3n5PlXYJiPspeI4iAE7JwHP9fAc8YtS53GBdcBYH2VsF4EbRu9+bDimQru8H+vz+nGM+1TpThmC622nxCCdksB/oTrcLMYIcREeK1+oqvXq5Xrqc79/Qvwf8UExd3tuLP8VU+a7PWPxbIA8WfwC8SlJcu4Q+jyXfBwVLRrfOrdBcm3dKiNwc+qM6LgTSrGeOE+8h7xQpMdBWm9PRGfmBkL83Z/4SS14pFtJmhe3rg3is8TMEWN5Xp5bnJd1SOstORvu0LxwgpHJA43UkRb5bHWwSVwV671QxogLcmhAxxMrD0mPamF49thIc+UJ+lzxK8QYhfGr5iX1gN4GQDLXH2uuOMtIxMAjkRYE6OeJI6BxQZ64F2qJ/h/ieS2k89iqfpckzZ1Q9Xrxq8TsCs/bc5RqYAdYj3xKfLPmPtIBTUfLJi2AWw73+hx8+jTwyDhxQgrAP6zJT+wJVOP3SevgueQN4gvENoTnHNdBG+uR7NYfaR0PULAcopNlkSbNYUs8dR8GGoDROcbHBbBlH9SE8Z4VR2lHvFUTO08c581c7WRen8spu1VrupdEWzJ4rdqliQI+5InQV84u5wZBqPkXipVOWt8WzfEyMTu8bn1Rz5I4E+4h0YZaG0CTY7tyxzfY+UTIu18kB+xuTW6sh6vG6JS0Tq6uV4g5rON6vF5L48DOuEnr3CU5NLnjoRqkSRHzPTjtnI6SfpkQcZ63jlNLWjNnw6Vi1se64jqV7etZL88l39Wa5ykYhoY2gCbCQw7gc0iZaG+OE+OOTKznAWrqSWsn3F4tZlfEdXrtlqyVG93XtPahwq07o2EtaQIMwOtjJG8JsbaJNDoz8f6BWQGfRSaP/r6SOBSYRVa2RzbC85S7Rpj5EpKKq8VQBlDT08U8bJlsAGRMA/7fNOEVecvx5JcjtSZC6bfFvKADbBMYxjz6jeIrSSxFSxpAluTQ5TZgD8+lxwD83ZoociZJa+NCcYOYd1KmuBti+s3C7nxXqpONBkjb6DQ1tpdX9UMZNxyumX45VlVvJnRaI88yhCMeInPPZ43ojOtVyYHRV5IrVhZKycOW6+SeH/N7NLEV8VRbt5Au9VrrP9XfjWKcD3wiK9snXtO8o5+rSBjcRUWyHDGfDiAG8i4AeKcpe0wTmsi7HAafFGnND2nsrWH86PmowRbdRcJys2QlVRpADWiI9wO0PT3vAD2viw/kBaslr7XfrbXuEEccSef8bmEa6/QhqlSqFM/n3h/JxrCOeP+YM6tY/lBr51zAaSHLhdzCTz6HuCgqnF5kgOT93Hzs+XVyvzygkw8lPJlplMKA8HurOPf6PH9Z1S5YZAB1FJ/26jA5pIH5iLCQEBAWf5YgFFUROwKc+WiUzx4GaMAAwfupVOf56Id6zB4YafYzt2iJhOnc8+PKL08Y93UDBpCWj+t4hKYjGAJw55EcvFP1ZpNFjJuECZ9jbxfb4xmStM8EsOYsOF/cp9wAXD3t+YBN2mRDxKdAlxW5gMDtEj4XDT4OHfmNC1UXfvYNkA4IdoAper0NQez3AK5XZEJA2HAb+k3Kgq29P6l64gJhzVdnetQ3gHKAD9AADJPOuXi/QFmCtqkcjwfbKibK8BlDj6IBuPfj9XV0pHh/HTTH9cKIZ6OqT8XYDca7H4Z6inQy+/DNvd75mXvFfBy2zlO/TWDHHRAH2eIwZIvwKVeM+VQG+Kib2dfMLLZj+oP646ZofH0gM4yN8jJnkHi/PZ18JIxA+KG80BAICCuejv+SqgK4w4/BR/JlsL6FMIAJwA22d8DMv+f34juUO9WXPR+Z0ytRrE3xn7RBzyuTLw9eINSO7lf16Ng5rps4B7wlmrqOO6KpXikbRGBe2aprO4Ywr8cAULz3588BRxXTMEKhFggkzDACuwC2sxt8ejsLpbcGIcgxP0qHJhoUaocAX0KGDHou13P9tAF6NcMPe30xQAClZfJh1Te+uaSrDRgAAmQqGHR0pmIAI9FePqImVcC7p9MwgMONlZZu6HyR7RHg5Vy8CdFDxHWdD+Gmrqt2RVP9UnYcgaVe35zMDigh5jhgXacwQL4D4hjrfAZEZUl3hwCvJGLIyXtet7a848kx6TzfZIC5sgM6x3ugQz75ajLAU34XxIcxVRWfLk/BA4C2zWCApovO4ZMSwLzt9LMAhuDmU8AXCCMSBmiiQ70QFIxQXjs3wdW+7FQ1yW9B8Vp/uJwB7UFt02KjKsfQDviEJBthXzFAGzjb1z1bTWwAQHfacm8xQHtQ27TId0DethggR6SrfPqkkQ/e81uQww9D7ckLuxq/9LNmzWaBwF9jaaI9JQQ1wTNa2evUPDp49Hx65nepDxYDjAZyU2sM4MMW8OPth3Z/4ke0EPlCHSCg+M9vGF0otgEs6d3pngHKDgCS7ulidcmXcHMCfHYDfC+FxQCg0D1dqS79BOzYH+V9iv+9P2RSQlDH4Cv8bFCXr12i29tcXnaAkehOXpO6snNHz6eILznfmeqUQ9hAdCHl/Weon7eLifU+bDGE00qu2a7w0//GXNkBQNIdvU9d8Wu+EN8wjOQd8fMqZdSV9DIQkPfzG5DvCk3xeoPuHbFbul+HOuUWFMEYMX2t2uP9jvkOO87zgdcN6bOX/lC2UF9REu0RkPdz74cNelUne6XclheUMyBHpGVe4PPXxK4Lzbj/4/X2fMsb5f35udCPUaF9SbZE4NOq/2Ix3h8jCmnviF1K/1S8iMoOWATJ8Ap5/3tV+22phT0993IM8aUq76ddtFjqp4hhEBD4vO3k4M0p7gTSPxH4vRdveUXy3iJVZUVXg4DA36Kib4mJ//Z8S3/Xljzfjr5aBjggWUllB1TCUq8U+OtV+lWxP+0CwzpH/lwT+IxSzgBQGJIEPg9bXxcj8XS83J6fOzN3/jtU3kh1lmtstBoLBf5Lte5viHnfAznUWKKzQXjX/0EZ4CjKJvI766Y6q75M4F8oEL4p5k8447R23Ci9Ex5X+UcEPvF/Scq3zZINVlsFgf8Brfl74lPS2utiPsY4LP6YwOepdygqZ0ANTAKeQ/Z68eWpCqHGIQZV7ry8579W4BN+hqa8k6EbznJFgQ/oPxNfka3TIQd1TJP/lMDfTqINlR0Q0BLw5yj7WfGlYnu7gc6lW7IzPiHwK181uFKdLAYQMgKeu/2Hxe8X86fbIB+qAO90r0A/rDuo9McF/l0uaCtXtQEE/GYB9lHxe8TGAo+ORJjODUD5PvGHBP49ZJZLHnS57aeunUDncH2nmP8J8yZxPFwj0Hi5PV3JgTTvdvD8eQpGoZk3gAAHxFeL35L4Ekm+NOW3lpRDBttGcH6hdOEnuu+Irxf4R2LBctNTbwABTMzmpZj5TKVfLuar4cjXiHmAqvN0FfXBb0rzYHWdgB/4UJ0Go9BUGkCgb9SiPy/GmzeJ8Ux7NBIvNucxnbpQlNSNRFksv1n5Lwr8/bFSF+mpM0AC/y4tHk/v6jkGsG2EmN4h/ScF/O8kx0JTZwCh8Bkxv30YvVTZRWQPdoHzEWjKrLdE96D4K2L+Xa13lrLd0zQa4OIEQwRsWGRoEw3gtNvfr8SXxbeMG3gPOI0GMGjIKiNY53rOs2brvH7KeIezVXyT+BcCPq8j9fhoGg3wK8FxlTgCOyxCtAFgDua7xT8Q829oeYU8EVrOIiYyUQ+aDmGM4K+CcA1lHY7V+XXTt6A/qs4vxbeL+YLsxEDX+H2aOgMw82SELyh5iZiPB58Qc09HAuy8mHi+0yzAKVtx9H/5eP1D81B3eQAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAMKADAAQAAAABAAAAMAAAAADbN2wMAAAGz0lEQVRoBdWZS2zURRzHu4/utrsLxZYSukXERkBTbKGEQH1EImlNSPBg0sQYY2LigxDj1XgwwYMHL1684ElvBOFgxFhDommNFCkUCmiQ2FAtyraUUtptu33s/tfPd7Kz2a703S3bSSbz+P9n5vv9vWb+83cVLENqamry3Lhxo6ywsLDU5XKtdRwnNDU15fd4PL5kMumhL8Eyca/XO5pIJEYo+4LBYKSlpSW+1OVdi51g//793tHR0fUAXA/YckB6qbuVIODJrKtPbd5J97NukhyB5K3y8vK/mpubJxaDZcEEJO2enp4KQG8i+wAgwG5bCnyq7rFksglYIpYkbQfwV3jvSkdHx9RCiMybAIu5amtry30+X+Xk5KTfgrPAsyTsESmSymwiMilpxJSATWuH/nHGtB86dOj3o0ePitScaV4EqqurfUVFRVUAD1rAVspW+qw0iW0PYONRfGEiEAjIJMaFAE0Vx+PxQCwWCzCujK7HGFdiNWGFYTXC83585NuzZ89GNX62NCeB3bt3B1hsC5P7LFiVWgxtOJS9ZWVlA2fOnBmdbaHsZ/X19aUIZAuEa3gWYB6rGTdt+UuM/M3ly5dvZ4/NbM9KYOfOneuYJIz0PEjX2LrAI+ECct/mzZsjJ0+eVIRZdEJAhQyuU4aMX4JhTUOCviQa+wG/uDbTAjMS2Lt379qxsbFwCrhLwFUnR6nfWqizzQTA9tfU1Mg8D0BgG33WL0TEhYmdvnTp0lX7bmb5QAKEyKLh4eFNSMRIXcBV9/v9d9vb2/uQkELgsifAu/bs2fMMPvOc1YI0Qkpirl+dP3/+n+xF/0dA8X1oaKiSScDtlSRcysXFxREmGM6eIBfturq6p1jzZTTtSxERzjEEeCwbg1SUTgLa19dXrhLWDravoO6sWbPmdvbA9KAcVDCX60x7WuDBYjLttRMTE68TXqdh9mSuf+rUqRDAg5iLnNQ8QvL329rahjLfW4l6b29vf2VlpUy4KsOcSrq6uqKRSORfiyHNRlKnMySJK2NC2khGAT9oX17p8uLFiy2A/4N1004NoUZOAz6LJU1gx44dQXUSmw0BNJDYvn37ABPkxGEtgNlKra0NjTJOFlZppKS7u/sFO84QkF2x0xZZ6YsEO2l0qTHeLrKUUrsxZv2LfEEklDHxA9pgNa8hgIMWcrJMAjyhDJd4Q0PDgnbWpYCca+yGDRtaITEGCZ1mdb4S+Kc1zjhxVVVVER4OOVcBLxYQPmPHjx+fnGvilXqO4ybC4bAf4NvAZ0xJmsCZO0ycv3nzpmdkZMRBCw6270BoUWfzXBJC8lcFWqbEOjIjzpjVPk9ra6uXeG+ISQMkhy+lvCNAWI1WVFTUQ0ChXkC9+Ozf7v7+fve9e/ecwcFBJxQKJTigLeiDQoxXKiHgayktyPTl0E8q+iTJijqJgYEBkVjyd2oOCfXIiUWCNUQi7OZUmcRJnJKSEodzvQzrocX9uYgD/H6mBiCzUbZkQmlqsNragfOSBLG/An/9VIEI8HBxjQi8ANusj5O8BA+uAg6Vg4A2ewFNYQ96U19Eem7Scn+o2HmXo0ztVdMOoG5YJTm4+cbHx/2qL8dCuZoDjI9gOmYvSJUT3tTtWD5HnrQ8iPulbGA6SqhPTjDmTT9dBRXAlyF5hVFjKZR3VhUBZPyETEeyFgnS7VVFAMDPAlxObDSASV3L3ANELG/Tvn37tgA+DAkbRqc4ZneuGg0QQp8XeJkOUtZdS6dutFeFBvT1BfhXAG9DqMzoV5nLqtAAYfNVsJZCQqHThE9uS9pEIO81oEtgcL4mrOAXXuUT9uY6rwlI4FzJf4AGdGNijtFoYJCT89e0TcprAtj+O6B80do+dWnhS04P5r+DGOQtAf4GNSL5w9ZsRIL859atW78TcJvMR7Bt5EvJ5e5LgP8EPLrf1E8U/a/qx3Hf4KbwTibOvCIgmwf8e4A/grQNcJUAHmfXfetBPzryhsCuXbt0K/4xYBsoEyngIqG/NB9yYz3NdKwWHvo+0NjYGORm5F0AvU32kx3Ay1l1YJsE/EczgReJh6aB1E+MgwB9ExzrKAU802z0J+gIP/muCOhMKeca4I9PSP/a+OqrANBG7LsWMAc52z9KO2GB06czDl3mdu03bggPX7hwoXcm4LY/ZxrgD6ds+RgLPQ4mATV2nSotcF0iWKmrLsCfESpPzPdmPGcEcMrrSLsKQIUpAjKRacB5ZglEefY5YfKLc+fOxeifd8qZCSHpBwoHoOZOh7ge450faX8P2ubOzs7780ad8WIuCbwPuGOArGS9IQDfpeyifZ3+n7nO/Gmh0s7Ana7+B+Qp2nJi6lQSAAAAAElFTkSuQmCC";return l.createElement("img",{role:"alert","aria-live":"assertive",tabIndex:-1,alt:a,src:i,style:{width:n,height:r},className:"ProgressSpinner-module__spinner___jUvZR"})};const le=(0,l.forwardRef)(((e,t)=>l.createElement(c.k,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.L$.Primary,className:s()("ButtonWithSpinner-module__desktopSpinnerButton___MXz1p",e.className),ref:t,title:e.accessibilityLabel,style:{height:(0,Y.wU)(e.height),width:e.sizingText?"":(0,Y.wU)(e.width)}},e.sizingText&&l.createElement("div",{"aria-hidden":!0,className:"ButtonWithSpinner-module__hiddenSizingText___jdGu3"},e.sizingText),l.createElement(se,{width:(0,Y.wU)(e.height/2),height:(0,Y.wU)(e.width/2)})))),ce=(0,l.forwardRef)(((e,t)=>l.createElement(c.k,{as:"button","aria-label":e.accessibilityLabel,buttonType:void 0!==e.buttonType&&null!==e.buttonType?e.buttonType:u.L$.Primary,className:"ButtonWithSpinner-module__mobileSpinnerButton___iuTvL",ref:t,title:e.accessibilityLabel},l.createElement(se,{width:(0,Y.wU)(1),height:(0,Y.wU)(1)}))));var ue=n(47739),de=n.n(ue);n(31235),n(9e4),n(64925),n(26464),n(18339),n(54819);const he=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),l.createElement("path",{d:"M25.85 4.507a1.46 1.46 0 00-.907.436L16 13.887 7.057 4.943A1.418 1.418 0 006 4.5a1.46 1.46 0 00-1.057.443A1.46 1.46 0 004.5 6l.009.161c.036.318.18.614.417.877L13.887 16l-8.944 8.944A1.46 1.46 0 004.5 26c0 .38.148.731.426 1.038.29.307.657.462 1.074.462l.154-.007c.354-.034.666-.185.913-.447L16 18.113l8.943 8.944c.273.288.64.443 1.057.443.417 0 .784-.155 1.067-.454A1.45 1.45 0 0027.5 26l-.007-.154a1.415 1.415 0 00-.447-.913L18.113 16l8.944-8.943A1.46 1.46 0 0027.5 6c0-.417-.155-.784-.454-1.067A1.408 1.408 0 0026 4.5l-.15.007z",fillRule:"evenodd"}))};var me=n(94622),pe=n(72095),ge=n(40841),fe=n(83857),ve=n(70829),_e=n(48924),ye="Selections-module__container___uyKes",be="Selections-module__options___I24e7",Ce="Selections-module__titleContainer___92DiF";const Ee=e=>{const{filterInfo:t}=e;return t.choices.length>0&&t.choices[0]&&t.choices[0].isLabelOnly?l.createElement("ul",{className:"Selections-module__optionsWithSubtitle___uaHrP"},Te(e)):l.createElement("ul",{className:be,role:"listbox"},l.createElement(Ae,C()({},e)))},Se=e=>{const{filterInfo:t}=e,[n,r]=(0,l.useState)(!0),o=(0,v.useSelector)(g.gzb)===g.Q2A.Dark,a={fill:o?"White":"Black",fontSize:"12px",marginTop:"0.125rem"},i=l.createElement(me.Z,{"aria-hidden":!0,style:a}),c=l.createElement(pe.Z,{"aria-hidden":!0,style:a}),u=n?c:i;return l.createElement("div",{className:ye,id:t.id},l.createElement("button",{className:o?s()(Ce,"Selections-module__titleContainerDarkMode___Smcn3"):Ce,onClick:()=>r(!n),"aria-expanded":!n},l.createElement("div",{className:s()(P.gC,o?"Selections-module__titleTextDarkMode___s1JAd":"Selections-module__titleTextLightMode___oq3Yu")},t.title),u),!n&&l.createElement("ul",{className:be,role:"listbox"},l.createElement(Ae,C()({},e))))},Te=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e,o=[];let a=[],i="",s="";if(t.choices.map(((e,c)=>{if(void 0!==e.isLabelOnly&&e.isLabelOnly){if(a.length>0&&i&&s){const e={choices:a,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(l.createElement(Se,{key:`${t.id}_${i}_${c}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}a=[],i=e.id,s=e.title}else a.push(e)})),a.length>0){const e={choices:a,hasAllChoice:t.hasAllChoice,id:t.id,isMultiSelect:t.isMultiSelect,title:s,truncatedDisplayCount:t.truncatedDisplayCount,allChoiceId:t.allChoiceId};o.push(l.createElement(Se,{key:`${t.id}_${i}`,filterInfo:e,onChoicesClick:n,selectedChoices:r}))}return l.createElement("div",{className:ye},o)},Ae=e=>{const{filterInfo:t,onChoicesClick:n,selectedChoices:r}=e;return l.createElement(l.Fragment,null,t.choices.map(((e,o)=>{const a=(null===r||void 0===r?void 0:r.filter((t=>t.toLowerCase()===e.id.toLowerCase())).length)>0;return l.createElement("li",{key:`${t.id}_${o}`},l.createElement(we,{choice:e,choiceGroupId:t.id,isSelected:a,isMultiSelect:t.isMultiSelect,onChoicesClick:n}))})))},we=e=>{const{choiceGroupId:t,isMultiSelect:n,isSelected:r,choice:o,onChoicesClick:a}=e,i=(0,v.useSelector)(g.gzb)===g.Q2A.Dark,c={fill:i?"White":"Black",fontSize:"0.75rem"},u=l.createElement(ge.Z,{"aria-hidden":!0,style:c}),d=l.createElement(fe.Z,{"aria-hidden":!0,style:c}),h=l.createElement(ve.Z,{"aria-hidden":!0,style:c}),m=l.createElement(_e.Z,{"aria-hidden":!0,style:c}),p=n?r?m:h:r?u:d;return l.createElement("button",{className:"Selections-module__selectionContainer___m2xzM",onClick:()=>{a(t,o.id)},id:o.id,role:n?"checkbox":"option","aria-selected":r,"aria-checked":r},l.createElement("div",{className:"Selections-module__icon___IBPqb"},p),l.createElement("div",{className:s()(P.gC,"Selections-module__label___CpN0F",i?"Selections-module__textColorDarkMode___AWmYs":"Selections-module__textColorLightMode___k0w8V")},o.title))};n(48166),n(45162);var ke=n(45208);const Ie=e=>{var t;const{filterInfo:n,onChoicesClick:r,selectedChoices:o,titleFunction:a,isInitiallyCollapsed:i,isScrollable:c}=e,[u,d]=(0,l.useState)(null!==i&&void 0!==i&&i),h={fill:(0,v.useSelector)(g.gzb)===g.Q2A.Dark?"White":"Black",fontSize:"1rem"},m=l.createElement(me.Z,{"aria-hidden":!0,style:h}),p=l.createElement(pe.Z,{"aria-hidden":!0,style:h}),f=u?p:m,_=!n.isMultiSelect&&a&&(null===o||void 0===o?void 0:o.length)>=1?(0,g.WUZ)(a,null!==(t=((e,t)=>{const n=t.find((t=>t.id===e));return null===n||void 0===n?void 0:n.title})(o[0],n.choices))&&void 0!==t?t:n.choices[0].title):n.title,y=n.isMultiSelect?n.title:_;return l.createElement("div",{className:"SelectionDropdown-module__container___XzkIx",id:n.id},l.createElement("button",{className:"SelectionDropdown-module__titleContainer___YyoD0",onClick:()=>d(!u),"aria-expanded":!u},l.createElement("span",{className:s()(P.gC,"SelectionDropdown-module__titleText___PN6s9")},y),l.createElement("div",{className:"SelectionDropdown-module__filterInfoContainer___7ktfT"},n.isMultiSelect&&(null===o||void 0===o?void 0:o.length)>0&&l.createElement("span",{className:"SelectionDropdown-module__selectedLabel___49Ksx"},o.length),f)),!u&&l.createElement("div",{style:c?{maxHeight:(0,ke.wU)(2*n.truncatedDisplayCount),overflowY:"scroll"}:void 0},l.createElement(Ee,{filterInfo:n,onChoicesClick:r,selectedChoices:o})))};var Pe="ClientSideProductFilters-module__buttonContainer___iR8hA",Re="ClientSideProductFilters-module__filter___-Cm1k",xe="ClientSideProductFilters-module__filtersTrackerButton___49MAj",Ne="ClientSideProductFilters-module__filtersTrackerText___yWu16";const Oe=e=>{const{browsePageFilterTitle:t,genreFilterTitle:n,productKindFilterTitle:r}=(0,f.y_)("browsePageFilterTitle","genreFilterTitle","productKindFilterTitle"),{children:o,className:a}=e,{activeFilterFunctions:i,initialProducts:s,setActiveFilterFunctions:c}=(0,l.useContext)(Y.jP),{filterOptions:u,filter:d,filterValueToDisplayString:h}=(0,Y.Gi)(s),{filterOptions:m,filter:p}=(0,Y.kR)(s),g=(0,R.Wp)({desktopComponent:e=>l.createElement("h3",{className:P.zO},t),mobileLandscapeComponent:De,mobilePortraitComponent:De});return l.createElement(l.Fragment,null,l.createElement("div",{className:a},!!g&&l.createElement(g,{activeFilters:i,setActiveFilters:c}),l.createElement(Me,{activeFilters:i,className:Re,displayStrings:h,filterFunction:d,filterName:r,filterOptions:u,setActiveFilters:c}),l.createElement(Me,{activeFilters:i,className:Re,filterFunction:p,filterName:n,filterOptions:m,setActiveFilters:c})),o)},Le=()=>{const{activeFilterFunctions:e,setActiveFilterFunctions:t}=(0,l.useContext)(Y.jP),{browsePageClearAllFilters:n,browsePageClearAllFiltersAccessibilityLabel:r}=(0,f.y_)("browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel");return Object.keys(e).length>0?l.createElement("div",{className:"ClientSideProductFilters-module__filtersTrackerContainer___7KJC-"},l.createElement("div",{className:Pe},l.createElement(c.k,{as:"button","aria-label":r,buttonType:u.L$.Tertiary,className:s()(xe,P.Km,Ne),onClick:()=>{t({})}},n)),l.createElement(Fe,null)):null},Me=e=>{let{activeFilters:t,displayStrings:n,filterOptions:r,filterFunction:o,filterName:a,setActiveFilters:i,className:s}=e;const c=Object.keys(t).filter((e=>r.includes(e))).length;return l.createElement(R.Fd,{className:s,buttonTitle:a,selectedChoicesCount:c},l.createElement("ul",{className:"ClientSideProductFilters-module__options___Lm4fo"},r.map((e=>l.createElement("li",{key:e},l.createElement(we,{choiceGroupId:e,isMultiSelect:!0,isSelected:void 0!==t[e],choice:{id:e,title:n?n[e.toUpperCase()]:e},onChoicesClick:()=>{if(void 0!==t[e]){const{[e]:n}=t,r=V()(t,[e].map(de()));i(r)}else i(C()(C()({},t),{},{[e]:t=>o(t,e)}))}}))))))},De=e=>{const{browsePageFilterTitle:t,browsePageClearAllFilters:n,browsePageClearAllFiltersAccessibilityLabel:r}=(0,f.y_)("browsePageFilterTitle","browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel"),o=Object.keys(e.activeFilters).length,a=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:o});return o>0?l.createElement("div",{className:"ClientSideProductFilters-module__mobileFilterTitleContainer___fKpug"},l.createElement("h3",{className:P.zO},a),l.createElement(c.k,{as:"button","aria-label":r,buttonType:u.L$.Tertiary,className:s()(xe,P.Km,Ne),onClick:()=>e.setActiveFilters({})},n)):l.createElement("h3",{className:P.zO},t)},Ue=e=>l.createElement("div",{className:Pe},l.createElement(c.k,{as:"button","aria-label":e.filterName,buttonType:u.L$.Tertiary,className:s()(xe,P.Km,Ne),onClick:()=>{const t=e.activeFilters,n=e.filterId,{[n]:r}=t,o=V()(t,[n].map(de()));e.setActiveFilters(o)}},l.createElement(he,{"aria-hidden":!0}),l.createElement("span",{className:"ClientSideProductFilters-module__filtersTrackerButtonText___71mUj"},e.filterName))),Fe=()=>{const{activeFilterFunctions:e,setActiveFilterFunctions:t}=(0,l.useContext)(Y.jP),n=(0,Y.g6)();return l.createElement(l.Fragment,null,Object.keys(e).map((r=>{var o;const a=null!==(o=null===n||void 0===n?void 0:n[r.toUpperCase()])&&void 0!==o?o:r;return l.createElement(Ue,{key:r,activeFilters:e,filterId:r,filterName:a,setActiveFilters:t})})))};const Be=e=>{let{children:t,className:n}=e;const{activeSortFunction:r,setActiveSortFunction:o}=(0,l.useContext)(Y.wT),{sortTitleAscendingText:a,sortTitleDescendingText:i}=(0,f.y_)("sortTitleAscendingText","sortTitleDescendingText"),s=(0,f.iV)("browsePageSortByXFunction"),c={[Y.U8.AlphabeticalAscending]:a,[Y.U8.AlphabeticalDescending]:i};return l.createElement(l.Fragment,null,l.createElement(R.Fd,{className:n,buttonTitle:(0,g.WUZ)(s,c[r])},l.createElement("ul",{className:"ClientSideProductSort-module__options___UysWw"},l.createElement("li",null,l.createElement(we,{choiceGroupId:Y.U8.AlphabeticalAscending,isMultiSelect:!1,isSelected:r===Y.U8.AlphabeticalAscending,choice:{id:Y.U8.AlphabeticalAscending,title:a},onChoicesClick:o})),l.createElement("li",null,l.createElement(we,{choiceGroupId:Y.U8.AlphabeticalDescending,isMultiSelect:!1,isSelected:r===Y.U8.AlphabeticalDescending,choice:{id:Y.U8.AlphabeticalDescending,title:i},onChoicesClick:o})))),t)};const He=e=>{const{showModal:t,setShowModal:n}=e,r=(0,f.UD)("applyButtonText");return t?l.createElement(R.u_,{show:t,fullscreenOnMobile:!0},l.createElement(R.u_.Body,{className:"ClientSideSortAndFiltersModal-module__modal___I6M6W"},l.createElement("div",{className:"ClientSideSortAndFiltersModal-module__inputContainer___W+VVc"},l.createElement(Be,null),l.createElement(Oe,null)),l.createElement(c.k,{as:"button",className:"ClientSideSortAndFiltersModal-module__applyButton___LzOHc",onClick:()=>n(!1)},r))):null};const qe=e=>{const{className:t,errorCode:n,errorMessage:r,userRequestMessage:o,primaryButtonAction:a,primaryButtonText:i,secondaryButtonAction:s,secondaryButtonText:d}=e,h=(0,f.iV)("errorCodeTemplate");return l.createElement("div",{className:t},l.createElement("h6",{className:P.uo},r),l.createElement("div",{className:P.Km},o),n&&l.createElement("div",{className:P.Km},(0,g.WUZ)(h,n)),l.createElement("div",{className:"ErrorMessage-module__buttonRow___IeLfN"},a&&i&&l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:a},i),s&&d&&l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:s},d)))},Ge=n.p+"static/media/errorComponent.df11267e.png";var ze="ErrorWithImage-module__text___68A4A";const Xe=e=>{const{cV:t,errorHeading:n,errorDescription:r,imageAltText:o,imageSrc:a}=e,[i,s,c,u]=(0,f.QF)("errorCodeTemplate","errorComponentDefaultHeading","errorComponentDefaultDescription","errorComponentImageAltText");return l.createElement("div",{className:"ErrorWithImage-module__container___1h0z9"},l.createElement("img",{className:"ErrorWithImage-module__image___zS19V",src:null!==a&&void 0!==a?a:Ge,alt:null!==o&&void 0!==o?o:u}),l.createElement("div",{className:"ErrorWithImage-module__textSection___y+nQ0","aria-live":"polite"},l.createElement("h4",{className:"ErrorWithImage-module__errorHeading___xEheO"},null!==n&&void 0!==n?n:s),l.createElement("div",{className:ze},null!==r&&void 0!==r?r:c),t&&l.createElement("div",{className:ze},(0,g.WUZ)(i,t))))};const $e=e=>{const[t,n]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),a=(0,l.useRef)(null),i=(0,Y.bN)()?{left:"0.5rem"}:{right:"0.5rem"},c=e.gradientColorOverride?{background:`linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, ${e.gradientColorOverride} 100%)`}:void 0;return(0,l.useEffect)((()=>{var e,t;const r=(null===(e=null===a||void 0===a?void 0:a.current)||void 0===e?void 0:e.clientHeight)||0,i=((null===(t=null===a||void 0===a?void 0:a.current)||void 0===t?void 0:t.scrollHeight)||0)>r;n(i),o(i)}),[]),l.createElement("div",{className:s()(["FadingScrollContainer-module__container___6roxZ",e.className]),"aria-label":e.ariaLabel},l.createElement(W.GamepadScrollable,{tabIndex:e.focusable&&t?0:void 0,ref:a,scrollAxis:W.Axis.Vertical,scrollAlignment:W.ScrollAlignment.AlignToCenter,className:s()(["FadingScrollContainer-module__scrollContainer___r0WyB",i,e.focusable&&"FadingScrollContainer-module__focusable___LfO9P"]),onScroll:()=>{a.current&&(a.current.scrollHeight-a.current.scrollTop<=a.current.clientHeight+10?o(!1):o(!0))}},e.children),r&&l.createElement("div",{className:"FadingScrollContainer-module__fade___hd7V5",style:c}))};var Ve=n(90592),We="Tooltip-module__tooltip___viGTe",Ke="Tooltip-module__tooltipContent___JJErM",je="FranceCollectionDisclaimer-module__displayInline___-p-t1";const Ze=()=>{const e=(0,v.useSelector)(g.yWe);if((0,g.Ypc)(e.market,"FR")){const e="Voir {0} pour plus d'informations sur les crit\xe8res de classement.",t=l.createElement("a",{href:"https://www.microsoft.com/fr-fr/store/b/imprint",target:"_blank",rel:"noreferrer"},"mentions l\xe9gales et informations consommateurs");return(0,g.vvg)(e,t)}return null},Ye=e=>{const t=Ze(),[n,r]=(0,l.useState)(!1);return t?l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button",buttonType:u.L$.Tertiary,className:s()(je,"FranceCollectionDisclaimer-module__iconButton___yNMeR",e.foregroundStyle?"FranceCollectionDisclaimer-module__buttonWithoutFocusBackground___OHrpT":null),"data-tip":!0,onClick:()=>r(!0),style:e.foregroundStyle},l.createElement(d.JO,{icon:Ve.Z,iconSize:d.Jh.Small})),l.createElement(R.u_,{show:n,onCloseBtnClick:()=>r(!1),closeable:!0},l.createElement(R.u_.Body,null,l.createElement("div",{className:"FranceCollectionDisclaimer-module__contentMargin___TerUh"},t)))):null},Qe=()=>{const e=Ze();return e?l.createElement("div",{className:s()(je,We,"Tooltip-module__tooltipArrowLeftPositionAdjustments___OPFdG"),"data-tip":!0},l.createElement(d.JO,{icon:Ve.Z,iconSize:d.Jh.Small}),l.createElement("div",{className:s()(Ke,"Tooltip-module__tooltipContentPositionAdjustments___eLdI+")},e)):null};n(13489);var Je=n(61248),et=n(12646),tt=n(38185),nt=n(89172),rt="ItemsSlider-module__arrowButton___ZH7Ek",ot="ItemsSlider-module__arrowButtonIconStyle___2JcCu",at="ItemsSlider-module__disabledArrowButton___VZ+e1";const it=(e,t,n)=>l.createElement("li",{role:"none",onKeyDown:e=>((e,t,n)=>{var r;let o=-1;switch(e.key){case"ArrowLeft":o=t-1;break;case"ArrowRight":o=t+1}n[o]&&(null===(r=(0,Y.OT)(n[o])[0])||void 0===r||r.focus())})(e,t,n),key:t,ref:e=>{n[t]=e}},l.createElement("span",{key:`ItemSliderItem-${t}-${e.key}`,className:"ItemsSlider-module__itemMargin___s21Pp","data-testID":`ItemSliderItem-${t}-${e.key}`},e)),st=e=>{var t;const{previousMediaButtonAccessibilityLabel:n,nextMediaButtonAccessibilityLabel:r,pdpChannelShowAllLabel:o}=(0,f.y_)("previousMediaButtonAccessibilityLabel","nextMediaButtonAccessibilityLabel","pdpChannelShowAllLabel"),{items:a,title:i,showAllUrl:c}=e,u=(0,l.useRef)(null),d=(0,l.useRef)([]),h=(0,l.useRef)(null),[m,p]=(0,l.useState)(0),[g,v]=(0,l.useState)({previousButtonVisible:!1,nextButtonVisible:!1}),_=(0,Y.bN)(),y=(0,l.useRef)({minWidth:"min(100%, 1920px)"}),b=e=>{if(u.current){const t=e*a.length-u.current.offsetWidth,n=h.current;n&&(n.scrollLeft=0),v({previousButtonVisible:!1,nextButtonVisible:t>0})}};if((0,l.useEffect)((()=>{const e=h.current;e&&!e.onscroll&&m>0&&(e.onscroll=()=>{const t=Math.min(e.clientWidth-parseFloat(getComputedStyle(e).fontSize),1920)-m;(_?e.scrollLeft>=0:e.scrollLeft<=0)?v({previousButtonVisible:!1,nextButtonVisible:!0}):e.scrollWidth-Math.ceil(Math.abs(e.scrollLeft))-t<=e.offsetWidth?v({previousButtonVisible:!0,nextButtonVisible:!1}):v({previousButtonVisible:!0,nextButtonVisible:!0})})}),[h,m]),(0,l.useEffect)((()=>{m>0&&b(m)}),[m,a.length]),(0,l.useEffect)((()=>{y.current={minWidth:`calc(min(100%, 1920px) - ${m}px)`}}),[m]),(0,l.useEffect)((()=>{var e;if(d[0]){const t=null===(e=d[0])||void 0===e?void 0:e.offsetWidth;return p(t),window.addEventListener("resize",(()=>b(t))),()=>window.removeEventListener("resize",(()=>b(t)))}return()=>{}}),[d[0],null===(t=d[0])||void 0===t?void 0:t.offsetWidth]),0===a.length)return null;const E=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=h.current;if(n&&u.current){const r=t?1:Math.floor(u.current.offsetWidth/m),o=e?1:-1;let a=n.scrollLeft+o*r*m;if(e){let e=a/m;e=_?Math.floor(e):Math.ceil(e),a=e*m}else a-=a%m;if(Math.abs(a)+n.clientWidth>n.scrollWidth){const e=n.scrollWidth-n.clientWidth;a=o*(e-e%m)}n.scrollLeft=a}},T=()=>{if(h.current){const e=h.current.getBoundingClientRect(),t=(0,Y.OT)(h.current).find((t=>{const n=t.getBoundingClientRect();return n.left>e.left&&n.right<e.right}));null===t||void 0===t||t.focus()}},A=g.previousButtonVisible||g.nextButtonVisible,w={areaName:i?`${i}-ItemSlider`:"Unknown-ItemSlider",contentType:S.zc.Button};return l.createElement("div",{ref:u},l.createElement("section",{"aria-label":i},A&&l.createElement(R.lg,{className:"ItemsSlider-module__itemsSliderButtonRow___dyi64"},l.createElement(R.Lk,{className:"ItemsSlider-module__buttonsWrapper___PiS68"},c&&l.createElement("a",{href:c,className:s()("ItemsSlider-module__showAllLink___l+XAi"),"aria-label":o},o),l.createElement(Je.$,C()({as:"button","aria-label":n,className:s()([rt,"ItemsSlider-module__arrowBackButton___YmEyz",g.previousButtonVisible?nt.KZ:at]),disabled:!g.previousButtonVisible,icon:_?et.Z:tt.Z,iconClassName:s()(ot,nt.OU),onClick:()=>{E(!1!==_),T()},title:n},(0,S.iZ)(C()(C()({},w),{},{id:"scrollBackButton",contentName:n,slotNumber:0})))),l.createElement(Je.$,C()({as:"button","aria-label":r,className:s()([rt,g.nextButtonVisible?nt.KZ:at]),disabled:!g.nextButtonVisible,icon:_?tt.Z:et.Z,iconClassName:s()(ot,nt.OU),onClick:()=>{E(!0!==_),T()},title:r},(0,S.iZ)(C()(C()({},w),{},{id:"scrollForwardButton",contentName:r,slotNumber:1})))))),l.createElement(R.lg,null,l.createElement("ol",{className:"ItemsSlider-module__wrapper___nAi6y",ref:h,onFocusCapture:e=>{if(void 0!==typeof document&&e&&e.target&&1.5*m<document.documentElement.clientWidth){const t=e.target.getBoundingClientRect();t.right>window.innerWidth||t.right>document.documentElement.clientWidth?E(!0,!0):t.left<0&&E(!1,!0)}},role:"none"},a.map(((e,t)=>it(e,t,d))),l.createElement("li",{"aria-hidden":!0,style:y.current})))))};var lt=n(21883),ct="FadeContainers-module__widthInherit___5fuOa";const ut=e=>l.createElement("div",{className:s()("FadeContainers-module__fadeIn___5xlsD",ct),onAnimationEnd:e.onAnimationEnd},e.children),dt=e=>l.createElement("div",{className:s()("FadeContainers-module__fadeOut___35iB7",ct),onAnimationEnd:e.onAnimationEnd},e.children);const ht=e=>{const{lceState:t,isNotRequested:n,isFetching:r,content:o,error:a,defaultRender:i}=e,[s,c]=(0,l.useState)(t),[u,d]=(0,l.useState)(t),[h,m]=(0,l.useState)(void 0),[p,g]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),_=(0,l.useRef)((0,lt.lceSelect)(u||(0,lt.lceNotRequested)(),{default:i,content:o,error:a,isFetching:r,isNotRequested:n})||null);return(0,l.useEffect)((()=>{p||f?m(t):t&&t.type!==(null===s||void 0===s?void 0:s.type)&&(d(t),g(!0))}),[t]),(0,l.useEffect)((()=>{if(f){const e=(0,lt.lceSelect)(u||(0,lt.lceNotRequested)(),{default:i,content:o,error:a,isFetching:r,isNotRequested:n})||null;_.current=e,g(!1)}else h&&h.type!==(null===s||void 0===s?void 0:s.type)&&(d(h),m(void 0),g(!0))}),[f]),p?l.createElement(dt,{onAnimationEnd:()=>v(!0)},_.current):l.createElement(ut,{onAnimationEnd:()=>{c(u),d(void 0),v(!1)}},a?l.createElement(R.SV,{renderError:e=>{const t=(0,lt.lceError)(e,u);return a(t)}},(()=>_.current)):_.current)},mt=e=>(0,R.EX)()>=R.JD.SM?e.children[0]:e.children[1],pt=R.lg,gt=R.Lk;mt.Desktop=pt,mt.Mobile=gt;const ft=e=>{let{items:t,title:n}=e;return l.createElement(mt,null,l.createElement(mt.Desktop,null,l.createElement(R.Lk,{xs:12},l.createElement(R.Lk,null,!!n&&l.createElement("h2",{className:s()("SizeAdaptiveItemSliderChannel-module__channelTitleText___SexCs",P.hO)},n)),l.createElement(st,{items:t,title:n}))),l.createElement(mt.Mobile,{className:"SizeAdaptiveItemSliderChannel-module__mobileContainer___IhbnZ"},!!n&&l.createElement("h2",{className:P.hO},n),l.createElement("ul",{className:"SizeAdaptiveItemSliderChannel-module__listItemStyle___sQYJb"},t.map((e=>l.createElement("li",{key:`${n}-${e.key}`},e))))))};var vt=n(84493),_t=n(8605);const yt=e=>l.createElement("div",{className:s()("Tabs-module__tab___CxLhH",e.className)},e.children),bt=e=>{const{children:t,className:n,onSelectedIndexChanged:r,initialTabIndex:o=0}=e,[a,i]=(0,l.useState)(o),c=(0,l.useRef)(null),u=l.Children.map(t,(e=>({title:e.props.title,ariaLabel:e.props.ariaLabel,disabled:e.props.disabled}))),{startTransition:d,renderContainer:h}=function(e,t){const[n,r]=(0,l.useState)(e),[o,a]=(0,l.useState)(void 0),[i,s]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{c?(t(void 0!==n?n:e),s(!1)):void 0!==o&&o!==e&&(r(o),a(void 0),s(!0))}),[c]),{startTransition:t=>{i||c?a(t):t!==e&&(r(t),s(!0))},renderContainer:e=>i?l.createElement(dt,{onAnimationEnd:()=>u(!0)},e):l.createElement(ut,{onAnimationEnd:()=>{r(void 0),u(!1)}},e)}}(a,i);(0,l.useEffect)((()=>{null===r||void 0===r||r(a)}),[a,r]);return l.createElement("div",{className:s()("Tabs-module__tabContainer___Z2g7+",n)},l.createElement(Y.fV.Provider,{value:{focusNearestChild:()=>{var e;null===(e=c.current)||void 0===e||e.focusCurrentTab()}}},l.createElement(Ct,{ref:c,tabs:u,selectedIndex:a,initialTabIndex:o,setSelectedIndex:d}),h(t[a])))},Ct=(0,l.forwardRef)(((e,t)=>{const[n,r]=(0,l.useState)(!1),[o,a]=(0,l.useState)(e.selectedIndex),[i,h]=(0,l.useState)(void 0),m=e.tabs.length,p=(0,l.useRef)(Et(null,0)),g=(0,l.useRef)(null),f=(0,l.useRef)([]),v=(0,M.b)(),_=(0,S.Lo)();(0,l.useImperativeHandle)(t,(()=>({focusCurrentTab:()=>{var e;null===(e=f[o])||void 0===e||e.focus()}}))),(0,W.useLeftBumperHandler)(W.GamepadAction.Down,(()=>{const t=v?1:-1,n=(0,Y.Is)(e.selectedIndex+t,m);return e.setSelectedIndex(n),p.current=Et(g.current,n),!0})),(0,W.useRightBumperHandler)(W.GamepadAction.Down,(()=>{const t=v?-1:1,n=(0,Y.Is)(e.selectedIndex+t,m);return e.setSelectedIndex(n),p.current=Et(g.current,n),!0}));const y=()=>r(!0),b=()=>r(!1);(0,l.useEffect)((()=>{p.current=Et(g.current,e.initialTabIndex,!0),window.addEventListener("gamepadconnected",y),window.addEventListener("gamepaddisconnected",b);let t=navigator.getGamepads();return"object"===typeof t&&(t=Object.values(t)),r(t.filter((e=>!!e)).length>0),()=>{window.removeEventListener("gamepadconnected",y),window.removeEventListener("gamepaddisconnected",b)}}),[]),(0,l.useEffect)((()=>{const t=Et(g.current,e.selectedIndex);p.current=t,h(t)}),[e.tabs]);return l.createElement("div",{className:"Tabs-module__tabBar___nxTqT"},n&&l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:v?vt.Z:_t.Z}),l.createElement("div",{className:"Tabs-module__tabContainerMobile___APqvI"},l.createElement("ul",{className:"Tabs-module__tabTitles___3UtkN",ref:g,role:"tablist"},e.tabs.map(((t,n)=>{var r;const i=(0,S._d)({areaName:"TabContainer",behavior:S.cg.TAB,contentName:t.title,contentType:S.zc.Button,id:`TabButton-${n}`,slotNumber:n},_);return l.createElement("li",{key:n,role:"none",className:"Tabs-module__tabElement___5HQXQ"},l.createElement(c.k,C()(C()({as:"button",ref:e=>{f[n]=e},buttonType:u.L$.Tertiary,className:s()("Tabs-module__tabButton___wRKYV",nt.KZ,n===e.selectedIndex?"Tabs-module__activeTab___9tyPD":"Tabs-module__inactiveTab___6fFsw"),onClick:()=>{e.setSelectedIndex(n),a(n),p.current=Et(g.current,n)},role:"tab","aria-label":null!==(r=t.ariaLabel)&&void 0!==r?r:t.title,"aria-selected":n===o||n===e.selectedIndex,onKeyDown:e=>((e,t)=>{var n,r;const o=v?-1:1;"ArrowLeft"===e.key?null===(n=f[t-1*o])||void 0===n||n.focus():"ArrowRight"===e.key&&(null===(r=f[t+1*o])||void 0===r||r.focus())})(e,n)},(0,S.iZ)(i)),{},{disabled:t.disabled}),t.title))}))),l.createElement("div",{className:"Tabs-module__tabUnderline___35yYF","aria-hidden":!0,style:C()(C()({},p.current),{},{opacity:g.current?"1":"0"})})),n&&l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:v?_t.Z:vt.Z}))})),Et=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];var r,o;if(!e||e.children.length<t)return{marginInlineStart:"0"};let a=0;for(let l=0;l<=t;l++)a+=(null===(r=e.children.item(l))||void 0===r?void 0:r.clientWidth)||0;const i=a-((null===(o=e.children.item(t))||void 0===o?void 0:o.clientWidth)||0)/2,s=2*t-1;return{marginInlineStart:`calc(${i}px + ${s}rem)`,transition:""+(n?"opacity 0.5s":"margin-inline-start 0.5s")}};var St="SubscriptionCard-module__actionButton___wHZou",Tt="SubscriptionCard-module__headerImage___HWoqU",At=n(15708);const wt=e=>{let{isOwned:t,productId:n,productName:r,slotNumber:o}=e;const[a,i,u]=(0,f.QF)("joinNowText","joinNowButtonAccessibilityLabelFormat","youOwnThisText"),d=t?void 0:()=>{window.scrollTo({top:0,behavior:"smooth"})},h=t?u:a,m=t?u:(0,g.WUZ)(i,r),p={areaName:"SubscriptionCard",behavior:S.cg.OTHER,contentType:S.zc.Button,id:t?"youOwnThisDisabledAction":"joinNowAction",productId:n,productName:r,slotNumber:o};return l.createElement(c.k,C()({"aria-label":m,as:"button",className:s()(nt.KZ,St),onClick:d,disabled:!!t},(0,S.iZ)(C()(C()({},p),{},{contentName:h}))),h)},kt=e=>{let{isOwned:t,pageProductId:n,productId:r,productName:o,slotNumber:a}=e;const[i,u,d,h]=(0,f.QF)("joinNowText","joinNowButtonAccessibilityLabelFormat","viewDetailsActionText","viewDetailsActionAccessibilityText"),m=(0,T.GP)(r,n),p=t?d:i,v=t?(0,g.WUZ)(h,o):(0,g.WUZ)(u,o),_={areaName:"SubscriptionCard",behavior:S.cg.NAVIGATIONFORWARD,contentType:S.zc.Link,id:t?"viewDetailsAction":"joinNowAction",productId:r,productName:o,slotNumber:a};return l.createElement(c.k,C()({"aria-label":v,as:"a",className:s()(nt.KZ,St),href:m},(0,S.iZ)(C()(C()({},_),{},{contentName:p}))),p)},It=e=>{const{productId:t}=e,n=(0,v.useSelector)((e=>(0,lt.getDataOrPrevious)((0,At.tR)(e,t)))),r=(0,g._yM)(g.Hw9.ProductId,""),o=(0,g.Ypc)(t,r),a=null===n||void 0===n?void 0:n.isOwned;return l.createElement("div",{className:"SubscriptionCard-module__actionButtonContainer___ZKI0P"},o?l.createElement(wt,C()(C()({},e),{},{isOwned:a})):l.createElement(kt,C()(C()({},e),{},{pageProductId:r,isOwned:a})))},Pt=e=>{const{slotNumber:t,productId:n,children:r,title:o}=e;return l.createElement("div",{className:"SubscriptionCard-module__subscriptionCard___CeIiz"},r,l.createElement(It,{productId:n,slotNumber:t,productName:o}))},Rt=e=>{let{children:t}=e;return l.createElement($e,{className:"SubscriptionCard-module__featureScrollContainer___hBIna"},l.createElement("ul",{className:"SubscriptionCard-module__featureBody___h3CwX"},t))},xt=e=>{let{icon:t,title:n,textToShow:r}=e;return l.createElement("li",{className:"SubscriptionCard-module__checkmarkRow___fZ-nE"},l.createElement(d.JO,{iconSize:t?d.Jh.XSmall:d.Jh.XXSmall,icon:null!==t&&void 0!==t?t:X.Z,title:n}),l.createElement("span",{className:P.S7},r))},Nt=e=>{let{children:t,productId:n}=e;const r=(0,v.useSelector)((e=>(0,lt.getDataOrPrevious)((0,At.tR)(e,n)))),o=null===r||void 0===r?void 0:r.isOwned;return l.createElement("div",{className:s()("SubscriptionCard-module__header___MLoAq","SubscriptionCard-module__headerBasic___S0-IU","theme-dark")},t,!o&&l.createElement(Lt,{productId:n}))},Ot=e=>{let{title:t}=e;return l.createElement("h3",{className:s()(P.a2,"SubscriptionCard-module__cardTitle___UxQCZ")},t)},Lt=e=>{let{productId:t}=e;const n=(0,v.useSelector)((e=>(0,At.Ie)(e,t)));return n&&(0,G.lU)(n)?l.createElement(G.HR,{hasAddOns:!1,productInfo:n,productPrice:n.availability.price,recurrencePolicySummary:n.sku.recurrencePolicySummary,isPass:!0,className:s()(P.hO,"SubscriptionCard-module__pricingSection___st2ON"),discountDetailClassName:"SubscriptionCard-module__discountDetail___2ePkg"}):null},Mt=e=>{let{productId:t,slotNumber:n}=e;const{eaPlayBenefitsRewards:r,eaPlayBenefitsTrials:o,eaPlayBenefitsTitles:a,eaPlayBenefitsDiscounts:i}=(0,f.y_)("eaPlayBenefitsRewards","eaPlayBenefitsTrials","eaPlayBenefitsTitles","eaPlayBenefitsDiscounts");return l.createElement(Pt,{productId:t,slotNumber:n,title:G.YV},l.createElement(Nt,{productId:t},l.createElement(d.JO,{iconSize:d.Jh.Custom,icon:z.Z,title:G.YV,className:s()(Tt,"SubscriptionCard-module__eaPlayLogo___kHvC3")})),l.createElement(Rt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i})))},Dt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassConsoleHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:a}=(0,f.y_)("gamePassConsoleHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText"),i=(0,f.UD)("gamePassSubscriptionText",[G.IC,G.$p]),s=(0,f.UD)("gamePassSubscriptionText",[G.Z1,G.$p]);return l.createElement(Pt,{productId:t,slotNumber:n,title:i},l.createElement(Nt,{productId:t},l.createElement(Ot,{title:s})),l.createElement(Rt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a})))};var Ut=n(94988);const Ft=e=>{let{productId:t,slotNumber:n}=e;const{gamePassUltimateHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMultiplayer:a,gamePassMemberDealsDiscountsAndPerksText:i,eaPlayMembership:s}=(0,f.y_)("gamePassUltimateHighQualityGameText","gamePassPlayOnDayOneText","gamePassMultiplayer","gamePassMemberDealsDiscountsAndPerksText","eaPlayMembership");return l.createElement(Pt,{productId:t,slotNumber:n,title:G.rt},l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.OL})),l.createElement(Rt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:i}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:s,icon:Ut.Z,title:G.YV})))},Bt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassPCHighQualityGameText:r,gamePassPlayOnDayOneText:o,gamePassMemberDealsAndDiscountsText:a,eaPlayMembership:i}=(0,f.y_)("gamePassPCHighQualityGameText","gamePassPlayOnDayOneText","gamePassMemberDealsAndDiscountsText","eaPlayMembership");return l.createElement(Pt,{productId:t,slotNumber:n,title:G.zt},l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.zt})),l.createElement(Rt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i,icon:Ut.Z,title:G.YV})))},Ht=e=>{let{productId:t,slotNumber:n}=e;const{ubisoftPlusBenefitsGames:r,ubisoftPlusBenefitsPCAccess:o,ubisoftPlusBenefitsDayOneReleases:a,ubisoftPlusBenefitsEditions:i,ubisoftPlusBenefitsRewards:c,ubisoftPlusBenefitsDiscount:u}=(0,f.y_)("ubisoftPlusBenefitsGames","ubisoftPlusBenefitsPCAccess","ubisoftPlusBenefitsDayOneReleases","ubisoftPlusBenefitsEditions","ubisoftPlusBenefitsRewards","ubisoftPlusBenefitsDiscount");return l.createElement(Pt,{productId:t,slotNumber:n,title:G.lD},l.createElement(Nt,{productId:t},l.createElement(d.JO,{iconSize:d.Jh.Custom,icon:G.V$,title:G.lD,className:s()(Tt,"SubscriptionCard-module__ubisoftPlusLogo___J0jO+")})),l.createElement(Rt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i}),l.createElement(xt,{textToShow:c}),l.createElement(xt,{textToShow:u})))},qt=e=>{let{productId:t,slotNumber:n}=e;const{ultimateFamilyShareBenefit:r,ultimateFamilyIncludeBenefit:o,ultimateFamilyOwnAccountBenefit:a,ultimateFamilyOwnHistoryBenefit:i,ultimateFamilyPlayBenefit:s,ultimateFamilyEnjoyBenefit:c}=(0,f.y_)("ultimateFamilyShareBenefit","ultimateFamilyIncludeBenefit","ultimateFamilyOwnAccountBenefit","ultimateFamilyOwnHistoryBenefit","ultimateFamilyPlayBenefit","ultimateFamilyEnjoyBenefit");return l.createElement(Pt,{productId:t,slotNumber:n,title:G.a1},l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.a1})),l.createElement(Rt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o}),l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:i}),l.createElement(xt,{textToShow:s}),l.createElement(xt,{textToShow:c})))},Gt=e=>{let{productId:t,slotNumber:n}=e;const{gamePassCoreHighQualityGameText:r,gamePassCoreSelectCatalogHighQualityGameText:o,gamePassMultiplayer:a,gamePassMemberDealsAndDiscountsText:i}=(0,f.y_)("gamePassCoreHighQualityGameText","gamePassCoreSelectCatalogHighQualityGameText","gamePassMultiplayer","gamePassMemberDealsAndDiscountsText"),s=(0,v.useSelector)(g.yWe);return l.createElement(Pt,{title:G.CU,productId:t,slotNumber:n},l.createElement(Nt,{productId:t},l.createElement(Ot,{title:G.l2})),l.createElement(Rt,null,l.createElement(xt,{textToShow:a}),l.createElement(xt,{textToShow:"JP"===s.market.toUpperCase()?o:r}),l.createElement(xt,{textToShow:i})))},zt=e=>{let{productId:t,slotNumber:n}=e;const{gtaPlusBenefitsCash:r,gtaPlusAccessToGames:o}=(0,f.y_)("gtaPlusBenefitsCash","gtaPlusAccessToGames");return l.createElement(Pt,{productId:t,slotNumber:n,title:G.Pd},l.createElement(Nt,{productId:t},l.createElement(d.JO,{iconSize:d.Jh.Custom,icon:G.fD,title:G.Pd,className:s()(Tt,"SubscriptionCard-module__gtaPlusLogo___Tdd0u")})),l.createElement(Rt,null,l.createElement(xt,{textToShow:r}),l.createElement(xt,{textToShow:o})))},Xt=e=>{switch((0,g.kgH)(e.productId)){case G.Os:return l.createElement(Ft,C()({},e));case G.Cv:return l.createElement(Bt,C()({},e));case G.Wy:return l.createElement(Dt,C()({},e));case G.kE:return l.createElement(qt,C()({},e));case G.pD:return l.createElement(Gt,C()({},e));case G.Lm:return l.createElement(Mt,C()({},e));case G.OP:return l.createElement(Ht,C()({},e));case G.yd:return l.createElement(zt,C()({},e));default:return null}};const $t=()=>{const e=(0,l.useRef)(null),[t,n]=(0,l.useState)(!1),r=(0,g.$Ft)(),o=(0,v.useDispatch)();(0,l.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"cartMuidSyncSuccess"===e.data.id){const t=r.get(g.UVO),n=e.data.cartMuid;t!==n&&n&&(r.set(g.UVO,n,{essential:!0}),o(At.SA.fetchVectorId.start()))}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[r,o]);const a=(0,l.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"startCartMuidSync"},"https://www.microsoft.com")}),[e]);return t?l.createElement("iframe",{ref:e,onLoad:a,key:"cartMuid-sync-iframe",name:"cartMuid-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsComCartMuidSync.html",width:"0",height:"0",className:"CartMuidSync-module__muidSyncFrame___NpX0w"}):null};n(634);var Vt=n(5861),Wt="CollectionPromo-module__buttonWithoutFocusBackground___TEiUd",Kt="CollectionPromo-module__defaultLineClamp___hcAIk",jt="CollectionPromo-module__disclaimerPositioning___k1OLb";const Zt=e=>{const{title:t,backgroundColor:n,foregroundColor:r,description:o,footer:a,imageUrl:i,link:h,subHeader:m,isLandscape:p}=e,f=(0,Y.bN)(),_=(0,v.useSelector)(g.gzb)===g.Q2A.Dark,y=null!==n&&void 0!==n?n:_?"#404040":"#f9f9f9",b=f?{background:`linear-gradient(90deg, rgba(0, 0, 0, 0) calc(max(50%, 540px) - 175px), ${y} max(50%, 540px))`}:{background:`linear-gradient(90deg, ${y} max(50%, 540px), rgba(0, 0, 0, 0) calc(max(50%, 540px) + 175px))`},C=r?Jt(r):void 0,E=!!m,S=!(!a||!h);let T="CollectionPromo-module__threeLineClamp___n0d2P";switch(3+Number(!E)+Number(!S)){case 5:T="CollectionPromo-module__fiveLineClamp___cEFdt";break;case 4:T="CollectionPromo-module__fourLineClamp___vI4XM"}return l.createElement("div",{className:"CollectionPromo-module__contentZIndex___tjOqr"},l.createElement("div",{className:jt,style:null===C||void 0===C?void 0:C.foregroundStyle},p?l.createElement(Ye,{foregroundStyle:null===C||void 0===C?void 0:C.foregroundStyle}):l.createElement(Qe,null)),l.createElement("div",{className:"CollectionPromo-module__contentContainer___9aSeR",style:b},l.createElement("div",{className:"CollectionPromo-module__textContainer___rXocJ"},E&&l.createElement("span",{className:s()(Kt,P.F$),style:null===C||void 0===C?void 0:C.foregroundStyle},m),!!t&&l.createElement("h3",{className:s()(Kt,P.Q),style:null===C||void 0===C?void 0:C.foregroundStyle},t),!!o&&l.createElement("span",{className:s()(Kt,T,P.RH),style:null===C||void 0===C?void 0:C.foregroundStyle},o),S&&l.createElement(c.k,{as:"a",buttonType:C?u.L$.Tertiary:u.L$.Secondary,className:s()("CollectionPromo-module__footer___q1Zzo",C?Wt:""),style:null===C||void 0===C?void 0:C.buttonAdjustmentsStyle,href:h,target:"_blank"},l.createElement("span",{className:Kt,style:null===C||void 0===C?void 0:C.foregroundStyle},a),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:Vt.Z,style:null===C||void 0===C?void 0:C.foregroundStyle}))),l.createElement("div",{className:"CollectionPromo-module__imageContainer___gprij"},l.createElement("img",{alt:t,src:i,className:"CollectionPromo-module__image___AfscE"}))))},Yt=e=>l.createElement(Zt,C()(C()({},e),{},{isLandscape:!0})),Qt=e=>{const{title:t,backgroundColor:n,foregroundColor:r,description:o,footer:a,imageUrl:i,link:h,subHeader:m}=e,p=n?{background:n}:{backgroundImage:`url(${i})`},g=r?Jt(r):void 0;return l.createElement("div",{style:p,className:"CollectionPromo-module__contentContainerPortrait___Htkwv"},l.createElement("img",{alt:t,src:i}),l.createElement("div",{className:n?"":"CollectionPromo-module__scrim___FEtBi"},l.createElement("div",{className:jt,style:null===g||void 0===g?void 0:g.foregroundStyle},l.createElement(Ye,{foregroundStyle:null===g||void 0===g?void 0:g.foregroundStyle})),l.createElement("div",{className:"CollectionPromo-module__textContainerPortrait___IxcUT"},m&&l.createElement("span",{className:P.ef,style:null===g||void 0===g?void 0:g.foregroundStyle},m),t&&l.createElement("h3",{className:s()("CollectionPromo-module__textAndIconContainer___tGVrM",P.jG),style:null===g||void 0===g?void 0:g.foregroundStyle},t),o&&l.createElement("span",{className:P.RH,style:null===g||void 0===g?void 0:g.foregroundStyle},o),a&&h&&l.createElement(c.k,{as:"a",buttonType:g?u.L$.Tertiary:u.L$.Secondary,className:s()("CollectionPromo-module__footerPortrait___jZMHW",g?Wt:""),style:null===g||void 0===g?void 0:g.buttonAdjustmentsStyle,href:h,target:"_blank"},l.createElement("span",{style:null===g||void 0===g?void 0:g.foregroundStyle},a),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:Vt.Z,style:null===g||void 0===g?void 0:g.foregroundStyle})))))},Jt=e=>({foregroundStyle:{color:e},buttonAdjustmentsStyle:{borderColor:e}}),en=e=>{const t=(0,R.Wp)({desktopComponent:Zt,mobileLandscapeComponent:Yt,mobilePortraitComponent:Qt});return t?l.createElement(t,C()({},e)):null};n(71372),n(88233);var tn=n(94833),nn=n(7722),rn=n(70561),on=n(18671),an=n(96896),sn=n(67446);const ln="#1A1B1E",cn="#DFE4E8",un="XboxCom";var dn="SkuPickerPage-module__column___SabJg",hn="SkuPickerPage-module__textAlignStart___i7l8T";const mn=e=>{const{hasAddOns:t,onClose:n,onSelect:r,productId:o}=e;(0,S.Li)("ContextualStoreSkuPicker",S.uZ.Overlay,{productInfo:{id:o}});const[a,i]=(0,f.QF)("selectOfferText","backCallToAction"),d=(0,v.useSelector)(g.yWe),h=(0,v.useSelector)(g.NDL),m=(0,v.useSelector)((e=>(0,At.NP)(e,o))),p=(0,v.useSelector)((e=>(0,At.th)(e,o))),_=(0,v.useSelector)(g.Xnf).userAgent,y=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMiniPDPRefreshExp)))&&!(0,g.Ypc)(null===p||void 0===p?void 0:p.productFamily,G.fO.Passes)&&!(0,g.Ypc)(null===p||void 0===p?void 0:p.productFamily,G.fO.Subscription)&&!(0,sn.hA)(_),b=(0,v.useSelector)((e=>(0,At.xP)(e,o)));if((0,W.useBackHandler)((0,l.useCallback)((()=>(n(),!1)),[n])),!m||!b)return null;const C=((e,t,n,r,o,a)=>e.map(((e,i)=>{const d=(0,f.iV)("plusSignDelimiterStringTemplate"),h=t.find((t=>((0,g.Ypc)(e.optimalAvailabilityId,t.availabilityId)||(0,g.Ypc)(e.preferredAvailabilityId,t.availabilityId))&&(0,g.Ypc)(e.skuId,t.skuId)&&(0,g.Ypc)(e.productId,t.productId))),m=e.skuTitle,p=(0,G.Xz)(null===h||void 0===h?void 0:h.promotionalDuration);if(!h||!m)return null;const v=h.productId,_=h.skuId,y=h.availabilityId,b=h.price,C=p?(0,g.WUZ)(d,m,p):m,E=(0,g.xGv)(b.listPrice,b.currency,n),S=(e,t,n,o)=>{e.preventDefault(),e.stopPropagation(),r({productId:t,skuId:n,availabilityId:o})};return a?l.createElement(c.k,{as:"button",className:s()("SkuPickerPage-module__selectionButton___Vk6HT",P.zD),buttonType:u.L$.Primary,overlayMode:u.gT.Solid,onClick:e=>S(e,v,_,y)},l.createElement("span",{className:hn},C),l.createElement("span",{className:"SkuPickerPage-module__price___VGCi3"},`${E}${o?"+":""}`)):l.createElement(R.X2,{key:`skuPickerItem-${i}`},l.createElement(c.k,{as:"button",className:"SkuPickerPage-module__width100___a3CRH",buttonType:u.L$.Tertiary,overlayMode:u.gT.Solid,onClick:e=>S(e,v,_,y)},l.createElement(R.sg,{xs:9,className:s()(dn,hn)},C),l.createElement(R.sg,{xs:3,className:s()(dn,"SkuPickerPage-module__priceInfo___YyLdL")},`${E}${o?"+":""}`)))})))(m,b,d,r,t,y);return y?l.createElement("div",{className:"SkuPickerPage-module__pickerListContainer___4ro9T"},l.createElement("h3",{className:s()("SkuPickerPage-module__header___EkYx0",P.a2)},a),l.createElement($e,{className:"SkuPickerPage-module__scrollableButtonsContainer___9++T0",gradientColorOverride:h.theme===g.Q2A.Light?cn:ln},l.createElement("div",{className:"SkuPickerPage-module__buttonsContainer___NiE7p"},C)),l.createElement(c.k,{as:"button",onClick:n,className:s()("SkuPickerPage-module__backButton___5xpke",P.uo),buttonType:u.L$.Primary},i.toLocaleUpperCase())):l.createElement("div",{className:"SkuPickerPage-module__container___HO8Os"},l.createElement("div",{className:"SkuPickerPage-module__headerContainer___ZNymn"},l.createElement(R.sg,{className:"SkuPickerPage-module__backButtonContainer___Zr-vi",xs:1},l.createElement(Je.$,{as:"button",icon:tt.Z,buttonType:u.L$.Tertiary,overlayMode:u.gT.Solid,onClick:n})),l.createElement(R.sg,{className:"SkuPickerPage-module__titleContainer___c7R2B",xs:10},a)),l.createElement(W.GamepadScrollable,{className:s()("SkuPickerPage-module__scrollableArea___kmlW2"),maxScrollPixels:200,scrollAxis:W.Axis.Vertical},C))};var pn=n(18269);const gn=l.createContext({activateStoreExperiments:!1}),{Provider:fn,Consumer:vn}=gn;var _n,yn,bn,Cn,En,Sn,Tn,An,wn,kn,In;!function(e){e.Purchased="Purchased",e.PurchaseError="PurchaseError",e.ServiceError="ServiceError",e.Canceled="Canceled",e.AlreadyPurchased="AlreadyPurchased"}(_n||(_n={})),function(e){e.Details="Details",e.Purchase="Purchase",e.Browse="Browse",e.Redeem="Redeem"}(yn||(yn={})),function(e){e.BuyNow="buynow",e.Gift="gift"}(bn||(bn={})),function(e){e.BuddyPass="buddyPass",e.Redeem="redeem"}(Cn||(Cn={})),function(e){e.OneCoreRequestPurchase="OneCoreRequestPurchase",e.ShowDetails="ShowDetails",e.ShowDetailsForStoreId="ShowDetailsForStoreId",e.XboxPurchaseApi="XboxPurchaseApi",e.ShowMarketplace="ShowMarketplace",e.XStoreShowPurchaseUi="XStoreShowPurchaseUI",e.XStoreShowProductPageUi="XStoreShowProductPageUI",e.XStoreShowAssociatedProductsUi="XStoreShowAssociatedProductsUI"}(En||(En={})),function(e){e.v1="v1",e.v2="v2"}(Sn||(Sn={})),function(e){e.PageChange="pageChange",e.OpenUrl="openUrl"}(Tn||(Tn={})),function(e){e.GamerTag="gamertag",e.Email="email"}(An||(An={})),function(e){e.PurchaseCanceled="PurchaseCanceled",e.PurchaseFailed="PurchaseFailed",e.PurchaseStarted="PurchaseStarted",e.PurchaseSuccessful="PurchaseSuccessful"}(wn||(wn={})),function(e){e.RedeemCanceled="RedeemCanceled",e.RedeemFailed="RedeemFailed",e.RedeemStarted="RedeemStarted",e.RedeemSuccessful="RedeemSuccessful"}(kn||(kn={})),function(e){e.XEWeb="XEWeb",e.XENative="XENative",e.XETest="XETest",e.XboxCom="XboxCom"}(In||(In={}));const Pn=e=>{const t=(0,l.useContext)(gn).activateStoreExperiments,n=(0,v.useSelector)((t=>(0,g.$Pr)(t,e)));return t&&n},Rn=e=>{const t=(0,l.useContext)(gn).activateStoreExperiments,n=(0,v.useSelector)((t=>(0,g.PE2)(t,e)));return t?n:void 0};var xn="ContextualStoreBrowsePage-module__itemContainer___NmXKc",Nn="ContextualStoreBrowsePage-module__upShiftContainers___Midja";const On=e=>{var t,n,r,o;const{productSummaryInfo:a,handleOnSelectItem:i}=e,d=null===a||void 0===a?void 0:a.sku,h=null===a||void 0===a?void 0:a.product.productId,m=(0,v.useSelector)((e=>(0,At.bE)(e,h))),p=(0,f.iV)("ownedText"),g=(0,f.iV)("skuProductTitleTemplate",null!==(n=null===(t=null===a||void 0===a?void 0:a.product)||void 0===t?void 0:t.title)&&void 0!==n?n:"",null!==(o=null===(r=null===a||void 0===a?void 0:a.sku)||void 0===r?void 0:r.skuTitle)&&void 0!==o?o:"");if(!a||!d)return null;const _=(0,lt.getDataOrPrevious)(m),y=a.availability,b=null===y||void 0===y?void 0:y.price,C=a.product,E=(null===d||void 0===d?void 0:d.skuTitle)&&(null===d||void 0===d?void 0:d.skuTitle)!==C.title?g:C.title,S=(0,G.Ie)(C,d);return l.createElement("div",{className:xn},l.createElement(c.k,{"aria-label":a.product.title,as:"button",buttonType:u.L$.Tertiary,className:"ContextualStoreBrowsePage-module__productItemButton___vo4Sd",disabled:!!_,onClick:e=>(e=>{var t;e.preventDefault(),e.stopPropagation(),i({productId:h,skuId:d.skuId,availabilityId:null!==(t=null===y||void 0===y?void 0:y.availabilityId)&&void 0!==t?t:""})})(e),title:E},l.createElement("div",{className:s()("ContextualStoreBrowsePage-module__justifyContentCenter___y-Wlg","ContextualStoreBrowsePage-module__displayFlex___bKGcU",Nn,"ContextualStoreBrowsePage-module__productItem___0AC-y")},l.createElement("div",{className:"ContextualStoreBrowsePage-module__landscapeProductImageContainer___fni-F"},l.createElement(R.Ee,{src:null===S||void 0===S?void 0:S.url,className:"ContextualStoreBrowsePage-module__landscapeProductImage___O-8Xt",width:96,height:96,fluid:!0})),l.createElement("div",{className:"ContextualStoreBrowsePage-module__info___bSc+y"},l.createElement("h2",{className:s()(P.S7,"ContextualStoreBrowsePage-module__landscapeTitle___niJTA")},E),_?l.createElement("span",{className:P.zD},p):b&&y&&l.createElement(G.tA,{className:P.zD,hasAddOns:C.hasAddOns,productPrice:b,recurrencePolicySummary:d.recurrencePolicySummary})))))},Ln=e=>{var t;const{productId:n,skuId:r,availabilityId:o,channelKey:a,itemType:i,onClose:c,onError:d,onSelect:h,setIsLoading:m}=e;(0,S.Li)("ContextualStoreBrowse",S.uZ.Overlay,{productInfo:{id:n,sku:r}});const p=(0,f.iV)("loadMore");(0,W.useBackHandler)((0,l.useCallback)((()=>(c(),!1)),[c]));const _=(0,v.useDispatch)(),y=(0,v.useSelector)((e=>(0,At.zF)(e,n,r,o))),b=(0,v.useSelector)((e=>(0,At.D3)(e,a))),C=(0,v.useSelector)((e=>(0,At.h$)(e,b||[]))),E=(0,v.useSelector)((e=>(0,At._c)(e,a))),T=Pn(g.vCX.EnableBuyNowXboxUiExp),[A,w]=(0,l.useState)(!1),[k,I]=(0,l.useState)(!1),x=(0,l.useRef)(null);(0,l.useEffect)((()=>{var e;null===(e=x.current)||void 0===e||e.focus()}),[]),(0,l.useEffect)((()=>{y&&b&&(m(!1),y.sku||d(new Error("Missing sku or availability information")))}),[b,d,y,m]);const N=()=>{I(!1)},O=e=>{I(!1),d(e)},L=(0,f.iV)("addOnsFor",null!==(t=null===y||void 0===y?void 0:y.product.title)&&void 0!==t?t:"");if(!y||!C)return null;const M=!!E;return l.createElement(R.W2,{className:s()("ContextualStoreBrowsePage-module__rootContainer___ifmny","ContextualStoreBrowsePage-module__body___aG0ks")},l.createElement("h2",{className:s()(P.cN,"ContextualStoreBrowsePage-module__modalTitle___N5GYA")},L),l.createElement(W.GamepadScrollable,{className:s()(T?"ContextualStoreBrowsePage-module__newProductInfoContainer___9wtk0":"ContextualStoreBrowsePage-module__productInfoContainer___lqCXT",Nn,{"ContextualStoreBrowsePage-module__productInfoContainerFocused___3h8+9":A}),scrollAxis:W.Axis.Vertical,maxScrollPixels:155,onFocus:()=>w(!0),onBlur:()=>w(!1)},C.map(((e,t)=>l.createElement(On,{productSummaryInfo:e,key:t,handleOnSelectItem:h}))),M&&l.createElement(pn.K,{"aria-label":p,as:"button",buttonType:u.L$.Primary,className:s()(P.uo,xn,"ContextualStoreBrowsePage-module__loadMoreButton___cm0Rh"),disabled:k,onClick:()=>{I(!0),_(At.Iv.getMoreBrowsePageData.start(n,i,a,E,O,N))},title:p},k?l.createElement(se,null):p)))};var Mn=n(89083);n(34715),n(19570);var Dn="LegalNotices-module__legalText___1YpIa";const Un=e=>{const{className:t,productId:n}=e,[r,o,a,i,c,u,d,h,m,p,g,_,y,b]=(0,f.QF)("ceroZLegalNotice","cloudEnabledLegalNotice","dlcRequiresGameLegalNotice","inAppPurchaseLegalNotice","purchaseUnavailableOnWebLegalDisclaimer","subscriptionUKOnlyLegalNotice","subscriptionLearnMoreLinkLegalNotice","gamePassCoreRequiredLegalNotice","gamePassCoreRequiredForOnlineMultiplayerLegalNotice","learnMoreText","subscriptionLegalNotice","subscriptionSeeTermsLinkLegalNotice","ubisoftPlusSubscriptionDisclaimer","ubisoftPlusSubscriptionDisclaimerLinkText"),C=(0,v.useSelector)((e=>(0,At.th)(e,n)));if(!C)return null;const E=C.legalNotices;let S=null;if(null===E||void 0===E?void 0:E.length){const e=[];E.forEach(((n,f)=>{switch(n){case G.ND.CeroZ:e.push(l.createElement(Fn,{className:t,key:`legalNotice-${f}`,legalNoticeString:r}));break;case G.ND.CloudEnabled:e.push(l.createElement(Bn,{className:t,href:"https://www.aka.ms/streaming_learnmore",key:`legalNotice-${f}`,legalNoticeString:o,linkText:p}));break;case G.ND.DlcRequiresGame:e.push(l.createElement(Fn,{className:t,key:`legalNotice-${f}`,legalNoticeString:a}));break;case G.ND.InAppPurchase:e.push(l.createElement(Fn,{className:t,key:`legalNotice-${f}`,legalNoticeString:i}));break;case G.ND.PurchaseUnavailableOnWeb:e.push(l.createElement(Fn,{className:t,key:`legalNotice-${f}`,legalNoticeString:c}));break;case G.ND.SubscriptionDisclaimer:e.push(l.createElement(Bn,{className:t,key:`legalNotice-${f}`,legalNoticeString:g,linkText:_,href:"https://www.xbox.com/legal/subscription-terms"}));break;case G.ND.SubscriptionDisclaimerUKOnly:e.push(l.createElement(Bn,{className:t,href:"https://go.microsoft.com/fwlink/p/?linkid=2160906",key:`legalNotice-${f}`,legalNoticeString:u,linkText:d}));break;case G.ND.XboxLiveGoldRequired:e.push(l.createElement(qn,{className:t,key:`legalNotice-${f}`,legalNoticeString:h,tooltipText:h}));break;case G.ND.XboxLiveGoldRequiredForOnline:e.push(l.createElement(qn,{className:t,key:`legalNotice-${f}`,legalNoticeString:m,tooltipText:m}));break;case G.ND.UbisoftPlusSubscriptionDisclaimer:e.push(l.createElement(Hn,{className:s()(t,"LegalNotices-module__legalTextWithMargin___VDV2K"),href:"https://account.microsoft.com",key:`legalNotice-${f}`,legalNoticeString:y,linkText:b}))}})),(null===e||void 0===e?void 0:e.length)&&(S=l.createElement(l.Fragment,null,e))}return S},Fn=e=>l.createElement("p",{className:s()(e.className,Dn,P.RO)},e.legalNoticeString),Bn=e=>{const{href:t,legalNoticeString:n,className:r,linkText:o}=e;return l.createElement("p",{className:s()(r,Dn,P.RO)},n,l.createElement("span",null," "),l.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},o))},Hn=e=>{const{href:t,legalNoticeString:n,className:r,linkText:o}=e,a=l.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},o);return l.createElement("p",{className:s()([r,Dn,P.RO])},(0,g.vvg)(n,a))},qn=e=>{const{tooltipText:t,className:n}=e;return l.createElement("p",{className:s()(n,Dn,P.RO)},l.createElement("u",null,t))};var Gn=n(29641);const zn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1536 0q27 0 50 10t40 27 28 41 10 50v1792q0 27-10 50t-27 40-41 28-50 10H512q-27 0-50-10t-40-27-28-41-10-50V128q0-27 10-50t27-40 41-28 50-10h1024zm0 128H512v1792h1024V128zM896 1664h256v128H896v-128z"}))};const Xn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M2048 512v896H0V512h2048zm-128 128H128v256h768v128H128v256h1792V640zm-320 384q-26 0-45-19t-19-45q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19z"}))};const $n=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M960 768q-26 0-45-19t-19-45q0-26 19-45t45-19h128q26 0 45 19t19 45q0 26-19 45t-45 19H960zm1034-219q26 26 40 61t14 72v257q0 124-47 232t-128 190-189 128-233 47h-81q-37 0-68-14t-60-34-55-45-53-44-53-35-57-14q-30 0-57 14t-53 34-52 45-55 44-60 35-69 14h-81q-124 0-232-47t-190-128-128-189T0 939V682q0-37 14-72t40-61h1q36-36 80-55 54-24 124-41t150-30 164-20 164-12 154-5 133-2q58 0 132 1t154 6 165 12 163 20 150 29 125 42q44 19 80 55h1zM128 851q150 52 306 78t314 27q296 0 575-89t521-262q-84-31-189-49t-217-28-218-13-196-3q-54 0-123 1t-145 5-157 11-155 18-143 27-118 39q-22 10-38 26t-17 43v169zm1792-143q-128 92-268 162t-288 119-304 73-312 25q-158 0-312-25t-305-73q9 89 49 166t103 133 143 88 171 32h81q19 0 40-14t46-34 51-45 60-44 69-35 80-14q43 0 80 14t69 34 59 45 52 44 45 35 41 14h81q97 0 182-37t149-100 101-149 37-183V708z"}))};const Vn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M256 320q0-26 19-45t45-19q26 0 45 19t19 45q0 26-19 45t-45 19q-26 0-45-19t-19-45zm1792 1523q0 57-19 103t-69 78q-15 10-34 17t-38 7q-35 0-64-25t-57-57-53-64-55-42q-9-4-21-4t-24-1h-236q-23 0-44 14t-41 36-40 46-41 47-44 35-48 15q-20 0-37-6t-34-17q-48-32-68-78t-21-102v-24q0-12 2-24 1-23 9-58t21-76 29-83 34-82 33-70 32-51q0-36 31-56 13-9 37-16t50-13 52-9 42-3q16 0 27 2t20 6 20 10 23 13h164q15-7 24-13t17-10 20-6 29-2q18 0 43 3t50 8 49 13 39 17q14 10 21 24t10 32q12 12 27 39t30 63 31 75 28 78 22 68 13 50q9 47 9 93zm-128 2q0-35-8-73-5-24-16-61t-25-76-29-75-26-59l-8-16q-4-8-9-15-7-8-12-12t-9-8-9-10-8-18q-21-7-42-9t-45-5q-14 6-22 11t-18 11-19 8-28 3h-166q-17 0-27-3t-20-7-18-11-22-12q-23 0-44 4t-44 10q-2 20-14 27t-23 21q-5 7-8 14t-8 16q-15 31-33 76t-34 93-27 94-11 80q0 20 4 39t21 32q28-25 48-49t38-45 36-38 41-29 55-19 77-7h192q46 0 78 7t55 19 40 30 34 38 38 44 50 49q17-11 21-30t4-39zM896 1553V128H128v1792h128v-896h128v896h455q12 68 52 128H0V0h1024v1270q-10 14-14 28t-11 28l-8 14q-4 7-9 14-28 47-48 97t-38 102zm608-82q14 0 23 9t9 23q0 14-9 23t-23 9q-14 0-23-9t-9-23q0-14 9-23t23-9z"}))};const Wn=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M128 128h1792v1024H128V128zm1664 896V256H256v768h1536zM128 1536v-128h1792v128H128zm0 384v-128h1792v128H128z"}))};var Kn=n(28669);function jn(e){var t;const{feature:n,as:r="li"}=e;return l.createElement(r,{className:s()(n.className,nt.nA,"FeaturesList-module__item___J8r6P",P.zD)},n.icon&&l.createElement(d.JO,{iconSize:null!==(t=n.icon.iconSize)&&void 0!==t?t:d.Jh.XXSmall,className:s()(nt.OU,"FeaturesList-module__icon___OTG4r",n.icon.className),icon:n.icon.icon,"aria-hidden":!0}),n.name)}const Zn=e=>{let{features:t}=e;return 0===t.length?null:l.createElement("ul",{className:s()("FeaturesList-module__wrapper___KIw42",nt.Pt)},t.map(((e,t)=>l.createElement(jn,{feature:e,key:t}))))};var Yn="PlayableOn-module__inlineContainer___3GArU";const Qn=e=>{let t;switch(e){case G.pQ.PC:t=Gn.Z;break;case G.pQ.MobileDevice:t=zn;break;case G.pQ.XboxOne:t=Xn;break;case G.pQ.Hololens:t=$n;break;case G.pQ.XboxSeriesX:t=Vn;break;case G.pQ.Hub:t=Wn;break;default:return}return{iconSize:d.Jh.XXSmall,icon:t}},Jn=(e,t)=>{const[n,r]=(0,f.QF)("playableOnPCDeviceName","playableOnMobileDeviceName"),o=(0,v.useSelector)((t=>(0,Kn.th)(t,e))),a=null===o||void 0===o?void 0:o.availableOn;if(!a||0===a.length)return null;const i=e=>{switch(e){case G.pQ.PC:return n;case G.pQ.MobileDevice:return r;case G.pQ.XboxOne:return"Xbox One";case G.pQ.XboxSeriesX:return"Xbox Series X|S";default:return e}};return a.map((e=>{const n=(e=>{const t=Object.keys(G.pQ).find((t=>(0,g.Ypc)(t,e)));return G.pQ[null!==t&&void 0!==t?t:""]})(e);return{name:i(n),icon:Qn(n),className:t}}))},er=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,a=(0,f.iV)("playableOnTitle"),i=Jn(t,r);return(null===i||void 0===i?void 0:i.length)?l.createElement(R.EM,{className:n},l.createElement("h2",{className:o},a),l.createElement(Zn,{features:i})):null},tr=e=>{const{productId:t,className:n,itemClassName:r,titleClassName:o}=e,a=(0,f.QF)("playableOnTitle"),i=Jn(t,r);return(null===i||void 0===i?void 0:i.length)?l.createElement("div",{className:s()(Yn,n)},l.createElement("h2",{className:o},a),l.createElement("ul",{className:s()(Yn,nt.Pt)},i.map(((e,t)=>l.createElement(jn,{feature:e,key:t}))))):null};n(43430);const nr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1888 256q33 0 62 12t51 35 34 51 13 62v1088q0 33-12 62t-35 51-51 34-62 13H160q-33 0-62-12t-51-35-34-51-13-62V416q0-33 12-62t35-51 51-34 62-13h1728zM160 384q-14 0-23 9t-9 23v224h1792V416q0-14-9-23t-23-9H160zm1728 1152q14 0 23-9t9-23V768H128v736q0 14 9 23t23 9h1728zm-480-384h256v128h-256v-128z"}))};var rr="CommonButtonStyles-module__condensedButton___sQWPU",or="CommonButtonStyles-module__disabledDesktopButton___SDI7g",ar="CommonButtonStyles-module__disabledMobileButton___fY3IU",ir="CommonButtonStyles-module__errorButton___fFjqO",sr="CommonButtonStyles-module__errorModal___AMYXz",lr="CommonButtonStyles-module__highContrastAwareButton___DgX7Y",cr="CommonButtonStyles-module__iconButton___1DSre",ur="CommonButtonStyles-module__mobileButton___QwVrM",dr="CommonButtonStyles-module__variableLineDesktopButton___cxDyV";const hr=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","onClick","overrideClassName","telemetryProps"],mr=["accessibilityLabel","behavior","buttonId","buttonRef","buttonType","href","overrideClassName","target","telemetryProps"],pr=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:a=u.L$.Primary,onClick:i,overrideClassName:s,telemetryProps:d}=e,h=V()(e,hr);return l.createElement("div",null,l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:a,className:s||dr,onClick:i,ref:o},(0,S.iZ)(d)),l.createElement(fr,C()({},h))))},gr=e=>{const{accessibilityLabel:t,behavior:n,buttonId:r,buttonRef:o,buttonType:a=u.L$.Primary,href:i,overrideClassName:d,target:h,telemetryProps:m}=e,p=V()(e,mr);return l.createElement("div",null,l.createElement(c.k,C()({as:"a","aria-label":t,buttonType:a,className:s()([d||dr,lr]),href:i,ref:o,target:h},(0,S.iZ)(m)),l.createElement(fr,C()({},p))))},fr=e=>{const t=e.productGlyph,n=e.usesUbisoftSVG;return l.createElement(l.Fragment,null,l.createElement("div",{className:P.uo,"aria-hidden":"true"},e.title),e.subtitle&&l.createElement("div",{className:P.S7,"aria-hidden":"true"},l.createElement("span",null,e.subtitle),t?l.createElement("span",{className:(0,R.ut)(R.JE.Prepend,t)}):n?l.createElement(G.V$,{className:"VariableLineButton-module__ubisoftPlusHorizontalLogo___tePX8"}):""))};var vr="OverflowMenuButton-module__overflowMenuButton___XRc9q";const _r=["experienceButtonType"],yr="\u25cf \u25cf \u25cf",{Provider:br,Consumer:Cr}=l.createContext({closeDialog:()=>{}}),Er=e=>{var t,n;return l.createElement(ae,{flyoutBoundingParent:e.containingElementRef},l.createElement(ae.Button,{accessibilityLabel:e.accessibilityLabel,buttonType:u.L$.Primary,className:s()([null!==(t=e.overrideClassName)&&void 0!==t?t:vr,lr]),title:e.accessibilityLabel,telemetryProps:null!==(n=e.telemetryProps)&&void 0!==n?n:{}},yr),l.createElement(ae.Flyout,null,l.createElement(ne,null,(t=>l.createElement(br,{value:{closeDialog:t.closeFlyout}},l.createElement("div",{className:"OverflowMenuButton-module__desktopOverflowMenu___D9HIM"},e.children))))))},Sr=e=>{var t;const n=(0,f.iV)("moreOptionsMenuTitle"),[r,o]=(0,l.useState)(!1),a=(0,l.useRef)(null),i=(0,l.useRef)(null),d=()=>o(!1),h=(0,Y.mG)(r,d,a,i),{closeButtonText:m}=(0,f.y_)("closeButtonText"),p=C()(C()({},e.telemetryProps),{},{behavior:r?S.cg.REDUCE:S.cg.EXPAND});return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":e.accessibilityLabel,buttonType:u.L$.Primary,className:null!==(t=e.overrideClassName)&&void 0!==t?t:"OverflowMenuButton-module__mobileOverflowMenuButton___hkU8F",onClick:r?d:()=>o(!0),ref:a,title:e.accessibilityLabel},(0,S.iZ)(p)),yr),r&&l.createElement(l.Fragment,null,l.createElement("div",{className:"OverflowMenuButton-module__bottomLockedMenu___PeiPQ",ref:i,role:"dialog"},l.createElement(W.FocusContainer,{autoFocusContainer:!0},l.createElement(R.Lx,null),l.createElement("div",{className:"OverflowMenuButton-module__headerSection___2S+Fx"},l.createElement("h3",{className:s()([P.S7,"OverflowMenuButton-module__menuHeader___Lcsk2"])},n),l.createElement(Je.$,{as:"button",buttonType:u.L$.Tertiary,icon:nn.Z,className:"OverflowMenuButton-module__closeButton___Y7WvC","aria-label":m,onClick:h,title:m})),l.createElement($e,{className:s()("OverflowMenuButton-module__scrollArea___xvePn","OverflowMenuButton-module__mobileOverFlowItemOverride___L9ABM")},l.createElement(br,{value:{closeDialog:h}},e.children)))),l.createElement("div",{className:"OverflowMenuButton-module__lightDismissLayer___TDWVe",onClick:d,role:"none"})))},Tr=e=>{const{experienceButtonType:t}=e,n=V()(e,_r),r=(0,S.EW)(),o=(0,S._d)({contentName:e.accessibilityLabel,id:"OverflowMenuButton",slotNumber:e.slotNumber},r);let a;switch(t){case Mn.Ug.Desktop:a=l.createElement(Er,C()(C()({},n),{},{telemetryProps:o}));break;case Mn.Ug.CondensedDesktop:a=l.createElement(Er,C()(C()({},n),{},{overrideClassName:"OverflowMenuButton-module__condensedDesktopOverflowMenuButton___ClClh",telemetryProps:o}));break;case Mn.Ug.Mobile:a=l.createElement(Sr,C()(C()({},n),{},{telemetryProps:o}));break;default:a=null}return l.createElement("div",null,a)};var Ar="OverflowMenuItems-module__icon___wWXot",wr="OverflowMenuItems-module__menuItem___wwPHe";const kr=["icon","telemetryProps","className"],Ir=["href","icon","telemetryProps"],Pr=(0,l.forwardRef)(((e,t)=>{const{icon:n,telemetryProps:r,className:o}=e,a=V()(e,kr);return l.createElement(c.k,C()(C()(C()({as:"button",className:s()(wr,o)},(0,S.iZ)(r)),a),{},{buttonType:u.L$.Tertiary,ref:t}),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:Ar,icon:n}),e.children)})),Rr=(0,l.forwardRef)(((e,t)=>{const n=C()({},e),{href:r,icon:o,telemetryProps:a}=n,i=V()(n,Ir);return l.createElement(c.k,C()(C()(C()({as:"a",className:wr,href:r},(0,S.iZ)(a)),i),{},{buttonType:u.L$.Tertiary,ref:t}),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:Ar,icon:o}),e.children)})),xr=(0,l.forwardRef)(((e,t)=>l.createElement(c.k,C()(C()({as:"button",className:wr,ref:t},e),{},{buttonType:u.L$.Tertiary}),l.createElement("span",{className:Ar},l.createElement(se,{width:(0,Y.wU)(1),height:(0,Y.wU)(1)}))))),Nr=e=>{let{actionArguments:t,slotNumber:n}=e;const r=(0,S.Fj)(),{[T.Uh.ProductId]:o,[T.Uh.NetworkName]:a}=t,[i,s,l,c]=(0,f.QF)("linkActionText","linkActionAccessibilityText","accountLinkStartButton","accountLinkStartButtonAccessibilityText"),u=(0,v.useSelector)(E.yB),d=(0,g.$wQ)(),h=(0,v.useDispatch)(),m=(0,S.EW)(),p=(0,v.useSelector)((e=>(0,At.RY)(e,o)));if(!p||!p.product)return r.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${o}\nhasProductSummaryInfo: ${!!p}\nhasProduct: ${!!(null===p||void 0===p?void 0:p.product)}`),null;const _=a?(0,g.WUZ)(i,a.toLocaleUpperCase()):l;return{accessibilityLabel:a?(0,g.WUZ)(s,a):c,buttonText:_,onClick:()=>{u?h(At.VC.SISUFlow.start(a)):window.location.assign(d(window.location.href))},telemetryProps:(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:_,id:"AccountLinkButton",slotNumber:n},m)}},Or=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return l.createElement(pr,{accessibilityLabel:n,buttonType:o,onClick:a,title:t.toLocaleUpperCase(),telemetryProps:r})},Lr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,className:s()(rr,P.uo),buttonType:o,onClick:a},(0,S.iZ)(r)),t.toLocaleUpperCase())},Mr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,onClick:a}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,buttonType:o,className:ur,onClick:a},(0,S.iZ)(r)),t.toLocaleUpperCase())},Dr=e=>{let{buttonText:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(Pr,{"aria-label":n,onClick:o,icon:nr,telemetryProps:r},t)};const Ur=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M512 1152v-128h640v128H512zm896-384v128H512V768h896zM384 384v1152h896v128H256V256h1536v896h-128V384H384zm1664 1152v128h-256v256h-128v-256h-256v-128h256v-256h128v256h256zM512 512h768v128H512V512z"}))};const Fr=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1024 0q141 0 272 36t244 104 207 160 161 207 103 245 37 272q0 141-36 272t-104 244-160 207-207 161-245 103-272 37q-141 0-272-36t-245-103-207-160-160-208-103-244-37-273q0-141 36-272t104-244 160-207 207-161T752 37t272-37zm0 1920q163 0 313-56t274-163L347 437Q240 560 184 710t-56 314q0 124 32 238t90 214 140 182 181 140 214 90 239 32zm677-309q107-123 163-273t56-314q0-124-32-238t-90-214-140-181-181-140-214-91-239-32q-163 0-313 56T437 347l1264 1264z"}))};n(77950),n(94908),n(60523);var Br=n(87995),Hr=n(4517),qr=n(47263),Gr=n(29084);const zr=["contentRef","showModal","experience","productId","onResult","skuId","skipPurchaseConfirmation","tracking","scenario"],Xr=e=>{let{contentRef:t,showModal:n,experience:r,productId:o,onResult:a,skuId:i,skipPurchaseConfirmation:s,tracking:c,scenario:u}=e,d=V()(e,zr);var h;const m=new URLSearchParams((0,Hr.TH)().search),[p,f]=(0,l.useState)(!0),[_,y]=(0,l.useState)(n),[b,E]=(0,l.useState)(!1),S=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp))),T=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableLaunchpad)));(0,l.useEffect)((()=>y(p&&n)),[p,n]);const A=(0,l.useCallback)((()=>{"XboxCom.Wishlist"===(null===c||void 0===c?void 0:c.callerApplicationId)?E(!1):window.location.reload()}),[c]),w=(0,Gr.DP)(o),k=T&&!!w&&u!==bn.Gift,I=(0,l.useCallback)((e=>{k&&e.status===_n.Purchased&&!s?(f(!1),E(!0)):a&&a(e)}),[a,k,s]),P=d.referringProductId||(null===(h=(0,g.oB7)(m,Br.nV.referringProductId))||void 0===h?void 0:h.value);return l.createElement(l.Fragment,null,l.createElement(R.u_,{show:_||b,fullscreenOnMobile:S,ariaLabelledBy:k&&b?"modalLabel":"title"},l.createElement(R.u_.Body,{className:(0,R.W0)("padding","all",0)},l.createElement("div",{ref:t},k&&b?l.createElement(qr.Z,{subscription:w,onClose:A,referringProductId:P,subscriptionSkuId:i}):l.createElement(Ul,C()(C()({},d),{},{productId:o,referringProductId:P,experience:r,version:Sn.v2,activateStoreExperiments:!0,onResult:I,skipPurchaseConfirmation:s||k,skuId:i,scenario:u}))))))};var $r=n(2455);const Vr=l.createContext($r.vm.PDP);const Wr=["actionAccessibilityLabelFormat","actionOverride","actionText","behavior","endDateUtcString","experienceButtonType","iconOverride","isDisabled","price","priceAccessibilityTextOverride","priceTextOverride","productId","recurrencePolicySummary","skuId","slotNumber","title","tooltip"],Kr=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","localizedPriceInfo","overrideClassName","price","productId","productSummaryInfo","recurrencePolicySummary","showModal","skuId","slotNumber","telemetryProps","title","tooltip","onClick","onResult"],jr=["accessibilityLabel","actionText","buttonType","experienceButtonType","hasAddOns","isDisabled","onClick","onResult","productId","showModal","skuId","slotNumber","telemetryProps","title","tooltip"],Zr=["actionText","accessibilityLabel","hasAddOns","iconOverride","isDisabled","productId","showModal","slotNumber","telemetryProps","onClick","onResult","tooltip"],Yr=e=>{const[t,n]=(0,f.QF)("buyActionText","buyActionAccessibilityText");return l.createElement(no,C()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"BuyButton"},e))},Qr=e=>{const[t,n]=(0,f.QF)("upgradeActionText","upgradeActionAccessibilityText");return l.createElement(no,C()({actionText:t,actionAccessibilityLabelFormat:n,buttonId:"UpgradeButton"},e))},Jr=e=>{const[t,n]=(0,f.QF)("getActionText","getActionAccessibilityText");return l.createElement(no,C()({buttonId:"GetButton",actionText:t,actionAccessibilityLabelFormat:n},e))},eo=e=>{const[t,n,r,o,a,i]=(0,f.QF)("joinActionText","joinActionAccessibilityText","specialOffer","ubisoftAccountLinkRequired","ubisoftSuspendedExternalSubscription","ubisoftActivePCOnlyExternalSubscription"),s=[],{isDisabled:c,disabledReason:u,productSummaryInfo:d}=e,h=(0,R.KG)(),{initialOfferText:m,recurringPriceText:p}=(0,G.mP)(d);if(c&&u)switch(u){case"UbisoftAccountLinkRequired":s.push(o);break;case"UbisoftSuspendedExternalSubscription":s.push(l.createElement(l.Fragment,null,(0,g.vvg)(a,l.createElement("a",{href:T.Vx,target:"_blank",rel:"noopener noreferrer"},T.Vx))));break;case"UbisoftActivePCOnlyExternalSubscription":s.push(l.createElement(l.Fragment,null,(0,g.vvg)(i,l.createElement("a",{href:T.Vx,target:"_blank",rel:"noopener noreferrer"},T.Vx))))}let v,_;const y=h(m,p);return y&&(d.availability.promotionalDuration&&(v=r,_=h(v,y)),s.push(y)),l.createElement(no,C()(C()({},e),{},{buttonId:"JoinButton",actionText:t,actionAccessibilityLabelFormat:n,tooltip:s.length?s:void 0,priceTextOverride:v,priceAccessibilityTextOverride:_}))},to=e=>{const[t,n]=(0,f.QF)("preorderActionText","preorderActionAccessibilityText");return l.createElement(no,C()({buttonId:"PreorderButton",actionText:t,actionAccessibilityLabelFormat:n},e))},no=e=>{var t,n;const{actionAccessibilityLabelFormat:r,actionOverride:o,actionText:a,behavior:i,endDateUtcString:s,experienceButtonType:c,iconOverride:u,isDisabled:d,price:h,priceAccessibilityTextOverride:m,priceTextOverride:p,productId:_,recurrencePolicySummary:y,skuId:b,slotNumber:T,title:A="",tooltip:w}=e,k=V()(e,Wr),I=(0,S.EW)(),P=(0,R.KG)(),[x,N]=(0,l.useState)(!1);let O=(0,G.OD)(h,y);const L=(0,v.useSelector)(E.yB),M=(0,g.$wQ)(),D=(0,g.IzA)();p&&(O={accessibilityText:m||p,afterText:void 0,afterTextGlyph:void 0,afterTextPrefix:void 0,originalPrice:void 0,lowestPrice:p});const U=P((0,g.WUZ)(r,A),null===O||void 0===O?void 0:O.accessibilityText),F=o?()=>o():()=>{if(L)N(!0);else{const t=(0,g.kgH)(e.productId)===G.Cv?D(window.location.href):M(window.location.href);window.location.assign(t)}},B=null===(t=null===h||void 0===h?void 0:h.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferGuid,H=B?{targetedOfferGuid:B}:void 0,[q]=(0,f.QF)("targetedOfferBuyBoxTooltipFormat"),z=(0,R.v0)(s).durationString,X=z&&(null===(n=null===h||void 0===h?void 0:h.eligibilityInfo)||void 0===n?void 0:n.type)===G.sL.XPrice?(0,g.WUZ)(q,z):void 0,$=X&&w?[w,X]:X||w,W=(0,S._d)({behavior:null!==i&&void 0!==i?i:S.cg.PURCHASE,contentName:a,contentTags:H,id:e.buttonId,productId:_,skuId:b,slotNumber:T},I),K=C()(C()({},k),{},{accessibilityLabel:U,actionText:a,experienceButtonType:c,isDisabled:d,localizedPriceInfo:O,onClick:F,onResult:e=>{(null===e||void 0===e?void 0:e.status)===_n.Purchased?window.location.reload():N(!1)},price:h,productId:_,showModal:x,skuId:b,telemetryProps:W,tooltip:$});let j="";switch(c){case Mn.Ug.CondensedDesktop:j=rr;case Mn.Ug.Desktop:return l.createElement(ro,C()(C()({},K),{},{overrideClassName:j,price:h,recurrencePolicySummary:y}));case Mn.Ug.Mobile:return l.createElement(oo,C()({},K));case Mn.Ug.Overflow:return l.createElement(ao,C()(C()({},K),{},{iconOverride:u}));default:return null}},ro=e=>{var t;const{accessibilityLabel:n,actionText:r,buttonType:o=u.L$.Primary,experienceButtonType:a,hasAddOns:i,isDisabled:d,localizedPriceInfo:h,overrideClassName:m,price:p,productId:g,productSummaryInfo:f,recurrencePolicySummary:v,showModal:_,skuId:y,slotNumber:b,telemetryProps:E,title:T,tooltip:A,onClick:w,onResult:k}=e,I=V()(e,Kr),R=(0,l.useRef)(null),x=(0,l.useRef)(null),N=(0,Y.mG)(_,k,R,x),O=d?[dr,or]:[m||dr,lr],L=d?u.L$.Tertiary:o,M=d?void 0:w,D=!!A,U=(0,l.useContext)(Vr),F=(null===(t=null===f||void 0===f?void 0:f.sku)||void 0===t?void 0:t.historicalLowestListPrice)&&U===Mn.vm.PDP;return l.createElement("div",{className:"AcquisitionButtons-module__desktopContainer___A9ppk"},l.createElement(c.k,C()({as:"button","aria-label":n,"aria-disabled":d,buttonType:L,className:s()(O,D?We:void 0),"data-tip":D||void 0,onClick:M,ref:R},(0,S.iZ)(E)),l.createElement("div",{className:P.uo},r.toLocaleUpperCase()),a===Mn.Ug.Desktop&&h&&l.createElement(G.OE,C()(C()({},h),{},{className:P.S7,hasAddOns:i,listedPriceClassName:"AcquisitionButtons-module__listedPrice___PS6Zm",productPrice:p,recurrencePolicySummary:v,useBrandStyling:o===u.L$.Brand})),D&&l.createElement(so,null,A)),F&&l.createElement(G._T,{historicalLowestListPrice:f.sku.historicalLowestListPrice,className:"AcquisitionButtons-module__lowestPriceText___kcTrw"}),!d&&l.createElement(Xr,C()({contentRef:x,hasAddOns:i,onResult:N,showModal:_,productId:g,skuId:y,experience:yn.Purchase,scenario:bn.BuyNow},I)))},oo=e=>{const{accessibilityLabel:t,actionText:n,buttonType:r=u.L$.Primary,experienceButtonType:o,hasAddOns:a,isDisabled:i,onClick:d,onResult:h,productId:m,showModal:p,skuId:g,slotNumber:f,telemetryProps:v,title:_,tooltip:y}=e,b=V()(e,jr),E=(0,l.useRef)(null),T=(0,l.useRef)(null),A=(0,Y.mG)(p,h,E,T),w=i?u.L$.Tertiary:r,k=i?void 0:d,I=i&&!!y;return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":t,"aria-disabled":i,buttonType:w,className:s()(i?ar:ur,I?We:void 0),"data-tip":I||void 0,onClick:k,ref:E},(0,S.iZ)(v)),n.toLocaleUpperCase(),I&&l.createElement(so,null,y)),!i&&l.createElement(Xr,C()({contentRef:T,hasAddOns:a,onResult:A,showModal:p,productId:m,skuId:g,experience:yn.Purchase,scenario:bn.BuyNow},b)))},ao=e=>{const{actionText:t,accessibilityLabel:n,hasAddOns:r,iconOverride:o,isDisabled:a,productId:i,showModal:s,slotNumber:c,telemetryProps:u,onClick:d,onResult:h,tooltip:m}=e,p=V()(e,Zr),v=(0,f.iV)("joinActionAccessibilityText");let _=t;const y=(0,G.Xm)(i),b=(0,G.jb)(i,!0);y&&b&&(_=(0,g.WUZ)(v,b));const E=a?Fr:o||y||nr,S=a?void 0:d,T=a&&!!m;return l.createElement(l.Fragment,null,l.createElement(Pr,{"aria-label":n,"aria-disabled":a,className:T?We:void 0,"data-tip":T||void 0,icon:E,onClick:S,telemetryProps:u},_,T&&l.createElement(so,null,m)),s&&l.createElement(Cr,null,(e=>l.createElement(Xr,C()({hasAddOns:r,onResult:t=>{e.closeDialog(),h(t)},productId:i,showModal:s,experience:yn.Purchase,scenario:bn.BuyNow},p)))))},io=(e,t,n,r,o,a)=>{let i=!e||!t||!n||!r||!r.product||!r.sku||!r.availability;return i?a.warn(`${o} button requested without valid values:\nproductId: ${e}\nskuId: ${t}\navailabilityId: ${n}\nhasProductSummaryInfo: ${!!r}\nhasProduct: ${!!(null===r||void 0===r?void 0:r.product)}\nhasSku: ${!!(null===r||void 0===r?void 0:r.sku)}\nhasAvailability: ${!!(null===r||void 0===r?void 0:r.availability)}`):(i=!r.availability.price,i&&a.warn(`${o} button requested without valid price.`)),!i},so=e=>{let{children:t}=e;return l.createElement("div",{className:Ke},l.Children.map(t,((e,t)=>l.createElement("span",{key:t},e))))};var lo=n(38725);const co=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1792 1728q0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-31 11-64H885q11 33 11 64 0 40-15 75t-41 61-61 41-75 15q-40 0-75-15t-61-41-41-61-15-75q0-55 29-102t80-71L189 256H0V128h281l85 256h1682l-298 896H665l85 256h850q40 0 75 15t61 41 41 61 15 75zm-1024 0q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19q26 0 45-19t19-45zm832 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45q0 26 19 45t45 19z"}))},uo=["actionAccessibilityLabel","actionLabel","currentComponentRef","navigationAccessibilityLabel","navigationHref","navigationLabel","processingAccessibilityLabel","showSpinner","state","actionIcon","navigationIcon","onClick","buttonId","experienceButtonType","telemetryProps"],ho=e=>{const t=(0,l.useRef)(null),[n,r]=(0,l.useState)(!1);(0,l.useEffect)((()=>{var o,a;n&&(e.showSpinner?null===(o=t.current)||void 0===o||o.focus():(null===(a=t.current)||void 0===a||a.focus(),r(!1)))}),[e.state,e.showSpinner,n]);let o=e.onClick;e.actionOverride&&(o=()=>e.actionOverride());const a=()=>{r(!0),o()};switch(e.experienceButtonType){case Mn.Ug.Desktop:return l.createElement(mo,C()(C()({},e),{},{onClick:a,currentComponentRef:t}));case Mn.Ug.CondensedDesktop:return l.createElement(po,C()(C()({},e),{},{onClick:a,currentComponentRef:t}));case Mn.Ug.Mobile:return l.createElement(go,C()(C()({},e),{},{onClick:a,currentComponentRef:t}));case Mn.Ug.Overflow:return l.createElement(fo,C()(C()({},e),{},{onClick:a,currentComponentRef:t}));default:return null}},mo=e=>{const{actionAccessibilityLabel:t,currentComponentRef:n,buttonType:r=u.L$.Primary,navigationAccessibilityLabel:o,navigationHref:a,processingAccessibilityLabel:i,showSpinner:c,state:d,telemetryProps:h,actionIcon:m,navigationIcon:p,onClick:g}=e;return l.createElement("div",null,c?l.createElement(le,{accessibilityLabel:i,buttonType:r,height:4,ref:n,width:4}):d?l.createElement(Je.$,C()({as:"a","aria-label":o,buttonType:r,className:s()([cr,lr]),href:a,icon:p,ref:n,title:o},(0,S.iZ)(h))):l.createElement(Je.$,C()({as:"button","aria-label":t,buttonType:r,className:s()([cr,lr]),onClick:g,icon:m,ref:n,title:t},(0,S.iZ)(h))))},po=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.L$.Primary,navigationAccessibilityLabel:a,navigationHref:i,navigationLabel:d,onClick:h,processingAccessibilityLabel:m,showSpinner:p,state:g,telemetryProps:f}=e;return l.createElement("div",null,p?l.createElement(le,{accessibilityLabel:m,buttonType:o,className:s()([rr,lr,P.uo]),height:3,ref:r,sizingText:n.toLocaleUpperCase(),width:3}):g?l.createElement(c.k,C()({as:"a","aria-label":a,buttonType:o,className:s()([rr,lr,P.uo]),href:i,ref:r},(0,S.iZ)(f)),d.toLocaleUpperCase()):l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:o,className:s()([rr,lr,P.uo]),onClick:h,ref:r},(0,S.iZ)(f)),n.toLocaleUpperCase()))},go=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,buttonType:o=u.L$.Primary,navigationAccessibilityLabel:a,navigationHref:i,navigationLabel:s,processingAccessibilityLabel:d,showSpinner:h,state:m,telemetryProps:p,onClick:g}=e;return l.createElement(l.Fragment,null,h?l.createElement(ce,{accessibilityLabel:d,buttonType:o,ref:r}):m?l.createElement(c.k,C()({as:"a","aria-label":a,buttonType:o,className:ur,href:i,ref:r},(0,S.iZ)(p)),s.toLocaleUpperCase()):l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:o,className:ur,onClick:g,ref:r},(0,S.iZ)(p)),n.toUpperCase()))},fo=e=>{const{actionAccessibilityLabel:t,actionLabel:n,currentComponentRef:r,navigationAccessibilityLabel:o,navigationHref:a,navigationLabel:i,processingAccessibilityLabel:s,showSpinner:c,state:u,actionIcon:d,navigationIcon:h,onClick:m,buttonId:p,experienceButtonType:g,telemetryProps:f}=e,v=V()(e,uo);return l.createElement(l.Fragment,null,c?l.createElement(xr,{"aria-label":s,ref:r}):u?l.createElement(Rr,C()({"aria-label":o,href:a,icon:h,ref:r,telemetryProps:f},v),i):l.createElement(Pr,C()({"aria-label":t,icon:d,onClick:m,ref:r,telemetryProps:f},v),n))};var vo=n(32943),_o=n(81525);const yo=["baseProductId","buttonType","cloudPlayButtonAccessibilityLabel","cloudPlayButtonText","nonCatalogUpsellProductId","playLink","upsellProductId","telemetryProps"],bo=e=>{let{baseProductId:t,buttonType:n,cloudServiceUpsells:r,experienceButtonType:o,productSummaryInfo:a,slotNumber:i,upsellProductId:s}=e;var c,u,d;const h=(0,S.EW)(),m=(0,_o.o)(null!==t&&void 0!==t?t:"",null===(c=a.product)||void 0===c?void 0:c.title),[p,v]=(0,f.QF)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),_=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:v,id:"CloudPlayButton",slotNumber:i},h);let y,b=m;const E=null===r||void 0===r?void 0:r[0];s||(0,g.Ypc)(E.ServiceId,G.Kf.xcloud)||(b=E.ServicePlayLink,y=E.ServiceId);const T={buttonId:"CloudPlayButton",buttonType:n,behavior:S.cg.OTHER,cloudPlayButtonAccessibilityLabel:(0,g.WUZ)(p,null!==(d=null===(u=a.product)||void 0===u?void 0:u.title)&&void 0!==d?d:""),cloudPlayButtonText:v,playLink:b,telemetryProps:_};switch(o){case Mn.Ug.Desktop:return l.createElement(Co,C()(C()({},T),{},{baseProductId:t,upsellProductId:null!==s&&void 0!==s?s:null===E||void 0===E?void 0:E.UpsellProductId,nonCatalogUpsellProductId:y}));case Mn.Ug.Mobile:return l.createElement(Eo,C()({},T));case Mn.Ug.Overflow:return l.createElement(So,C()({},T));default:return null}},Co=e=>{const{baseProductId:t,buttonType:n=u.L$.Primary,cloudPlayButtonAccessibilityLabel:r,cloudPlayButtonText:o,nonCatalogUpsellProductId:a,playLink:i,upsellProductId:s,telemetryProps:c}=e,d=V()(e,yo),h=(0,v.useSelector)((e=>(0,At.tR)(e,t))),{affordingText:m,upsellGlyph:p}=(0,G.vT)({nonCatalogUpsellProductId:a,upsellProductId:s,productEntitlement:(0,lt.getDataOrPrevious)(h)||void 0}),f=(0,g.kgH)(s)===G.OP;return l.createElement(gr,C()({accessibilityLabel:r,buttonType:n,href:i,productGlyph:p,usesUbisoftSVG:f,subtitle:m,title:o.toLocaleUpperCase(),telemetryProps:c},d))},Eo=e=>{const{buttonType:t=u.L$.Primary,cloudPlayButtonAccessibilityLabel:n,cloudPlayButtonText:r,playLink:o,telemetryProps:a}=e;return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:t,className:ur,href:o},(0,S.iZ)(a)),r.toLocaleUpperCase())},So=e=>l.createElement(Rr,{"aria-label":e.cloudPlayButtonAccessibilityLabel,href:e.playLink,icon:vo.Z,telemetryProps:e.telemetryProps},e.cloudPlayButtonText);var To=n(29075);const Ao=n.p+"static/media/NvidiaGFNLogoSquare.44ab2593.png",wo=n.p+"static/media/xCloudLogoSquare.be0ea47b.png";const ko=e=>{let{cloudServiceUpsells:t,contentRef:n,show:r=!1,onHide:o}=e;const[a,i]=(0,f.QF)("backCallToAction","learnMoreText"),s=(0,v.useSelector)(g.gzb),d=(0,v.useSelector)(g.KdS);if(!(null===t||void 0===t?void 0:t.length))return null;const h=s===g.Q2A.Dark?"#201F24":"#ffffff";return l.createElement(R.u_,{show:r,onHide:o,closeable:!0,className:"AvailableCloudStreamingServicesModal-module__modalContainer___HpCS9"},l.createElement(R.u_.Header,null,l.createElement(Io,null)),l.createElement(R.u_.Body,{className:"AvailableCloudStreamingServicesModal-module__modalBody___QuZF0"},l.createElement(To.t8,null,l.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__contentContainer___pPm7T"},l.createElement($e,{className:"AvailableCloudStreamingServicesModal-module__scrollContainer___fYQob",gradientColorOverride:h},l.createElement("ul",{ref:n,className:"AvailableCloudStreamingServicesModal-module__linkList___+lmQJ"},t.map((e=>{const t=Ro[e.ServiceId.toLowerCase()];return l.createElement("li",{key:e.ServiceId},l.createElement(t,{link:e.ServicePlayLink}))})))),l.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__buttonContainer___24hN6"},l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:o},a.toLocaleUpperCase()),l.createElement(c.k,{as:"a",buttonType:u.L$.Primary,href:`https://support.xbox.com/${d}/help/games-apps/cloud-gaming/cloud-gaming-on-third-party-services`},i.toLocaleUpperCase()))))))},Io=()=>{const e=(0,f.UD)("chooseStreamingPlatformCTA");return l.createElement("h2",{className:s()(P.a2,"AvailableCloudStreamingServicesModal-module__modalHeaderText___Bg+oM")},e)},Po=e=>{let{link:t,imageUrl:n,isExternalLink:r,message:o,title:i}=e;return l.createElement(c.k,{as:"a",href:t,buttonType:u.L$.Primary,className:"AvailableCloudStreamingServicesModal-module__upsellLink___xc9oV"},l.createElement("img",{src:n,alt:o}),l.createElement("div",{className:"AvailableCloudStreamingServicesModal-module__linkTextContainer___IpHdX"},l.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__fontWeightAdjustment___2Y4Mt",P.gC)},i),l.createElement("span",{className:s()("AvailableCloudStreamingServicesModal-module__opacityAdjustment___imSMU",P.Km)},o)),r&&l.createElement(d.JO,{icon:a.Z,iconSize:d.Jh.XXSmall,className:"AvailableCloudStreamingServicesModal-module__linkIcon___zsUWp"}))},Ro={[G.Kf.xcloud]:e=>{let{link:t}=e;const[n,r]=(0,f.QF)("xCloudServiceUpsellMessage","xCloudServiceUpsellTitle");return l.createElement(Po,{link:t,imageUrl:wo,message:n,title:r})},[G.Kf.geforcenow]:e=>{let{link:t}=e;const[n,r]=(0,f.QF)("geforceNowServiceUpsellMessage","geforceNowServiceUpsellTitle");return l.createElement(Po,{link:t,imageUrl:Ao,isExternalLink:!0,message:n,title:r})}},xo=["buttonType","title"],No=e=>{const t=Do(e),[n,r]=(0,l.useState)(!1),o=(0,l.useRef)(null),a=(0,l.useRef)(null),i=(0,Y.mG)(n,(()=>{r(!1)}),o,a);if(!t)return null;let s;switch(e.experienceButtonType){case Mn.Ug.Desktop:s=Oo;break;case Mn.Ug.Mobile:s=Lo;break;case Mn.Ug.Overflow:s=Mo;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(s,C()(C()({},t),{},{buttonRef:o,buttonType:e.buttonType,onClick:()=>{r(!0)}})),l.createElement(ko,{contentRef:a,onHide:i,cloudServiceUpsells:t.cloudServiceUpsells,show:n}))},Oo=e=>{const{buttonType:t=u.L$.Primary,title:n}=e,r=V()(e,xo);return l.createElement(pr,C()({buttonType:t,title:n.toLocaleUpperCase()},r))},Lo=e=>{const{accessibilityLabel:t,buttonType:n=u.L$.Primary,buttonRef:r,onClick:o,telemetryProps:a,title:i}=e;return l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:n,className:ur,onClick:o,ref:r},(0,S.iZ)(a)),i.toLocaleUpperCase())},Mo=e=>{let{accessibilityLabel:t,buttonRef:n,onClick:r,telemetryProps:o,title:a}=e;return l.createElement(Pr,{"aria-label":t,onClick:r,icon:vo.Z,telemetryProps:o,ref:n},a)},Do=e=>{let{baseProductId:t,cloudServiceUpsells:n,slotNumber:r}=e;var o;const a=(0,S.EW)(),[i,s]=(0,f.QF)("cloudPlayButtonAccessibilityLabelFormat","cloudPlayButtonText"),l=(0,f.UD)("cloudAvailableServicesText",{Services:(null===n||void 0===n?void 0:n.length)||0}),c=(0,v.useSelector)((e=>(0,At.RY)(e,t))),u=(0,S._d)({behavior:S.cg.SHOW,contentName:s,id:"MultiCloudPlayButton",slotNumber:r},a);return{accessibilityLabel:(0,g.WUZ)(i,(null===(o=c.product)||void 0===o?void 0:o.title)||""),subtitle:l,telemetryProps:u,title:s,cloudServiceUpsells:n}};const Uo=e=>{const{listItemAccessibilityFormat:t,preferSkuValues:n,productIdentifiers:r,telemetryProps:o}=e,a=(0,v.useSelector)(g.Xnf).origin,i=(0,v.useSelector)(g.Yzi),s=(0,v.useSelector)((e=>(0,At.h$)(e,r))).filter((e=>!!e.product)).filter((e=>!!e.sku));return(null===s||void 0===s?void 0:s.length)?(s.sort(((e,t)=>{const n=e.availability,r=t.availability;return n&&r?n.price.msrp-r.price.msrp:!n&&r?1:n&&!r?-1:0})),l.createElement("ul",{className:"ProductList-module__productList___NJ+7V"},s.map(((e,r)=>{var d,h,m;const{product:p,sku:f,availability:v}=e,_=p.productId,y=p.title,b=r+1,E=t?(0,g.WUZ)(t,n?f.skuTitle:y,b.toString(),s.length.toString()):n?f.skuTitle:y,A=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:y,id:"ProductListItem",productName:y,productId:_,slotNumber:r,skuId:f.skuId},C()({},o));return l.createElement("li",{key:`ProductListItem_${_}_${f.skuId}`,className:"ProductList-module__productListItem___aq9Xs"},l.createElement(c.k,C()({as:"a","aria-label":E,buttonType:u.L$.Tertiary,href:(0,T.Ok)(a,i,_,y,f.skuId)},(0,S.iZ)(A)),l.createElement(R.Ee,{width:50,height:50,src:n?null===(d=(0,G.GK)(p,f))||void 0===d?void 0:d.url:null===(m=null===(h=p.images)||void 0===h?void 0:h.boxArt)||void 0===m?void 0:m.url,alt:n?f.skuTitle:y}),l.createElement("div",null,l.createElement("div",{className:P.uo},n?f.skuTitle:y),l.createElement("div",{className:P.S7},l.createElement(G.VO,{hasAddOns:p.hasAddOns,satisfyingPassId:p.optimalSatisfyingPassId,productPrice:null===v||void 0===v?void 0:v.price,listedPriceClassName:"ProductList-module__listedPrice___RF-qv"})))))})))):null},Fo=["buttonAccessibilityLabel","buttonId","buttonType","subTitle","telemetryProps","title"],Bo=e=>{const{buttonAccessibilityLabel:t,buttonId:n,buttonType:r=u.L$.Primary,subTitle:o,telemetryProps:a,title:i}=e,c=V()(e,Fo);let d="DropDownProductListButton-module__oneLineDropDownListButton___CJZI3";return o&&(d="DropDownProductListButton-module__twoLineDropDownListButton___DCYH5"),l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:t,buttonId:n,buttonType:r,className:s()([d,lr]),telemetryProps:a,showArrow:!0},l.createElement("div",{className:"DropDownProductListButton-module__dropDownListButtonTitleContainer___NJ8s0"},l.createElement("div",{className:P.uo},i),o&&l.createElement("div",{className:s()(P.S7,"DropDownProductListButton-module__dropDownProductListSubtitle___xuHs5")},o))),l.createElement(ae.Flyout,null,l.createElement(Uo,C()(C()({},c),{},{telemetryProps:a}))))};const Ho=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1936 256q23 0 43 9t36 24 24 35 9 44v1184q0 23-9 43t-24 36-35 24-44 9H112q-23 0-43-9t-36-24-24-35-9-44V368q0-23 9-43t24-36 35-24 44-9h1824zm-16 128H640v139q33-11 64-11 40 0 75 15t61 41 41 61 15 75q0 31-11 64h1035V384zM384 704q0 26 19 45t45 19h64v-64q0-26-19-45t-45-19q-26 0-45 19t-19 45zm320 64q26 0 45-19t19-45q0-26-19-45t-45-19q-26 0-45 19t-19 45v64h64zM128 384v384h139q-11-33-11-64 0-40 15-75t41-61 61-41 75-15q31 0 64 11V384H128zm0 1152h384V987l-147 146-90-90 146-147H128v640zm1792 0V896H731l146 147-90 90-147-146v549h1280z"}))};const qo=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.L$.Primary,productId:o,showModal:a,skuId:i,enableReactGiftFlow:c,telemetryProps:d,hideModal:h,onClick:m}=e,p=(0,l.useRef)(null),g=(0,l.useRef)(null),f=(0,Y.mG)(a,h,p,g);return l.createElement(l.Fragment,null,l.createElement(Je.$,C()({as:"button","aria-label":t,buttonType:r,className:s()([cr,lr]),onClick:m,icon:Ho,ref:p,title:t},(0,S.iZ)(d))),c?l.createElement(Xr,{contentRef:g,hasAddOns:!1,onResult:f,showModal:a,productId:o,skuId:i,availabilityId:n,experience:yn.Purchase,scenario:bn.Gift}):l.createElement($o,{productId:o,skuId:i,availabilityId:n,contentRef:g,showModal:a,onComplete:f}))},Go=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,buttonType:o=u.L$.Primary,enableReactGiftFlow:a,hideModal:i,onClick:d,productId:h,showModal:m,skuId:p,telemetryProps:g}=e,v=(0,l.useRef)(null),_=(0,l.useRef)(null),y=(0,f.iV)("giftActionText"),b=(0,Y.mG)(m,i,v,_);return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:o,className:s()([rr,lr,P.uo]),onClick:null!==n&&void 0!==n?n:d,ref:v},(0,S.iZ)(g)),y.toLocaleUpperCase()),a?l.createElement(Xr,{contentRef:_,hasAddOns:!1,onResult:b,showModal:m,productId:h,skuId:p,availabilityId:r,experience:yn.Purchase,scenario:bn.Gift}):l.createElement($o,{productId:h,skuId:p,availabilityId:r,contentRef:_,showModal:m,onComplete:b}))},zo=e=>{const{accessibilityLabel:t,availabilityId:n,buttonType:r=u.L$.Primary,productId:o,showModal:a,skuId:i,enableReactGiftFlow:s,telemetryProps:d,hideModal:h,onClick:m}=e,p=(0,f.iV)("giftActionText"),g=(0,l.useRef)(null),v=(0,l.useRef)(null),_=(0,Y.mG)(a,h,g,v);return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:r,className:ur,onClick:m,ref:g},(0,S.iZ)(d)),p.toLocaleUpperCase()),s?l.createElement(Xr,{contentRef:v,hasAddOns:!1,onResult:_,showModal:a,productId:o,skuId:i,availabilityId:n,experience:yn.Purchase,scenario:bn.Gift}):l.createElement($o,{productId:o,skuId:i,availabilityId:n,contentRef:v,showModal:a,onComplete:_}))},Xo=e=>{const{accessibilityLabel:t,actionOverride:n,availabilityId:r,productId:o,showModal:a,skuId:i,enableReactGiftFlow:s,telemetryProps:c,hideModal:u,onClick:d}=e,h=(0,f.iV)("giftActionText"),m=(0,l.useRef)(null);return l.createElement(l.Fragment,null,l.createElement(Pr,{"aria-label":t,onClick:n||d,icon:Ho,telemetryProps:c},h),l.createElement(Cr,null,(e=>{const t=()=>{e.closeDialog(),u()};return l.createElement(l.Fragment,null,s?l.createElement(Xr,{contentRef:m,hasAddOns:!1,onResult:t,showModal:a,productId:o,skuId:i,availabilityId:r,experience:yn.Purchase,scenario:bn.Gift}):l.createElement($o,{productId:o,skuId:i,availabilityId:r,showModal:a,onComplete:t}))})))},$o=e=>{const t=(0,f.iV)("giftActionText");return l.createElement(l.Fragment,null,e.showModal&&l.createElement(R.u_,{show:e.showModal,className:"GiftButton-module__widthOverride___GwTlJ",ariaLabel:t},l.createElement(k,{productId:e.productId,skuId:e.skuId,availabilityId:e.availabilityId,onComplete:e.onComplete})))};var Vo=n(66962);const Wo="#1b1c1e";var Ko;!function(e){e[e.DefaultXbox=0]="DefaultXbox",e[e.XboxSeriesX=1]="XboxSeriesX",e[e.XboxSeriesS=2]="XboxSeriesS",e[e.XboxOne=3]="XboxOne",e[e.XboxOneS=4]="XboxOneS",e[e.XboxOneSDigital=5]="XboxOneSDigital",e[e.XboxOneX=6]="XboxOneX",e[e.PC=7]="PC"}(Ko||(Ko={}));const jo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 8.067a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.15a.5.5 0 01-.178.382l-.072.051-18.252 10.539-.058.041-18.42 10.63-2.57 1.48a.5.5 0 01-.42.037l-.08-.037-23.7-13.68a.5.5 0 01-.242-.345L0 41.82V29.7c0-.092.025-.185.075-.265l.044-.06.037-.039.058-.046.036-.023 36.73-21.2zM1 30.566v10.965l23.2 13.391 2.07-1.192v-3.72l-2.31-1.34v-1.73l2.31 1.337v-3.119L1 30.566zm43.668 9.396L27.27 50.009v3.144l17.418-10.058-.02-3.133zm-.032-4.83L27.27 45.158v3.118l17.386-10.04-.02-3.104zM18.87 19.677L1.5 29.7l25.269 14.592 17.36-10.024L18.87 19.677zm44.129 4.849L45.631 34.557l.053 7.963 17.315-9.999v-7.995zM37.23 9.077L19.867 19.099l25.261 14.592L62.499 23.66 37.23 9.077zm22.33 20.601c.388-.674 1.022-1.037 1.414-.81.392.226.395.956.005 1.63-.389.675-1.023 1.038-1.415.811-.392-.226-.394-.956-.005-1.63z"}))};const Zo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 8.032l-17.36 10.03v2.315l17.36-10.02v-2.325zm0-3.475L27.27 46.188v2.325l17.36-10.029v-2.321zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const Yo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 9.097a.5.5 0 01.42-.037l.08.037 26.303 15.18.057.046.053.056.031.045a.5.5 0 01.074.22l.002.046v6.96a.5.5 0 01-.178.382l-.072.051-2.701 1.558.001 1.039-34.28 19.79L1.36 39.8l-.001-1.037-1.109-.64a.5.5 0 01-.242-.345L0 37.69v-6.95a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023L18.6 19.71l.02-.013 18.36-10.6zM1 31.606v5.795l25.27 14.583v-5.795L1 31.606zm43.63 4.557L27.27 46.188v5.795l17.36-10.02v-5.8zM18.871 20.708L1.5 30.739l25.27 14.583 17.358-10.024-25.257-14.59zM63 25.555L45.63 35.588v5.798L63 31.36v-5.805zm-.501-.865L37.23 10.107 19.87 20.131l25.258 14.59L62.499 24.69zm-3 4.97c.389-.674 1.023-1.037 1.415-.81.392.226.394.956.005 1.63-.39.675-1.023 1.038-1.415.811-.392-.226-.395-.956-.005-1.63z"}))};const Qo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M36.98 8.517a.5.5 0 01.42-.037l.08.037 26.283 15.178.06.042.059.059.042.058a.5.5 0 01.074.217l.002.049v9.72a.5.5 0 01-.178.382l-.072.051-33.04 19.08a.494.494 0 01-.425.035l-.076-.036-2.143-1.244-1.085.625-.07.027-.082.017-.097.002-.08-.012-.045-.014a.499.499 0 01-.087-.04l.067.032-.029-.012L.25 37.543a.5.5 0 01-.242-.345L0 37.11v-6.95l.007-.084a.498.498 0 01.068-.181l.043-.06.045-.045.052-.04.035-.023 36.73-21.21zm26.019 25.034v-1.615l-32.04 18.501v1.617l32.04-18.503zM29.96 51.014l-.895.517.895.52v-1.037zM1 31.026v5.795l25.27 14.593v-5.796L1 31.026zm61.999-.245v-5.795L27.27 45.617v5.796l2.868-1.655.072-.051L63 30.781zM37.229 9.527L1.5 30.159l25.27 14.583L62.5 24.119 37.229 9.527zm22.33 19.521c.39-.674 1.023-1.038 1.416-.811.392.226.394.957.005 1.631-.39.674-1.023 1.037-1.415.811-.393-.226-.395-.957-.006-1.631z"}))};const Jo=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M25.48.067A.5.5 0 0125.9.03l.08.037L48.046 12.81l.068.056.039.043.031.045c.05.081.076.174.076.266v44.8a.5.5 0 01-.178.382l-.072.051-9.49 5.48a.495.495 0 01-.265.067.487.487 0 01-.178-.027l-.087-.04-22-12.72a.5.5 0 01-.242-.345l-.008-.088V5.99a.496.496 0 01.172-.388l.078-.055 9.49-5.48zm-8.741 6.798v43.626l21 12.142V18.988l-21-12.123zm30.521 7.22l-8.49 4.903v43.645l8.49-4.902V14.085zm-26.2 2.253c3.583-2.069 9.163 1.152 12.563 7.042 3.4 5.89 3.4 12.332-.184 14.401-3.584 2.07-9.163-1.152-12.564-7.041-3.4-5.89-3.4-12.333.184-14.402zm11.697 7.542c-3.16-5.475-8.22-8.395-11.198-6.676-2.978 1.72-2.978 7.561.182 13.036 3.161 5.474 8.22 8.395 11.198 6.675 2.978-1.72 2.979-7.56-.182-13.035zm7.81-3.595c.39-.674 1.024-1.037 1.416-.81.392.226.395.956.005 1.63-.39.675-1.023 1.038-1.415.812-.392-.227-.394-.957-.005-1.632zM25.73 1.077L17.24 5.979l21.03 12.143 8.489-4.902-21.03-12.143z"}))};const ea=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M31.75.067a.5.5 0 01.42-.037l.08.037 17.555 10.132.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v42.78a.5.5 0 01-.178.382l-.072.051-14.6 8.42-2.957 1.71-.054.021-.08.02-.097.006-.06-.006-.082-.02-.075-.033L14.23 53.823a.5.5 0 01-.242-.345l-.008-.088V10.61l.007-.084a.498.498 0 01.068-.181l.044-.06.044-.045.052-.04.035-.023L31.75.067zM14.98 11.476v41.625l16.52 9.533V21.018l-16.52-9.542zM49.02 53.1V11.475L32.5 21.018v41.614l2.17-1.255L49.02 53.1zM34.257 22.88c.39-.675 1.023-1.038 1.415-.811.393.226.395.956.005 1.63-.389.675-1.022 1.038-1.415.812-.392-.227-.394-.957-.005-1.631zM32 1.077L15.479 10.61 32 20.152l16.52-9.542L32 1.077z"}))};const ta=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 64 64","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M0 29.74a.5.5 0 01.075-.265l.043-.06.045-.045.052-.04.035-.023 36.73-21.21a.5.5 0 01.42-.037l.08.037 26.305 15.182.069.057.039.043.031.045a.5.5 0 01.074.22l.002.046v9.96a.5.5 0 01-.178.382l-.072.051-36.745 21.208-.072.032-.105.024-.095.002-.078-.012-.069-.022-.066-.032L.25 40.123a.5.5 0 01-.242-.345L0 39.69v-9.95zm62.999 3.621v-8.805L27.27 45.188v8.795l35.729-20.622zm-62-2.756V39.4l25.27 14.583v-8.795L.999 30.605zm36.23-21.498L1.5 29.739l25.27 14.583L62.499 23.69 37.229 9.107z"}))};var na=n(81895),ra=n(62638),oa=n(1489),aa="DeviceItem-module__iconDevice___qM-eC",ia="DeviceItem-module__itemContainer___LUQza",sa="DeviceItem-module__title___z1IA+";const la=e=>{const{hasSufficientFreeSpace:t,isChecked:n,deviceType:r=Ko.DefaultXbox,deviceName:o,devicePowerStatus:a,deviceFreeStorage:i,usedStorageSpacePercentage:c,className:u,onClick:h}=e,m=()=>{t&&(null===h||void 0===h||h(!n))};return l.createElement("div",{role:"checkbox","aria-checked":n?"true":"false",onClick:m,onKeyDown:e=>{((0,g.Ypc)(e.key,"spacebar")||(0,g.Ypc)(e.key," ")||(0,g.Ypc)(e.key,"enter"))&&(m(),e.stopPropagation(),e.preventDefault())},tabIndex:t?0:-1,className:s()([ia,"DeviceItem-module__itemContainerFocusStates___RIefB",u])},l.createElement("div",{className:"DeviceItem-module__iconContainer___kr1By"},(e=>{switch(e){case Ko.XboxOne:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:jo});case Ko.XboxOneS:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:Zo});case Ko.XboxOneSDigital:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:Yo});case Ko.XboxOneX:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:Qo});case Ko.XboxSeriesS:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:Jo});case Ko.XboxSeriesX:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:ea});case Ko.PC:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:R.Gr});case Ko.DefaultXbox:default:return l.createElement(d.JO,{iconSize:d.Jh.Custom,className:aa,icon:ta})}})(r)),l.createElement("div",{className:"DeviceItem-module__infoContainer___jUQEC"},l.createElement("div",{className:sa},o),a&&l.createElement("div",{className:"DeviceItem-module__subtitle___wJkrQ"},a),void 0!==c&&l.createElement("div",{className:"DeviceItem-module__storageComponents___rhlcd"},l.createElement("div",{className:"DeviceItem-module__availableSpaceMeter___ysdnM"},l.createElement("div",{className:s()("DeviceItem-module__availableSpaceMeterValue___jyxtv",t?void 0:"DeviceItem-module__error___9gepr"),style:{width:`${c}%`}})),l.createElement("div",{className:sa},!t&&l.createElement(d.JO,{iconSize:d.Jh.Custom,className:"DeviceItem-module__iconWarning___ArYA7",icon:na.Z}),i))),l.createElement(d.JO,{iconSize:d.Jh.Custom,className:"DeviceItem-module__checkbox___M2qVf",icon:n?ra.Z:oa.Z}),!t&&l.createElement("div",{className:"DeviceItem-module__alertStrip___wdn7P"}))},ca=e=>{var t;const{device:n,isChecked:r,isPc:o,requiredSpace:a,className:i,onClick:s}=e,c={deviceName:n.name,deviceType:Ko.PC,isChecked:r,hasSufficientFreeSpace:!0},[u,d,h,m]=(0,f.QF)("installScreenConsoleStateOn","installScreenConsoleStateOff","installScreenConsoleStateUnknown","installScreenFreeStorageTemplate");let p,v;if(!o){c.deviceType=(e=>{switch(e){case Mn.ky.XboxSeriesS:return Ko.XboxSeriesS;case Mn.ky.XboxSeriesX:case Mn.ky.XboxSeriesXDevKit:return Ko.XboxSeriesX;case Mn.ky.XboxOne:return Ko.XboxOne;case Mn.ky.XboxOneS:return Ko.XboxOneS;case Mn.ky.XboxOneSDigital:return Ko.XboxOneSDigital;case Mn.ky.XboxOneX:case Mn.ky.XboxOneXDevKit:return Ko.XboxOneX;default:return}})(n.consoleType);const e=null===(t=n.storage)||void 0===t?void 0:t.filter((e=>e.isDefault))[0];switch(p=(null===e||void 0===e?void 0:e.freeSpaceBytes)||0,v=(null===e||void 0===e?void 0:e.totalSpaceBytes)||0,c.hasSufficientFreeSpace=a<=p,c.usedStorageSpacePercentage=((e,t)=>Math.ceil((t-e)/t*100))(p,v),n.state.powerState){case Mn.Y$.On:case Mn.Y$.ConnectedStandby:c.devicePowerStatus=u;break;case Mn.Y$.Off:c.devicePowerStatus=d;break;default:c.devicePowerStatus=h}}const _=(0,Y.WV)(p,1024,0)||"",y=(0,Y.WV)(v,1024,0)||"";return c.deviceFreeStorage=_&&y?(0,g.WUZ)(m,_,y):"",l.createElement(la,C()({className:i,onClick:s},c))},ua=e=>l.createElement("div",{className:s()([ia,e.className])});var da="InstallScreen-module__bodyText2___cmbvC",ha="InstallScreen-module__contentContainer___Dzlkm",ma="InstallScreen-module__contentTitleMargin___txpE0",pa="InstallScreen-module__deviceItemMargin___c8nu+",ga="InstallScreen-module__deviceList___oZG0s",fa="InstallScreen-module__subTitle___qU0xx",va="InstallScreen-module__tab___+Npdi";const _a=e=>{const{firstParagraphText:t,headingText:n,secondParagraphText:r}=e;return l.createElement("div",{className:ma},l.createElement("div",{className:s()(P.F$,fa)},n),l.createElement("div",{className:s()(P.RO,da)},t),l.createElement("div",{className:s()(P.RO,da)},r))},ya=e=>{const{devices:t,devicesArePcs:n,maxInstallSize:r,selectedDeviceId:o,setSelectedDeviceId:a}=e,{installScreenEmptyConsoleTabHeading:i,installScreenEmptyConsoleUpsellText:c,installScreenEmptyConsoleInstructionsText:u,installScreenReadyToInstall:d}=(0,f.y_)("installScreenEmptyConsoleTabHeading","installScreenEmptyConsoleUpsellText","installScreenEmptyConsoleInstructionsText","installScreenReadyToInstall");return 0===t.length?l.createElement(_a,{firstParagraphText:c,headingText:i,secondParagraphText:u}):l.createElement(l.Fragment,null,l.createElement("div",{className:s()(P.Gg,"InstallScreen-module__readyMessageMargin___pTAud")},d),l.createElement($e,{className:ga,gradientColorOverride:Wo},t.map((e=>l.createElement(ca,{key:e.id,className:pa,device:e,isChecked:o===e.id,isPc:n,requiredSpace:r||0,onClick:t=>{a(t?e.id:"")}})))))};const ba=()=>{const{remoteConsoleLoadErrorHeading:e,reloadPageRequestMessage:t}=(0,f.y_)("remoteConsoleLoadErrorHeading","reloadPageRequestMessage");return l.createElement(l.Fragment,null,l.createElement("div",{className:s()(ha,ma)},l.createElement("div",null,l.createElement("div",{className:"InstallErrorScreen-module__warningSign___OqVjo"},"\u26a0"),l.createElement("div",{className:s()(P.F$,fa)},e)),l.createElement("div",{className:s()(P.RO,da)},t)))},Ca=()=>{const e=(0,f.iV)("loadingText");return l.createElement("div",null,l.createElement("div",{className:s()(P.Gg,ma)},e),l.createElement($e,{className:ga,gradientColorOverride:Wo},l.createElement(ua,{className:pa}),l.createElement(ua,{className:pa}),l.createElement(ua,{className:pa})))};var Ea="InstallScreenButtons-module__shimmerAddons___QQWaC";const Sa=e=>{const{devicesArePcs:t,primaryButtonState:n,productId:r,selectedDeviceId:o,onCancelClicked:a,onInstallClicked:i}=e,s=(0,v.useDispatch)(),{installScreenCancelButtonText:d,installScreenInstallButtonText:h,installScreenLaunchButtonText:m,learnMoreText:p,reloadPageButtonText:_}=(0,f.y_)("installScreenCancelButtonText","installScreenInstallButtonText","installScreenLaunchButtonText","learnMoreText","reloadPageButtonText");let y,b,C,E;switch(n){case wa.Install:y=!o,b=()=>{s(At.wx.queueInstall.start(o,[r],t)),null===i||void 0===i||i()},C=h;break;case wa.Launch:y=!(0,g.lXB)(),b=()=>{window.location.href=`msxbox://game/?productId=${r}`,null===i||void 0===i||i()},C=m;break;case wa.LearnMore:y=!1,E=T.n_,C=p;break;case wa.Reload:default:y=!1,b=()=>{"undefined"!==typeof location&&location.reload()},C=_}return l.createElement("div",{className:"InstallScreenButtons-module__buttonContainer___wa-9b"},l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:a},d),E?l.createElement(c.k,{as:"a","aria-label":C,buttonType:u.L$.Brand,href:E,target:"_blank"},C.toLocaleUpperCase()):l.createElement(c.k,{as:"button",disabled:y,buttonType:u.L$.Brand,onClick:b},C.toLocaleUpperCase()))},Ta=()=>l.createElement("div",{className:"InstallScreenButtons-module__loadingPanel___q8RDT"},l.createElement("div",{className:s()(nt.f8,Ea,"InstallScreenButtons-module__shimmerBackground1___LHUZF")}),l.createElement("div",{className:s()(nt.f8,Ea,"InstallScreenButtons-module__shimmerBackground2___YNYl4")})),Aa=["children","className","contentRef","productId","onCancelClicked","onInstallClicked"];var wa;!function(e){e[e.Install=0]="Install",e[e.Launch=1]="Launch",e[e.Reload=2]="Reload",e[e.LearnMore=3]="LearnMore"}(wa||(wa={}));const ka=(e,t)=>{var n;return!!(null===(n=null===e||void 0===e?void 0:e.availableOn)||void 0===n?void 0:n.filter((e=>e.toLowerCase().includes(t))).length)},Ia=e=>{const t=(0,v.useDispatch)(),[n,r]=(0,l.useState)(""),[o,a]=(0,l.useState)(0),i=(0,v.useSelector)((e=>(0,At.D)(e))),c=(0,v.useSelector)((e=>(0,At.Hj)(e))),u=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRemoteInstallToPc))),{contentRef:d,productId:h,onCancelClicked:m,onInstallClicked:p}=e,{installScreenConsoleTabText:_,installScreenPcTabText:y,installScreenPcTabHeading:b,installScreenPcAppUpsellText:C,installScreenPcAppRequiresText:E}=(0,f.y_)("installScreenConsoleTabText","installScreenPcTabText","installScreenPcTabHeading","installScreenPcAppUpsellText","installScreenPcAppRequiresText");(0,l.useEffect)((()=>{t(At.wx.fetchDevices.start())}),[]);const S=(0,v.useSelector)((e=>(0,At.th)(e,h))),T=(0,Y.WV)((null===S||void 0===S?void 0:S.maxInstallSize)||0,1024,2)||"",A=S?(0,G.GK)(S):void 0,w=ka(S,"pc"),k=ka(S,"xbox"),I=w&&k&&(0,g.lXB)();(0,l.useEffect)((()=>{(!I&&k||0===o)&&((0,lt.isError)(c)?O(wa.Reload):(0,lt.isContent)(c)&&(0===c.data.length?O(wa.LearnMore):O(wa.Install)))}),[c,o,I,k]),(0,l.useEffect)((()=>{(!I&&w||1===o)&&(u?(0,lt.isError)(i)?O(wa.Reload):(0,lt.isContent)(i)&&(0===i.data.length?O(wa.LearnMore):O(wa.Install)):O(wa.LearnMore))}),[i,o,I,w,u]);const x=k||u?wa.Install:wa.Launch,[N,O]=(0,l.useState)(x),L=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,lt.lceSelect)(e,{content:()=>l.createElement(Sa,{devicesArePcs:t,onCancelClicked:m,onInstallClicked:p,primaryButtonState:N,productId:h,selectedDeviceId:n}),isFetching:()=>l.createElement(Ta,null)})},M=l.createElement(l.Fragment,null,l.createElement("div",{className:ha},(0,lt.lceSelect)(c,{default:()=>l.createElement(l.Fragment,null),content:e=>{let{data:t}=e;return l.createElement(ya,{devices:t,maxInstallSize:null===S||void 0===S?void 0:S.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>l.createElement(ba,null),isFetching:()=>l.createElement(Ca,null)})),L(c)),D=l.createElement(l.Fragment,null,l.createElement("div",{className:ha},u?(0,lt.lceSelect)(i,{default:()=>l.createElement(l.Fragment,null),content:e=>{let{data:t}=e;return l.createElement(ya,{devices:t,devicesArePcs:!0,maxInstallSize:null===S||void 0===S?void 0:S.maxInstallSize,selectedDeviceId:n,setSelectedDeviceId:r})},error:()=>l.createElement(ba,null),isFetching:()=>l.createElement(Ca,null)}):l.createElement(_a,{firstParagraphText:C,headingText:b,secondParagraphText:E})),L(i,!0));return l.createElement("div",{className:"InstallScreen-module__container___MXKqq",ref:d},l.createElement("div",{className:"InstallScreen-module__backgroundImageContainer___nOCO2"},l.createElement(R.Ee,{className:"InstallScreen-module__backgroundImage___chH6m",src:null===A||void 0===A?void 0:A.url,width:270,height:270,fluid:!0})),l.createElement("div",{className:"InstallScreen-module__backgroundOverlay___wDs1A"}),l.createElement("div",{className:"InstallScreen-module__productContainer___hrUA4"},l.createElement("div",{className:"InstallScreen-module__boxArt___AXg4O"},l.createElement(R.Ee,{className:"shadow",width:136,height:136,src:null===A||void 0===A?void 0:A.url,alt:null===A||void 0===A?void 0:A.caption,fluid:!0})),l.createElement("div",{className:"InstallScreen-module__gameDetailsContainer___qMQ+F"},l.createElement("div",{className:s()(P.hO,"InstallScreen-module__productTitle___ysrdw")},null===S||void 0===S?void 0:S.title),l.createElement("div",{className:P.Gg},T))),I?l.createElement(bt,{onSelectedIndexChanged:e=>{var t;if(u||1!==e){const n=0===e?c:i;if((0,lt.isError)(n))O(wa.Reload);else{const e=null!==(t=(0,lt.getDataOrPrevious)(n))&&void 0!==t?t:[];O(0===e.length?wa.LearnMore:wa.Install)}}else O(wa.Launch);a(e)},className:"InstallScreen-module__tabContainer___VYgvu"},l.createElement(yt,{className:va,key:"Console",title:_},M),l.createElement(yt,{className:va,key:"PC",title:y},D)):l.createElement("div",{className:"InstallScreen-module__nonTabbedDisplay___AnG4H"},l.createElement(l.Fragment,null,k?M:D)))},Pa=e=>{const{children:t,className:n,contentRef:r,productId:o,onCancelClicked:a,onInstallClicked:i}=e,s=V()(e,Aa),c=(0,f.iV)("installButtonText");return l.createElement(R.u_,C()(C()({className:"InstallScreen-module__modal___yYBN1"},s),{},{ariaLabel:c}),l.createElement(Ia,{contentRef:r,productId:o,onCancelClicked:a,onInstallClicked:i}))};const Ra=e=>{var t,n,r,o;const{onRetryClicked:a,onCancelClicked:i,installOperation:d}=e,[h,m,p,v,_]=(0,f.QF)("installErrorDetailsHeading","installErrorDetailsMessage","installRetryButtonText","cancelButtonText","errorCodeTemplate"),y=(null===(t=d.error)||void 0===t?void 0:t.errorCode)||(null===(o=null===(r=null===(n=d.error)||void 0===n?void 0:n.originalError)||void 0===r?void 0:r.response)||void 0===o?void 0:o.status);return l.createElement("div",{className:"InstallErrorDialog-module__contentContainer___SrfDw"},l.createElement("div",{className:P.Gg},h),l.createElement("div",{className:P.RO},m),y&&l.createElement("div",{className:s()(P.RO,"InstallErrorDialog-module__errorMessageOpacity___yP91k")},(0,g.WUZ)(_,y)),l.createElement("div",{className:"InstallErrorDialog-module__buttonRow___sO5Xc"},l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:a},p),l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,onClick:i},v)))};var xa="InstallInfoBanner-module__container___3up4S";const Na=(e,t)=>l.createElement("span",{className:P.S7},e," ",l.createElement("span",{className:"InstallInfoBanner-module__fadedCaption___FVtGQ"},t)),Oa=e=>{const{productId:t}=e,[n,r]=(0,l.useState)(!1),o=(0,v.useSelector)((e=>(0,At.ik)(e,t))),a=(0,v.useSelector)((e=>(0,At.Me)(e,(null===o||void 0===o?void 0:o.deviceId)||""))),{installStatusErrorMessage:i,installStatusPendingCaption:c,installStatusSuccessCaption:h}=(0,f.y_)("installStatusErrorMessage","installStatusPendingCaption","installStatusSuccessCaption");if(!o)return null;const m=()=>r(!1);switch(o.operationStatus){case Mn.oo.Pending:return l.createElement("div",{className:xa},l.createElement(se,null),Na(c,a));case Mn.oo.ConsoleError:case Mn.oo.Error:case Mn.oo.TimedOut:{const e={behavior:S.cg.EXPAND,contentName:i,id:"InstallInfoBannerErrorButton"};return l.createElement(l.Fragment,null,l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:i,buttonType:u.L$.Primary,className:s()(xa,"InstallInfoBanner-module__actionableContainer___uZc9s"),telemetryProps:e},Na(i),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,icon:et.Z})),l.createElement(ae.Flyout,null,l.createElement(ne,null,(e=>l.createElement(Ra,{onRetryClicked:()=>{r(!0),e.closeFlyout()},onCancelClicked:e.closeFlyout,installOperation:o}))))),l.createElement(Pa,{onCancelClicked:m,onInstallClicked:m,onHide:m,productId:t,show:n,closeable:!0}))}case Mn.oo.Succeeded:return l.createElement("div",{className:xa},Na(h,a));default:return null}};var La=n(55240),Ma=n(68174),Da="InstallButton-module__opaque___eX5ct";const Ua=["baseProductId","buttonTitle","buttonRef","buttonType","upsellProductId","openModal","isTrial","telemetryProps"],Fa=e=>{let{baseProductId:t,buttonTitle:n,buttonRef:r,buttonType:o=u.L$.Primary,upsellProductId:a,openModal:i,isTrial:s,telemetryProps:c}=e,d=V()(e,Ua);const h=(0,v.useSelector)((e=>(0,At.tR)(e,t))),{affordingText:m,upsellGlyph:p}=(0,G.vT)({upsellProductId:a,isTrial:s,productEntitlement:(0,lt.getDataOrPrevious)(h)||void 0}),f=(0,g.kgH)(a)===G.OP;return l.createElement(pr,C()({accessibilityLabel:n,buttonRef:r,buttonType:o,onClick:i,productGlyph:p,usesUbisoftSVG:f,subtitle:m,telemetryProps:c,title:n.toLocaleUpperCase()},d))},Ba=e=>{let{buttonTitle:t,buttonRef:n,buttonType:r=u.L$.Primary,telemetryProps:o,openModal:a}=e;return l.createElement(c.k,C()({as:"button",buttonType:r,className:ur,onClick:a,ref:n},(0,S.iZ)(o)),t.toLocaleUpperCase())},Ha=e=>{let{openModal:t,installOperation:n,telemetryProps:r}=e;const o=(0,v.useDispatch)(),{installStatusErrorTitle:a,installStatusErrorSubtitle:i,installErrorButtonAccessibilityLabel:c}=(0,f.y_)("installStatusErrorTitle","installStatusErrorSubtitle","installErrorButtonAccessibilityLabel"),d=()=>{t(),o(La.w.clearOperationStatus(n))},h=C()(C()({},r),{},{contentName:a,id:"InstallErrorButton"});return l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:c,buttonType:u.L$.Primary,className:ir,telemetryProps:h},l.createElement("div",{className:P.uo},a),l.createElement("div",{className:s()(P.S7,Da)},i)),l.createElement(ae.Flyout,null,l.createElement(ne,null,(e=>l.createElement(Ra,{onRetryClicked:d,onCancelClicked:e.closeFlyout,installOperation:n})))))},qa=e=>{let{baseProductId:t}=e;const{installStatusPendingTitle:n}=(0,f.y_)("installStatusPendingTitle"),r=(0,v.useSelector)((e=>(0,Ma.ik)(e,t))),o=(0,v.useSelector)((e=>(0,Ma.Me)(e,(null===r||void 0===r?void 0:r.deviceId)||"")));return l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,className:dr,disabled:!0},l.createElement("div",{className:"InstallButton-module__progressContainer___JhBBL"},l.createElement(se,null),l.createElement("div",{className:P.uo},n)),l.createElement("div",{className:s()(P.S7,Da)},o))},Ga=e=>{let{baseProductId:t}=e;const{installStatusSuccessTitle:n}=(0,f.y_)("installStatusSuccessTitle"),r=(0,v.useSelector)((e=>(0,Ma.ik)(e,t))),o=(0,v.useSelector)((e=>(0,Ma.Me)(e,(null===r||void 0===r?void 0:r.deviceId)||"")));return l.createElement(c.k,{as:"button",buttonType:u.L$.Primary,className:dr,disabled:!0},l.createElement("div",{className:P.uo},n),l.createElement("div",{className:s()(P.S7,Da)},o))},za=e=>{let{baseProductId:t,buttonTitle:n,showModal:r,telemetryProps:o,hideModal:a,openModal:i}=e;return l.createElement(l.Fragment,null,l.createElement(Pr,{onClick:i,icon:Vo.Z,telemetryProps:o},n),r&&l.createElement(Cr,null,(e=>{const n=()=>{e.closeDialog(),a()};return l.createElement(Pa,{"aria-labelledby":"title",onCancelClicked:n,onInstallClicked:n,onHide:n,productId:t,show:r,closeable:!0})})))};const Xa=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M512 1152v-128h640v128H512zm989 130l317 318-317 318-91-91 163-163H256V256h1536v1136l-128-128V384H384v1152h1189l-163-163 91-91zm-93-514v128H512V768h896zM512 512h768v128H512V512z"}))};const $a=e=>{const t=(0,f.iV)("sorryForTheInconvenience"),n=(0,f.iV)("externallyManagedSubscription",e.subscriptionName);return l.createElement("div",{className:"ExternallyManagedSubscriptionScreen-module__content___Gp353"},l.createElement("h3",{className:s()(P.vM,"ExternallyManagedSubscriptionScreen-module__modalTitle___O9YrF")},t),l.createElement("p",{className:"ExternallyManagedSubscriptionScreen-module__modalContent___iTQ0p"},n))},Va=e=>{const t=(0,f.iV)("closeButtonText"),{showModal:n,onComplete:r,subscriptionName:o,buttonType:a,overrideButtonClassName:i}=e;return l.createElement(R.u_,{className:"ExternallyManagedModal-module__externallyManagedModalContainer___UsB0s",closeable:!0,show:n,onHide:r},l.createElement($a,{subscriptionName:o}),l.createElement(c.k,{as:"button",buttonType:a,"aria-label":t,onClick:r,className:null!==i&&void 0!==i?i:""},l.createElement("div",{className:P.uo},t.toLocaleUpperCase())))},Wa=["buttonLabel","buttonType","onClick","isExternallyManaged","telemetryProps"],Ka=["buttonLabel","buttonType","isExternallyManaged","telemetryProps","onClick"],ja=["buttonLabel","isExternallyManaged","telemetryProps","onClick"],Za=e=>{let t="";switch(e.experienceButtonType){case Mn.Ug.CondensedDesktop:t=rr;case Mn.Ug.Desktop:return l.createElement(Ya,C()(C()({},e),{},{overrideClassName:t}));case Mn.Ug.Mobile:return l.createElement(Qa,C()({},e));case Mn.Ug.Overflow:return l.createElement(Ja,C()({},e));default:return null}},Ya=e=>{const{buttonLabel:t,buttonType:n=u.L$.Primary,onClick:r,isExternallyManaged:o,telemetryProps:a}=e,i=V()(e,Wa),s=(0,l.useRef)(null);return o?l.createElement(pr,C()({accessibilityLabel:t,buttonType:n,onClick:r,buttonRef:s,telemetryProps:a,title:t.toLocaleUpperCase()},i)):l.createElement(gr,C()({accessibilityLabel:t,buttonType:n,href:T.B6,subtitle:"",target:"_blank",telemetryProps:a,title:t.toLocaleUpperCase()},i))},Qa=e=>{const{buttonLabel:t,buttonType:n=u.L$.Primary,isExternallyManaged:r,telemetryProps:o,onClick:a}=e,i=V()(e,Ka);return r?l.createElement(c.k,C()({as:"button","aria-label":t,buttonType:n,className:ur,onClick:a},(0,S.iZ)(o)),t.toLocaleUpperCase()):l.createElement(c.k,C()(C()({as:"a","aria-label":t,buttonType:n,className:ur,href:T.B6,target:"_blank"},(0,S.iZ)(o)),i),t.toLocaleUpperCase())},Ja=e=>{const{buttonLabel:t,isExternallyManaged:n,telemetryProps:r,onClick:o}=e,a=V()(e,ja);return n?l.createElement(Pr,C()({"aria-label":t,icon:Xa,onClick:o,telemetryProps:r},a),t.toLocaleUpperCase()):l.createElement(Rr,C()({"aria-label":t,href:T.B6,icon:Xa,target:"_blank",telemetryProps:r},a),t.toLocaleUpperCase())},ei=e=>l.createElement(c.k,{as:"button","aria-disabled":!0,buttonType:u.L$.Tertiary,className:or},e.actionText.toLocaleUpperCase()),ti=e=>l.createElement(c.k,{as:"button","aria-disabled":!0,buttonType:u.L$.Tertiary,className:ar},e.actionText.toLocaleUpperCase()),ni=e=>l.createElement(Pr,{"aria-disabled":!0,icon:Fr,telemetryProps:{}},e.actionText);const ri=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1536 256h384v384h-128V475l-456 456-91-91 456-456h-165V256zm0 1280v-512l128-128v768H0V512h1280l-128 128H128v896h1408z"}))},oi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,buttonLabel:r,storeLink:o,telemetryProps:a}=e;return t?l.createElement(c.k,C()({as:"button","aria-label":r,buttonType:n,className:s()([rr,lr,P.uo]),onClick:()=>t()},(0,S.iZ)(a)),r.toLocaleUpperCase()):l.createElement(c.k,C()({as:"a","aria-label":r,buttonType:n,className:s()([rr,lr,P.uo]),href:o,target:"_blank"},(0,S.iZ)(a)),r.toLocaleUpperCase())},ai=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,buttonLabel:r,storeLink:o,telemetryProps:a}=e;return t?l.createElement(c.k,C()({as:"button","aria-label":r,buttonType:n,className:s()([ur,lr]),onClick:()=>t()},(0,S.iZ)(a)),r.toLocaleUpperCase()):l.createElement(c.k,C()({as:"a","aria-label":r,buttonType:n,className:s()([ur,lr]),href:o,target:"_blank"},(0,S.iZ)(a)),r.toLocaleUpperCase())},ii=e=>{let{actionOverride:t,buttonLabel:n,storeLink:r,telemetryProps:o}=e;return t?l.createElement(Pr,{icon:ri,onClick:()=>t(),telemetryProps:o},n):l.createElement(Rr,{href:r,icon:ri,target:"_blank",telemetryProps:o},n)};n(14121);const si=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M384 640V384h256v256H384zM128 896V128h768v768H128zm128-640v512h512V256H256zm128 1408v-256h256v256H384zm-256 256v-768h768v768H128zm128-640v512h512v-512H256zm1408-896v256h-256V384h256zm-512-256h768v768h-768V128zm640 640V256h-512v512h512zm-640 768h128v128h-128v-128zm256-256h-128v128h-128v-256h256v128zm256-128v128h-128v-128h128zm-128 128v256h-256v-128h128v-128h128zm-256 384h256v128h-128v128h-256v-128h128v-128zm256 256v-128h256v128h-256zm384-128h-128v-256h128v256zm-128-512v-128h128v256h-128v128h-128v-256h128zm-256 384v-128h128v128h-128z"}))};var li=n(20536);const ci=async e=>{const t=await e.acquireTokenSilently(E.Q7.MDollar);return t?(0,E.Wg)(t):null},ui=[un,"XEWeb","XENative","XETest"],di=e=>{const{productId:t="",skuId:n,availabilityId:r,trackingParams:o,setIsLoading:a,orderDetails:i,onCloseButtonClick:s,clientType:c,offerId:u,themeOverride:d,scenario:h}=e;(0,S.Li)("ContextualStoreRedeem",S.uZ.Overlay,{productInfo:{id:t,sku:n}});const m=()=>{a(!1)},p=(0,E.Tv)(),f=(0,v.useSelector)(g.gzb),_=(0,l.useRef)(null),y=(0,v.useSelector)(g.yWe),b=(0,S.Qc)(),C=(0,v.useSelector)(E.t_),[T,A]=(0,l.useState)(!1);return(0,l.useEffect)((()=>{b.logAppAction({action:kn.RedeemStarted})}),[]),(0,l.useEffect)((()=>{const e=(0,li.makeWindowListener)({done:e=>{const o=e.orderId,a=e.orderLineItems&&e.orderLineItems.length>0?e.orderLineItems[0]:e.orderInfo,l=(null===a||void 0===a?void 0:a.productId)||t,c=(null===a||void 0===a?void 0:a.skuId)||n,u=(null===a||void 0===a?void 0:a.availabilityId)||r;switch(e.status){case"cancelXButton":b.logAppAction({action:kn.RedeemCanceled}),s();break;case"cancel":b.logAppAction({action:kn.RedeemCanceled}),i.onCancel(l,c,u,o);break;case"success":b.logAppAction({action:kn.RedeemSuccessful}),i.onSuccess(l,c,u,o);break;case"error":{const t=e,n=_n.PurchaseError;b.logAppAction({action:kn.RedeemFailed}),i.onError(l,n,c,u,o,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{i.onOpenUrl?i.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,l.useEffect)((()=>{var e;T||(a(!1),async function(e,t,n,r,o,a,i,s,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:un,d=arguments.length>11&&void 0!==arguments[11]?arguments[11]:Cn.Redeem,h=arguments.length>12?arguments[12]:void 0;const m=e=>{s(!1),l(e)};if(!e)return void m(new Error("Failed to load frame."));if(d===Cn.BuddyPass&&!i)return void m(new Error("No ProductId provided for Buddy Pass scenario."));let p;try{p=n?(0,E.Wg)(n):await ci(t)}catch(v){return void m(v)}if(!p)return void m(new Error("Unable to get token silently."));const f=["sc_xboxgamepad","sc_xboxspinner","sc_xboxclosebutton","sc_xboxuiexp","sc_disabledefaultstyles"];d===Cn.BuddyPass&&f.push("sc_buddypass");await(0,li.invokeRedeemNowInFrame)(e,{authToken:"",locale:r.localeWithScript,market:r.market,cV:o,layout:"Modal",clientType:u,cssOverride:"XboxCom2NewUI",xToken:p,productId:i,skuId:c,theme:a===g.Q2A.Dark?"dark":"light",campaignOptions:{flights:f},scenario:d,offerId:h,suppressRedeemThankYouPage:!0})||m(),s(!0)}(_.current,p,C,y,null!==(e=null===o||void 0===o?void 0:o.cV)&&void 0!==e?e:b.cv().get(),null!==d&&void 0!==d?d:f,t,m,(()=>{b.logAppAction({action:kn.RedeemFailed}),i&&i.onError(t,_n.PurchaseError,n,r)}),n,(e=>!!e&&ui.includes(e))(c)?c:un,h,u),A(!0))}),[T]),l.createElement("iframe",{key:"redeem-sdk-iframe",title:"Redeem Frame",name:"redeem-sdk-hosted-iframe",ref:_,className:"ContextualStoreRedeem-module__redeemFrameNewUi___p2HwD"})};var hi=n(30434);var mi=n(16454),pi="ThankYouPage-module__actionContainer___YBSpg",gi="ThankYouPage-module__contentContainer___qsj94",fi="ThankYouPage-module__fontBold___Zqif6",vi="ThankYouPage-module__heroButton___JyuUt",_i="ThankYouPage-module__imageContainer___AYQH7",yi="ThankYouPage-module__marginTop1___dmTdI",bi="ThankYouPage-module__marginTop2___X1SGq",Ci="ThankYouPage-module__productImage___H9mHZ",Ei="ThankYouPage-module__subscriptionRow___s5pxV",Si="ThankYouPage-module__thankYou___2NMnQ";const Ti=e=>{const{isPreorder:t,className:n,contentClassName:r,mainMessageClassName:o,secondaryMessageClassName:a}=e,[i,c,u,d]=(0,f.QF)("fincastleThankYouPrimaryMessage","fincastleThankYouSecondaryMessage","fincastleThankYouPrimaryMessagePreOrder","fincastleThankYouSecondaryMessagePreOrder");return l.createElement("div",{className:n},l.createElement("div",{className:s()("CardPoints-module__contentContainer___qDR8Y",r)},l.createElement("p",{className:o},t?u:i),l.createElement("p",{className:a},t?d:c)))},Ai=e=>{const{productId:t,skuId:n,referringProductId:r,scenario:o,setIsLoading:a,onClose:i,onError:u,xboxCardUsedForPurchase:d}=e;(0,S.Li)("ContextualStoreThankYou",S.uZ.Overlay,{productInfo:{id:t,sku:n}});const[h,m,p,_,y,b,C,T,A,w,k,I,x,N,O]=(0,f.QF)("closeButtonText","successText","successTextAccessibilityTemplate","successGamePassTextAccessibilityTemplate","giftProductThankYouTitle","giftProductRecipientGettingSoon","giftProductTrackOrderAtText","giftAccountsLinkText","productThankYouText","productAvailableToYouText","subscriptionThankYouText","gamerPicAltText","downloadXboxAppText","gamePassUltimateLogoAltText","preorderProductAvailableUponReleaseText"),L=(0,v.useDispatch)(),M=(0,v.useSelector)((e=>(0,mi.zF)(e,t,n))),D=Pn(g.vCX.EnableBuyNowXboxUiExp),U=(0,v.useSelector)(E.bG),F=(0,l.useRef)(null);if((0,l.useEffect)((()=>{var e;null===(e=F.current)||void 0===e||e.focus()}),[]),(0,l.useEffect)((()=>{a(!1),L(an.I.getProductDetailById.start(t,u))}),[t]),(0,W.useBackHandler)((0,l.useCallback)((()=>(i(),!1)),[i])),!M)return null;const B=M.product,H=M.sku,q=(0,G.wF)(B,H),z=(0,G.SP)(B,H),X=(0,G.Ie)(B,H),$=(0,G.Xx)(B,H),V=(0,g.WUZ)(p,$),K=(0,g.WUZ)(_,$),j=o===bn.Gift,Z=t===G.Os,Y=t===G.Cv,Q=null===U||void 0===U?void 0:U.gamerTag,J=null===U||void 0===U?void 0:U.gamerPicUrl,ee=null===H||void 0===H?void 0:H.isPreorder,te=!j&&(B.productFamily===G.fO.Subscription||B.productFamily===G.fO.Passes),ne=te?"ThankYouPage-module__gamepassBg___qNLdm":"ThankYouPage-module__productBg___IlsyC",re=new URL(g.vPf),oe=new URLSearchParams(re.search);r&&oe.append("productId",r),re.search=oe.toString();const ae=()=>d?s()(pi,ee?"ThankYouPage-module__actionContainerPreOrderXboxCard___4Mdb9":"ThankYouPage-module__actionContainerXboxCard___NVpw-"):pi,ie=()=>l.createElement(Ti,{className:"ThankYouPage-module__cardPoints___D3CFZ",contentClassName:"ThankYouPage-module__cardPointsContentContainer___0DC5T",mainMessageClassName:"ThankYouPage-module__cardPointsMainMsg___3PMqI",secondaryMessageClassName:"ThankYouPage-module__cardPointsSecondaryMsg___xODkM",isPreorder:!!ee});return l.createElement("div",{className:s()(ne,"ThankYouPage-module__rootContainer___td6I6",D?"ThankYouPage-module__enableBuyNowXboxUiExp___ZLR2r":void 0,te?"ThankYouPage-module__subscriptionRootContainer___yeBhh":void 0,d?"ThankYouPage-module__xboxCardRootContainer___Qvfqh":void 0,ee?"ThankYouPage-module__preOrderContainer___pMJca":void 0)},D&&!te&&l.createElement("div",{className:"ThankYouPage-module__heroContainer___qXtlg"},l.createElement(R.Ee,{className:"ThankYouPage-module__heroImage___e+RSq",src:null===q||void 0===q?void 0:q.url,width:600,height:640,alt:null===q||void 0===q?void 0:q.caption,hideShadow:!0,fluid:!0}),l.createElement("div",{className:"ThankYouPage-module__heroLinearGradient___EozWi"})),te&&l.createElement(l.Fragment,null,l.createElement("div",{className:_i},U&&l.createElement(R.X2,{className:s()("ThankYouPage-module__gamerPicRow___veH2x",Ei)},l.createElement(hi.pp,{className:"ThankYouPage-module__gamerPic___GWq6X",src:J,"aria-label":I,size:hi.nh.Large})),Z&&l.createElement(R.Ee,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAcCAYAAABWFFBUAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAcaADAAQAAAABAAAAHAAAAAAF5gC+AAAKpklEQVRoBe1aW4yVSRGeK3PjJpCAuAwzYwRdFyWwIRPHVdQHCcZEYWMgAbNBHjQ+YEg0JhAeDDzIg4kSHkQgyAsJCTdxIbBkYVFcBpaLCSG7sDOzMkBGCHfmeuac4/fV6a+3T5//zGG9wcNUUqe6q6qrq7q6q/sfKC/7GMo/bpaF7YA92nwBViAb+ZCtcgwljTTESH+0+5xXgAkM0dxhEpXACraz2WzKJKM/L+QKPH369PVx48YdgnNMZoZOMnEEnb7KXHf090Vdgd7eXh48HT47gGE5ZULV9zHgZPaiMyxGeXn5OLSV/DTkTyUDrYK8gf0S42wIdPrRGLJO6Z9q2K7HmD6o+moB3lj0ufkykD1JMON9cjKoZR8n6Jn9BH7KzelFmHMMOnWegQZ0BkAGQ94IbcUyYvyYpxY2akI7AwMDjNXiBfX3I7NJJpXHM8IQdu/e/V3wW4DNpIODg9ck7+vruwTeZ52s+eDBg69Ltm/fvu+Lz3GY/APJRM+fP/8zpzMTtBE4IwHJn3nmzJk3OO706dNvoE9fDLEz28mHXx+CRz+bgLI3c926da2UC6B/MdKjbtOJEydWSCekXV1dv4WcczUBTffw4cM+Tulevnz5l5Bzfs1dNJaTJ0/aXO3t7T+GflM0hvESm7q7u38n+6JXr179IWTjgUywnUidqHIw2FYfzRxkMhnKPMCY77u273slNNy4RJn0nI7mzHJYApJPjCGJR53QTnbTpk3/HBoa6tLg+/fvv+faeXqSx/TAgQNvOp73bcWKFRfT6fSdUDdai9C2Hwd98okhiBfqmTxcaw0YHh7mevHQ+bXVAkrHC8SoqKjgJGkgS2oaR9w74dqUmbympobUoKqqik5xjI3LcfN/XRKpx3EskUSWVyH7Nt75URbbDf2BrvkBGtoafvz48bvgGeBknUND8/l5qqur6UceoHpcXbt2bQeYw1OmTBmeNWsWdVKPHj1K3bt373iecq6jWOhz0Vg0l4tFvshnxVzgD6dwSWSefK5KJtFNKKc4QQxeFibRtb0sWmyz0dra+mvstveBHcB/LFmyhDvMFraxsXEYvG7gR8BO6G7nIBe4D1h2HdV8gxcvXpwtW7dv3z7DsYDszp0720FTKGmzQHmHEYfGjBnDxcwDlDOeQrOJa6Vxz549splCWdMJtTFz5879FfxULB+tWbOG5c5vEsg+VCxtbW1/5KAgFtPDptkNnRvALuD1GTNm/MSMl/iJk1igHu38YS0aFaNTmqqvr2fABrW1tVwU9oU5Qf4vazofCYbjx4/nKbfd7BbVy8C3R5fbVKFtiDzYgqOXamlp0YIPHTp06B1qoKxe27Vr1z0258yZ8zL1HA6HGxA8Qnbv3r1/AjWdBQsWvAqbX1QfJfWvqCT3qeggLxbYYxw6mfS3Bqh4LJaEte1H8nqF0PdVD+2iUDKJbtHkEGkMcjRTWVnpJw0SbGPD5McG1MdO9P64UitRTJXsjMqsU/B8bKgvg8fFS2/YsKEnlUp9gIfYWfSZ6PTYsWMpLxoXdC+vX7++m7pEfJu1NTQ0zHdj0rdu3WJZPYZ+IuCh5WOBgi99CcreZyR+JeJpAX4e+CX6kKBfwAonKhCS4RLDiYSxHvmELCZW+1nG5UYFv/39/Syn9Knc1f5AmmtGyfXzuU3i+/ClCa/ISRhlmwwb5C8PHz78G/rppqamLDYnEyL9bLgBOdPNmzcPU9ch9Rfi5HyTMoDZvHbt2pFct/DXJdFigTRxnYNY6Iew0FgJTqLxcAx2H7/DQmD9NsCx564m2GJAl09fA7zeRtp9UsujCFxJrEAS2S6AZ7DLeS0ulMBWZyDz5MmTd3GP2aMGL86XkXR+71JX6FSNZHbs2KEkZo4cOfIZxHoX+PD48eOfhgbjzaxevfodJCLpm7Ms2JD0JXGdXRLjdQqTGcvMufjHanPMDPvTp09/Kejze+w6duUr5KHdBWIJZH/ChAmNpP8uuNNnAQe7NMlcseCUEP75sBwl8DUMZsnL9PT0/H3lypWdNIZH01dIAYmLy7K7efPmHsh5EjOLFy9mWdUYNA3SV65cGcTmeAtxLxVTFOVbyeP6JM4jXVGM2YfT/i31QRM3ciC3ZknjeGy0QFOLlsVO3IzS9B6wff/+/b+BjKXFEol7iLoxUEbkpd0XIF+FnxhKJFf2zF/cMQsdIzt//vz38Y1ovuI+bHN8n3QNJMWrlA8aJtDuT1CLD5SgeGgr3dnZmVhSg4qhtbPB4U8Qi3T4iOK6DGKdhoDPtEYlkzh16tRlePrXu8mzS5cuvV5XV/cd4PdWrVrFnc1gyjZu3DgBO3+Z0wsJg87gtflt3FOzeWEDXz127NgvQqX/YtsSgwXi63nO9u3bJzvbWnzeb1/FAlGP8dsCQleJSm3ZsuXP4NspBM3im/AHwGV3795dDrocawK2JTOD78i3YYt/mvyPAX4tR5l/CdgMf2bjdZy0ngXzlEwijE3dtm3bzzFSu0U7lLuGOzUzceLEMnwXrcfkn9IMbpdpjO1ap2/fRDgluk81JPwrj5VDLyhs0K7QpC4p4lUoSYsWLfo6FJSs8nPnzn0Bfk5xJsk31KnAXXZ669at/HSgz9kLFy7MnjRp0g7gH/DBv40U1YjXCefKnjp1qh8l9W20k0D+kBaDYjraVMXGeX7JJFJz8uTJP0Vwe48ePfo5JgxgScHdUnb27NlX7ty58yZK1GoKBMGdoAA4hokjppI+rt1CalETfQvuTenJPqcmj/dIpUtiGfxd6Hi8/yubm5u/Bso/WHOc8UArVP5u3LjBUiqoQIzfUEd02rRpr6HNeczHjo6Oo5KJxn6KH9IEnTCWvNd+OC5ucxCRDlUD6xAcP4ZHgl5Mfh0KtbiEm0H5EZsEA7CVwa7P21FaXPA5Z95YyPhXfa8PHZVxbx86vCdYDQygw7+McDEhsvHi0zbnoO6AMXM//OBmrKZP/wAg5bRRizZ1ueHKKAOhnfgByCpkr3SORbsCuvTDA/glY4Ey7768P2XKgLNbCbt5a3Tp0qUfzZs37yD06Cd9SMfO+QWUsQTagOTNTeDHrFo4EPO4MAU8MSDL++cd8UMaBxXIICpMOuRMpP3zWKDLptdHw4vQzkuGF+Q3uAmIReOBnZKxYHhNODftCYrxJQ+plYOQMdp+sVfAPcB42PyBC08imZkHDx78Hn9jrMIdwXvCJ5mDsTsS6zTvMh5/PQ64DLE+x5LvyoQ9YsIxzjmVMKqarmyzr/llizyCbMb8nDT3K/uhj5JTFvND/WJ+huNCHdqlLPRH8tBX6Wgu6Usnjh1/Vcrgzu6E+bwkso4QmSwmlPcFazCR5YKlSLVGA0UhMpANUTItYY7G+pRLV5S8kfQoFyTpSTYSlU+cMwTxyZMs5oV+Uk8+SE/ycLxk1CdIJ9fL/YZ2iulzHGX6KrDvSPR5H9rXgU4ilfR6ZELZp0KYRHSNT5oECkCy2CnxYxqOSxoTyjk2SSe2+b/oh34U86GUTij/JLFwPuaHieSjitQeX6D+vyyi7ZXsxYM+k8hJ44nBGoX/8wowiUok88IkipeXJCWMJ5Go5ImCNQrPcQWUNJ5Aovr+/8soUcXoc/R9dGq3AkwaoYAqaTlx7jeJF8pH289/BZRI8+RffoacsJshFlcAAAAASUVORK5CYII=",width:113,height:28,className:yi,alt:N})),l.createElement("div",{className:s()(gi)},l.createElement(R.X2,{className:s()(Ei,yi)},l.createElement("p",{className:"ThankYouPage-module__thanksForJoining___igWv1"},k)),U&&l.createElement(R.X2,{className:s()(Ei)},l.createElement("p",{className:"ThankYouPage-module__gamerTag___OsTkH"},`${Q}!`)),d&&ie(),l.createElement("div",{className:ae()},(Z||Y)&&(0,g.tdh)()?l.createElement(c.k,{as:"a",ref:F,"aria-label":K,className:s()(vi,bi),href:re.toString(),target:"_blank"},x):l.createElement(pn.K,{as:"button",ref:F,"aria-label":V,className:s()(vi,bi),onClick:i},h)))),!te&&l.createElement(l.Fragment,null,l.createElement("div",{className:_i},D?l.createElement(R.Ee,{src:null===z||void 0===z?void 0:z.url,className:s()(Ci,yi,"ThankYouPage-module__productImageUiExp___OPoUU"),alt:null===z||void 0===z?void 0:z.caption,width:152,height:228,fluid:!0}):l.createElement(R.Ee,{src:null===X||void 0===X?void 0:X.url,className:s()(Ci,yi),alt:null===X||void 0===X?void 0:X.caption,width:108,height:108,fluid:!0})),l.createElement("div",{className:s()(gi)},l.createElement("div",{className:"ThankYouPage-module__tyTextContainer___nXZuA"},j?l.createElement("p",{className:s()(P.a2,"ThankYouPage-module__giftTitle___uxVBS")},y):l.createElement("p",{className:"ThankYouPage-module__success___jnCaK"},m),l.createElement("p",{className:s()(Si,fi)},A),l.createElement("p",{className:Si},j?b:ee?O:w)),d&&ie(),l.createElement("div",{className:j?"ThankYouPage-module__giftActionContainer___Wm87V":ae()},l.createElement(pn.K,{as:"button",ref:F,"aria-label":V,className:s()(vi,d?yi:bi,fi,D?"ThankYouPage-module__uiExpHeroButton___UocfF":void 0),onClick:i},h),j&&l.createElement(R.X2,{id:"TrackOrderContainer",className:s()("ThankYouPage-module__trackOrderContainer___vIXiC")},l.createElement("p",{className:s()(P.gC,"ThankYouPage-module__trackOrderMessage___tIN-b")},(0,g.vvg)(C,l.createElement("a",{"aria-labelledby":"TrackOrderContainer",className:s()(nt.Xs,P.gC),href:g.vXL,target:"_blank",rel:"noopener noreferrer"},T))))))))};const wi=e=>({productId:e||"",status:_n.Canceled}),ki=e=>{let{contentRef:t,showModal:n,onClose:r}=e;const o=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp))),[a,i]=(0,l.useState)(!0),[s,c]=(0,l.useState)(!1),[u,d]=(0,l.useState)(wi()),h={onCancel:(e,t,n,o)=>{d({productId:e||"",orderId:o||"",status:_n.Canceled,skuId:t,availabilityId:n}),r(u)},onError:(e,t,n,o,a,i)=>{d({productId:e,orderId:a||"",status:t,skuId:n,availabilityId:o,error:i}),r(u)},onSuccess:(e,t,n,r)=>{c(!0),i(!1),d({status:_n.Purchased,productId:e||"",availabilityId:n,skuId:t,orderId:r})}};return l.createElement(l.Fragment,null,l.createElement(R.u_,{show:n,fullscreenOnMobile:o},l.createElement(R.u_.Body,{className:(0,R.W0)("padding","all",0)},l.createElement(fn,{value:{activateStoreExperiments:!0}},l.createElement("div",{ref:t,className:"RedeemCodeModal-module__modalContainer___4E9L+"},s?l.createElement(Ai,{productId:u.productId,skuId:u.skuId,scenario:bn.BuyNow,setIsLoading:i,onError:e=>{r(C()({error:e},u))},onClose:()=>{c(!1),d(wi()),r(u),window.location.reload()},xboxCardUsedForPurchase:!1}):l.createElement(di,{setIsLoading:i,onCloseButtonClick:()=>r(u),clientType:"XboxCom",themeOverride:g.Q2A.Dark,scenario:Cn.Redeem,orderDetails:h}))),a&&l.createElement("div",{className:"RedeemCodeModal-module__progressContainer___PTa75"},l.createElement(R.X2,{className:"RedeemCodeModal-module__progressIconAlignment___lkjyG"},l.createElement(R.dj,null))))))},Ii=e=>{const[t,n]=(0,l.useState)(!1),r=(0,f.iV)("redeemACodeButtonLabel"),o=(0,S.EW)(),a=(0,v.useSelector)(E.yB),i=(0,g.$wQ)(),s=(0,S._d)({behavior:S.cg.SHOW,contentName:r,id:"RedeemCodeModalButton",slotNumber:e.slotNumber},o),c={buttonId:"RedeemCodeModalButton",buttonType:e.buttonType,redeemCodeLabel:r,slotNumber:e.slotNumber,telemetryProps:s,onClick:()=>{if(a)e.actionOverride?e.actionOverride():n(!0);else{const e=new URL(window.location.toString()),t=i(e.toString());window.location.assign(t)}}};let u;switch(e.experienceButtonType){case Mn.Ug.Desktop:u=l.createElement(Pi,C()({},c));break;case Mn.Ug.CondensedDesktop:u=l.createElement(Ri,C()({},c));break;case Mn.Ug.Mobile:u=l.createElement(xi,C()({},c));break;case Mn.Ug.Overflow:u=l.createElement(Ni,C()({},c))}return u?l.createElement(l.Fragment,null,u,l.createElement(ki,{onClose:()=>n(!1),showModal:t})):null},Pi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(Je.$,C()(C()({as:"button","aria-label":n,buttonType:t,className:s()([cr,lr]),icon:si,title:n},(0,S.iZ)(r)),{},{onClick:o}))},Ri=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(c.k,C()(C()({as:"button","aria-label":n,buttonType:t,className:s()([rr,lr,P.uo])},(0,S.iZ)(r)),{},{onClick:o}),n.toLocaleUpperCase())},xi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(c.k,C()(C()({as:"button","aria-label":n,buttonType:t,className:ur},(0,S.iZ)(r)),{},{onClick:o}),n.toLocaleUpperCase())},Ni=e=>l.createElement(Pr,{icon:si,onClick:e.onClick,telemetryProps:e.telemetryProps},e.redeemCodeLabel),Oi="https://redeem.microsoft.com",Li="_blank",Mi=e=>{const t=(0,f.iV)("redeemACodeButtonLabel"),n=(0,S.EW)(),r=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:t,id:"RedeemCodeHrefButton",slotNumber:e.slotNumber},n),o={buttonId:"RedeemCodeHrefButton",buttonType:e.buttonType,redeemCodeLabel:t,slotNumber:e.slotNumber,telemetryProps:r};switch(e.experienceButtonType){case Mn.Ug.Desktop:return l.createElement(Di,C()({},o));case Mn.Ug.CondensedDesktop:return l.createElement(Ui,C()({},o));case Mn.Ug.Mobile:return l.createElement(Fi,C()({},o));case Mn.Ug.Overflow:return l.createElement(Bi,C()({},o));default:return null}},Di=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return l.createElement(Je.$,C()({as:"a","aria-label":n,buttonType:t,className:s()([cr,lr]),href:Oi,icon:si,target:Li,title:n},(0,S.iZ)(r)))},Ui=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:t,className:s()([rr,lr,P.uo]),href:Oi,target:Li},(0,S.iZ)(r)),n.toLocaleUpperCase())},Fi=e=>{const{buttonType:t=u.L$.Primary,redeemCodeLabel:n,telemetryProps:r}=e;return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:t,className:ur,href:Oi,target:Li},(0,S.iZ)(r)),n.toLocaleUpperCase())},Bi=e=>l.createElement(Rr,{href:Oi,icon:si,target:Li,telemetryProps:e.telemetryProps},e.redeemCodeLabel);const Hi=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M0 384h2048v128H0V384zm0 1152v-128h2048v128H0zm0-512V897h2048v127H0z"}))};const qi=["onComplete","showModal","title"],Gi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,telemetryProps:r,title:o}=e;return t?l.createElement(c.k,C()({as:"button","aria-label":o,buttonType:n,className:s()([rr,lr,P.uo]),onClick:()=>t()},(0,S.iZ)(r)),o.toLocaleUpperCase()):l.createElement(Bo,C()(C()({},e),{},{buttonAccessibilityLabel:o,preferSkuValues:!0,telemetryProps:r,title:o.toLocaleUpperCase()}))},zi=e=>{const{actionOverride:t,buttonType:n=u.L$.Primary,listItemAccessibilityFormat:r,productIdentifiers:o,telemetryProps:a,title:i}=e,[s,d]=(0,l.useState)(!1),h=(0,l.useRef)(null),m=(0,l.useRef)(null),p=(0,Y.mG)(s,(()=>d(!1)),h,m);return l.createElement(l.Fragment,null,l.createElement(c.k,C()({as:"button","aria-label":i,buttonType:n,className:ur,onClick:t?()=>t():()=>d(!0),ref:h},(0,S.iZ)(a)),i.toLocaleUpperCase()),l.createElement($i,{listItemAccessibilityFormat:r,contentRef:m,onComplete:p,productIdentifiers:o,showModal:s,telemetryProps:a,title:i}))},Xi=e=>{const{actionOverride:t,listItemAccessibilityFormat:n,productIdentifiers:r,telemetryProps:o,title:a}=e,[i,s]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(Pr,{"aria-label":a,onClick:t?()=>t():()=>s(!0),icon:Hi,telemetryProps:o},a),l.createElement(Cr,null,(e=>l.createElement($i,{listItemAccessibilityFormat:n,onComplete:()=>{e.closeDialog(),s(!1)},productIdentifiers:r,showModal:i,telemetryProps:o,title:a}))))},$i=e=>{const{onComplete:t,showModal:n,title:r}=e,o=V()(e,qi);return l.createElement(l.Fragment,null,n&&l.createElement(R.u_,{className:"SkuSelectorButton-module__modal___oaP9J",closeable:!0,onHide:t,show:n},l.createElement("h6",{className:P.S7},r),l.createElement(Uo,C()(C()({},o),{},{preferSkuValues:!0}))))};const Vi=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1887 1856q0 40-15 75t-41 61-61 41-75 15H354q-40 0-75-15t-61-41-41-61-15-75q0-27 6-51t21-47l569-991v-1q10-14 10-34V128H640V0h768v128h-128v604q0 20 10 34v1l569 991q14 23 21 47t7 51zM538 1408h972l-331-577q-27-46-27-99V128H896v604q0 53-27 99l-331 577z"}))},Wi=["buttonRef","onClick"],Ki=e=>{const t=ji(e),n=(e=>{let{actionArguments:t}=e;const n=(0,l.useRef)(null),r=(0,l.useRef)(null),[o,a]=(0,l.useState)(!1),{[T.Uh.ProductId]:i,[T.Uh.SkuId]:s,[T.Uh.AvailabilityId]:c}=t,u=(0,v.useSelector)(E.yB),d=(0,g.$wQ)(),h=(0,g.IzA)(),m=(0,Y.mG)(o,(e=>{(null===e||void 0===e?void 0:e.status)===_n.Purchased?window.location.reload():a(!1)}),n,r);return{productId:i,skuId:s,availabilityId:c,showModal:o,buttonRef:n,contentRef:r,onClick:()=>{if(u)a(!0);else{const e=(0,g.kgH)(i)===G.Cv?h(window.location.href):d(window.location.href);window.location.assign(e)}},onResult:m}})(e),{buttonRef:r,onClick:o}=n,a=V()(n,Wi);if(!t)return null;const i=e.actionOverride?()=>e.actionOverride(e.actionArguments):o,{buttonType:s,experienceButtonType:c}=e;let u;switch(c){case Mn.Ug.Desktop:u=Zi;break;case Mn.Ug.CondensedDesktop:u=Yi;break;case Mn.Ug.Mobile:u=Qi;break;case Mn.Ug.Overflow:u=Ji;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(u,C()(C()({},t),{},{buttonType:s,buttonRef:r,onClick:i})),l.createElement(Xr,C()({hasAddOns:t.hasAddOns,experience:yn.Purchase},a)))},ji=e=>{let{actionArguments:t,slotNumber:n,experienceButtonType:r}=e;var o;const a=(0,S.Fj)(),i=(0,S.EW)(),{[T.Uh.ProductId]:s,[T.Uh.AffirmationProductId]:l}=t,[c,u,d,h,m]=(0,f.QF)("getActionText","getActionAccessibilityText","freeTrial","freeTrialUpsellFormat","commaSeparatorTemplate"),p=(0,v.useSelector)((e=>(0,At.RY)(e,s)));if(!p||!p.product)return a.warn(`Trial upsell button requested without valid values:\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!p}\nhasProduct: ${!!(null===p||void 0===p?void 0:p.product)}`),null;const _=l===G.OP;let y,b,C,E;l?(y=(0,G.KJ)(l),b=(0,G.jb)(l,!0),C=(0,g.WUZ)(h,r===Mn.Ug.Desktop&&y||r===Mn.Ug.Desktop&&_?"":b),E=(0,g.WUZ)(m,(0,g.WUZ)(u,p.product.title),(0,g.WUZ)(h,b))):(y=void 0,b="",C=d,E=(0,g.WUZ)(m,(0,g.WUZ)(u,p.product.title),C));const A=r!==Mn.Ug.Desktop?C:c,w=(0,S._d)({behavior:S.cg.PURCHASE,contentName:A,id:"TrialGetButton",slotNumber:n},i);return{accessibilityLabel:E,affirmationProductGlyph:y,hasAddOns:null===(o=p.product)||void 0===o?void 0:o.hasAddOns,subtitle:C,isUbisoftPlusAffirmation:_,telemetryProps:w,title:A}},Zi=e=>{let{title:t,subtitle:n,accessibilityLabel:r,affirmationProductGlyph:o,telemetryProps:a,isUbisoftPlusAffirmation:i,buttonType:s=u.L$.Primary,buttonRef:c,onClick:d}=e;return l.createElement(pr,{buttonRef:c,accessibilityLabel:r,buttonType:s,onClick:d,productGlyph:o,usesUbisoftSVG:i,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:a})},Yi=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,className:s()(rr,P.uo),ref:a,buttonType:o,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},Qi=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;const s=t.toLocaleUpperCase();return l.createElement(c.k,C()({as:"button",ref:a,"aria-label":n,buttonType:o,className:ur,onClick:i},(0,S.iZ)(r)),s)},Ji=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o}=e;return l.createElement(Pr,{"aria-label":n,onClick:o,icon:Vi,telemetryProps:r},t)},es=e=>{const t=ts(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case Mn.Ug.Desktop:o=ns;break;case Mn.Ug.CondensedDesktop:o=rs;break;case Mn.Ug.Mobile:o=os;break;case Mn.Ug.Overflow:o=as;break;default:return null}return l.createElement(o,C()(C()({},t),{},{buttonType:n}))},ts=e=>{let{actionArguments:t,upsellProductId:n,slotNumber:r,experienceButtonType:o}=e;const a=(0,S.Fj)(),i=(0,S.EW)(),{[T.Uh.ProductId]:s}=t,[l,c,u]=(0,f.QF)("upsellGetFormat","freeTrialUpsellFormat","inclusionUpsellButtonAccessibilityLabelFormat"),d=(0,v.useSelector)((e=>(0,At.RY)(e,s))),h=(0,G.jb)(n,!0),m=(0,T.GP)(n,s),p=(0,g.kgH)(n)===G.OP;if(!n||!h||!d||!d.product)return a.warn(`Trial upsell button requested without valid values:\nupsellProductId: ${n}\nupsellProductTitle: ${h}\nbaseProductId: ${s}\nhasProductSummaryInfo: ${!!d}\nhasProduct: ${!!(null===d||void 0===d?void 0:d.product)}`),null;const _=(0,G.KJ)(n),y=(0,g.WUZ)(c,o===Mn.Ug.Desktop&&(_||p)?"":h),b=o===Mn.Ug.Mobile||o===Mn.Ug.Overflow?y:(0,g.WUZ)(l,h);return{title:b,subtitle:y,accessibilityLabel:(0,g.WUZ)(u,h,d.product.title),isUbisoftPlusUpsell:p,upsellProductGlyph:_,upsellProductLink:m,telemetryProps:(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:b,id:"TrialUpsellButton",slotNumber:r},i)}},ns=e=>{let{title:t,subtitle:n,accessibilityLabel:r,isUbisoftPlusUpsell:o,upsellProductGlyph:a,upsellProductLink:i,telemetryProps:s,buttonType:c=u.L$.Primary}=e;return l.createElement(gr,{accessibilityLabel:r,buttonType:c,href:i,productGlyph:a,usesUbisoftSVG:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:s})},rs=e=>{let{accessibilityLabel:t,buttonType:n=u.L$.Primary,telemetryProps:r,title:o,upsellProductLink:a}=e;return l.createElement(c.k,C()({as:"a","aria-label":t,buttonType:n,className:s()(rr,P.uo),href:a},(0,S.iZ)(r)),o.toLocaleUpperCase())},os=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o,buttonType:a=u.L$.Primary}=e;const i=t.toLocaleUpperCase();return l.createElement(c.k,C()({as:"a","aria-label":n,buttonType:a,className:ur,href:r},(0,S.iZ)(o)),i)},as=e=>{let{title:t,accessibilityLabel:n,upsellProductLink:r,telemetryProps:o}=e;return l.createElement(Rr,{"aria-label":n,href:r,icon:Vi,telemetryProps:o},t)},is=["actionArguments"];n(82488),n(30390);var ss=n(82279),ls=n(51356);const cs=[G.Wy,G.Cv,G.Os,G.kE,G.OP,G.yd,G.Lm,G.pD],us=e=>e.filter((e=>cs.includes(e))).map(((e,t)=>l.createElement(Xt,{key:`subscriptionEditionCard-${e}`,productId:e,slotNumber:t}))),ds=e=>{let{channelId:t}=e;var n;const r=(0,f.UD)("includedInTheseSubscriptions"),o=(null===(n=(0,v.useSelector)((e=>(0,At.V4)(e,t))))||void 0===n?void 0:n.products.map((e=>e.productId)))||[],a=us(o);return(null===o||void 0===o?void 0:o.length)?l.createElement(R.EM,null,l.createElement(ft,{items:a,title:r})):null};const hs=e=>{let{contentRef:t,passProductIds:n,show:r=!1,onHide:o}=e;return(null===n||void 0===n?void 0:n.length)?l.createElement(R.u_,{show:r,onHide:o,closeable:!0,className:"IncludedInSubscriptions-module__modalContainer___1fcM6"},l.createElement(R.u_.Header,null,l.createElement(ms,null)),l.createElement(R.u_.Body,null,l.createElement(To.t8,null,l.createElement(ps,{passProductIds:n,contentRef:t})))):null},ms=()=>{const e=(0,f.UD)("includedInTheseSubscriptions");return l.createElement("h2",{className:s()(P.hO,"IncludedInSubscriptions-module__modalHeaderText___YccIQ")},e)},ps=e=>{let{passProductIds:t,contentRef:n}=e;const r=us(t);return l.createElement("ul",{className:"IncludedInSubscriptions-module__channelWrapper___7zrNb",ref:n},r.map(((e,t)=>l.createElement("li",{key:t},e))))},gs=["actionArguments","logger"],fs=["baseProductTitle","buttonTitle","buttonType","telemetryProps","upsellLink","upsellProductGlyph","upsellProductTitle","upsellUsesUbisoftLogo"],vs=["baseProductTitle","buttonTitle","buttonType","telemetryProps","saleDiscount","upsellLink","upsellProductGlyph","upsellProductTitle","upsellUsesUbisoftLogo"],_s=e=>{const t=e.actionArguments[T.Uh.UpsellProductId],n=(0,S.Fj)(),r=(0,f.iV)("upsellGetFormat"),o=(0,S.EW)(),a=(0,G.jb)(t,!0),i=e.actionArguments[T.Uh.ProductId],s=(0,T.GP)(t,i);if(!t||!a)return n.warn(`Upsell button requested without valid values:\nupsellProductId: ${t}\nupsellProductTitle: ${a}`),null;const c=(0,g.WUZ)(r,a),u={buttonId:"UpsellButton",buttonTitle:c,telemetryProps:(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:c,id:"UpsellButton",slotNumber:e.slotNumber},o),upsellProductId:t,upsellLink:s,upsellProductTitle:a};switch(e.experienceButtonType){case Mn.Ug.Desktop:return l.createElement(ys,C()(C()({},u),{},{actionArguments:e.actionArguments,buttonType:e.buttonType,logger:n}));case Mn.Ug.CondensedDesktop:return l.createElement(Es,C()(C()({},u),{},{buttonType:e.buttonType}));case Mn.Ug.Mobile:return l.createElement(Ss,C()(C()({},u),{},{buttonType:e.buttonType}));case Mn.Ug.Overflow:return l.createElement(Ts,C()({},u));default:return null}},ys=e=>{const{actionArguments:t,logger:n}=e,r=V()(e,gs),[o,a,i]=[t[T.Uh.ProductId],t[T.Uh.SkuId],t[T.Uh.AvailabilityId]],s=(0,v.useSelector)(g.yWe),c=(0,v.useSelector)((e=>(0,At.RY)(e,o,a,i))),u=(0,G.KJ)(e.upsellProductId),d=(0,g.kgH)(e.upsellProductId)===G.OP;if(!c||!c.product)return n.warn(`Upsell button requested without valid values:\nbaseProductId: ${o}\nbaseSkuId: ${a}\nbaseAvailabilityId: ${i}\nhasProductSummaryInfo: ${!!c}\nhasProduct: ${!!(null===c||void 0===c?void 0:c.product)}`),null;if(o&&a&&i){const t=c.availability;if(t&&t.price.listPrice<t.price.msrp){const n=(0,g.xGv)(t.price.msrp-t.price.listPrice,t.price.currency,s);return l.createElement(Cs,C()({baseProductTitle:c.product.title,experienceButtonType:e.experienceButtonType,saleDiscount:n,upsellProductGlyph:u,upsellUsesUbisoftLogo:d},r))}return n.warn(`Sale Upsell button requested with invalid availability:\nhasAvailability: ${!!t}\nlistPrice: ${null===t||void 0===t?void 0:t.price.listPrice}\nmsrp: ${null===t||void 0===t?void 0:t.price.msrp}`),null}return l.createElement(bs,C()({baseProductTitle:c.product.title,experienceButtonType:e.experienceButtonType,upsellProductGlyph:u,upsellUsesUbisoftLogo:d},r))},bs=e=>{const[t,n]=(0,f.QF)("upsellIncludedWithFormat","inclusionUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,buttonTitle:o,buttonType:a=u.L$.Primary,telemetryProps:i,upsellLink:s,upsellProductGlyph:c,upsellProductTitle:d,upsellUsesUbisoftLogo:h}=e,m=V()(e,fs);return l.createElement(gr,C()({accessibilityLabel:(0,g.WUZ)(n,d,r),buttonType:a,href:s,productGlyph:c,usesUbisoftSVG:h,subtitle:(0,g.WUZ)(t,c||h?"":d),telemetryProps:i,title:o.toLocaleUpperCase()},m))},Cs=e=>{const[t,n]=(0,f.QF)("upsellSaveWithFormat","saleUpsellButtonAccessibilityLabelFormat"),{baseProductTitle:r,buttonTitle:o,buttonType:a=u.L$.Primary,telemetryProps:i,saleDiscount:s,upsellLink:c,upsellProductGlyph:d,upsellProductTitle:h,upsellUsesUbisoftLogo:m}=e,p=V()(e,vs);return l.createElement(gr,C()({accessibilityLabel:(0,g.WUZ)(n,h,s,r),buttonType:a,href:c,productGlyph:d,usesUbisoftSVG:m,subtitle:(0,g.WUZ)(t,s,d||m?"":h),telemetryProps:i,title:o.toLocaleUpperCase()},p))},Es=e=>{const{buttonTitle:t,buttonType:n=u.L$.Primary,telemetryProps:r,upsellLink:o}=e;return l.createElement(c.k,C()({as:"a",buttonType:n,className:s()(rr,P.uo),href:o},(0,S.iZ)(r)),t.toLocaleUpperCase())},Ss=e=>{const{buttonTitle:t,buttonType:n=u.L$.Primary,telemetryProps:r,upsellLink:o}=e;return l.createElement(c.k,C()({as:"a",buttonType:n,className:ur,href:o},(0,S.iZ)(r)),t.toLocaleUpperCase())},Ts=e=>{const t=(0,G.Xm)(e.upsellProductId)||ls.Z;return l.createElement(Rr,{href:e.upsellLink,icon:t,telemetryProps:e.telemetryProps},e.buttonTitle)},As=e=>{const t=ws(e),[n,r]=(0,l.useState)(!1),o=(0,l.useRef)(null),a=(0,l.useRef)(null),i=(0,Y.mG)(n,(()=>{r(!1)}),o,a);if(!t)return null;if(1===t.upsellProductIds.length)return l.createElement(_s,C()(C()({},e),{},{actionArguments:C()(C()({},e.actionArguments),{},{[T.Uh.UpsellProductId]:t.upsellProductIds[0]})}));const{buttonType:s,experienceButtonType:c}=e;let u;switch(c){case Mn.Ug.Desktop:u=ks;break;case Mn.Ug.CondensedDesktop:u=Is;break;case Mn.Ug.Mobile:u=Ps;break;case Mn.Ug.Overflow:u=Rs;break;default:return null}return l.createElement(l.Fragment,null,l.createElement(u,C()(C()({},t),{},{buttonRef:o,buttonType:s,onClick:()=>{r(!0)}})),l.createElement(hs,{contentRef:a,onHide:i,passProductIds:t.upsellProductIds,show:n}))},ws=e=>{let{actionArguments:t,slotNumber:n}=e;const r=(0,S.Fj)(),o=(0,S.EW)(),{[T.Uh.ProductId]:a,[T.Uh.UpsellProductIdsList]:i}=t,s=i.split(";").filter((e=>0!==e.length)).map(g.kgH),[l,c,u,d,h,m]=(0,f.QF)("multiUpsellGet","multiUpsellIncludedIn","multiUpsellGetButtonAccessibilityLabelFormat","upsellGetFormat","upsellIncludedWithFormat","inclusionUpsellButtonAccessibilityLabelFormat"),p=(0,v.useSelector)((e=>(0,At.RY)(e,a)));if(!p||!p.product)return r.warn(`Multi upsell button requested without valid values:\nbaseProductId: ${a}\nhasProductSummaryInfo: ${!!p}\nhasProduct: ${!!(null===p||void 0===p?void 0:p.product)}`),null;let _,y,b,C,E;s.every((e=>G.gS.includes(e)))?(_=(0,g.WUZ)(d,G.IC),y=(0,g.WUZ)(h,""),b=(0,g.WUZ)(m,G.IC,p.product.title),C=R.E0.XboxGamepassInline,E=ss.Z):(_=l,y=c,b=(0,g.WUZ)(u,p.product.title),C=void 0,E=void 0);return{accessibilityLabel:b,subtitle:y,telemetryProps:(0,S._d)({behavior:S.cg.SHOW,contentName:_,id:"MultiUpsellButton",slotNumber:n},o),title:_,upsellProductIds:s,upsellProductGlyph:C,upsellProductIcon:E}},ks=e=>{let{title:t,subtitle:n,accessibilityLabel:r,upsellProductGlyph:o,telemetryProps:a,buttonType:i=u.L$.Primary,buttonRef:s,onClick:c}=e;return l.createElement(pr,{buttonRef:s,accessibilityLabel:r,buttonType:i,onClick:c,productGlyph:o,subtitle:n,title:t.toLocaleUpperCase(),telemetryProps:a})},Is=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return l.createElement(c.k,C()({as:"button","aria-label":n,className:s()(rr,P.uo),ref:a,buttonType:o,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},Ps=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,buttonType:o=u.L$.Primary,buttonRef:a,onClick:i}=e;return l.createElement(c.k,C()({as:"button",ref:a,"aria-label":n,buttonType:o,className:ur,onClick:i},(0,S.iZ)(r)),t.toLocaleUpperCase())},Rs=e=>{let{title:t,accessibilityLabel:n,telemetryProps:r,onClick:o,upsellProductIcon:a}=e;return l.createElement(Pr,{"aria-label":n,onClick:o,icon:a||ls.Z,telemetryProps:r},t)},xs=["actionArguments"];const Ns=function(e){var{title:t,titleId:n}=e,o=(0,r.__rest)(e,["title","titleId"]);return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":n},o),t?l.createElement("title",{id:n},t):null,l.createElement("path",{d:"M1024 564q-35-35-69-71t-69-71-72-64-79-53-89-36-102-13q-87 0-162 32t-132 89-89 132-33 163q0 84 31 159t91 135l774 774v181l-865-864Q82 981 41 881T0 672q0-75 19-144t55-130 85-110 110-85 130-55 145-20q84 0 149 19t119 52 105 81 107 103q56-56 106-103t105-80 120-53 149-19q112 0 211 43t173 116 117 173 43 212q0 109-41 208t-118 177l-97 97V972q62-61 94-136t33-164q0-88-32-163t-88-130-132-87-163-32q-85 0-150 27t-121 71-105 98-104 108zm640 588v384h384v128h-384v384h-128v-384h-384v-128h384v-384h128z"}))};var Os=n(65447);const Ls={[Mn.Zr.Acquisition]:e=>{var t;const{[T.Uh.ProductId]:n,[T.Uh.SkuId]:r,[T.Uh.AvailabilityId]:o,[T.Uh.IsUpgrade]:a,[T.Uh.IsDisabled]:i,[T.Uh.DisabledReason]:s}=e.actionArguments,c=(0,S.Fj)(),u=(0,v.useSelector)((e=>(0,At.RY)(e,n,r,o))),d=(0,v.useSelector)(E.yB),h=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)));let m=null;if(io(n,r,o,u,"Acquisition",c)){const c=u.availability.price,p=u.sku.recurrencePolicySummary,g=u.product.title,f={availabilityId:o,buttonType:e.buttonType,endDateUtcString:u.availability.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:u.product.hasAddOns,isDisabled:(0,Y.mU)(i)&&d,disabledReason:s,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0,price:c,productId:n,productSummaryInfo:u,recurrencePolicySummary:p,skuId:r,slotNumber:e.slotNumber,title:g},v=h&&(null===(t=null===c||void 0===c?void 0:c.xPriceOfferInfo)||void 0===t?void 0:t.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;m=u.sku.isPreorder?l.createElement(to,C()({},f)):0===c.listPrice?l.createElement(Jr,C()({},f)):(0,Y.mU)(a)||v?l.createElement(Qr,C()({},f)):(0,G.hz)(p)&&(null===p||void 0===p?void 0:p.isRecurring)?l.createElement(eo,C()({},f)):l.createElement(Yr,C()({},f))}return m},[Mn.Zr.AccountLink]:e=>{const t=Nr(e);if(!t)return null;const{buttonType:n,experienceButtonType:r}=e;let o;switch(r){case Mn.Ug.Desktop:o=Or;break;case Mn.Ug.CondensedDesktop:o=Lr;break;case Mn.Ug.Mobile:o=Mr;break;case Mn.Ug.Overflow:o=Dr;break;default:return null}return l.createElement(o,C()(C()({},t),{},{buttonType:n}))},[Mn.Zr.BuyToOwn]:e=>{const[t,n,r,o]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId],e.slotNumber],a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,At.RY)(e,t,n,r))),[s,c]=(0,f.QF)("buyToOwnActionText","buyToOwnActionAccessibilityText");let u=null;if(io(t,n,r,i,"BuyToOwn",a)){const{product:a,sku:d,availability:h}=C()({},i),m={productId:t,skuId:n,availabilityId:r,buttonType:e.buttonType,endDateUtcString:h.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:i.product.hasAddOns,price:h.price,recurrencePolicySummary:d.recurrencePolicySummary,slotNumber:o,title:a.title,productSummaryInfo:i,actionOverride:e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0};u=i.sku.isPreorder?l.createElement(to,C()({},m)):l.createElement(no,C()({actionAccessibilityLabelFormat:c,actionText:s,buttonId:"BuyToOwnButton"},m))}return u},[Mn.Zr.Cart]:e=>{const[t,n,r]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],o=(0,v.useDispatch)(),a=(0,v.useSelector)((e=>(0,At.GK)(e,t,n,r))),[i,s,c,u,d,h]=(0,f.QF)("actionErrorMessage","addToCartButtonAccessibilityLabelFormat","addToCartProcessingButtonAccessibilityLabelFormat","addToCartActionText","openCartButtonAccessibilityLabel","reloadPageRequestMessage"),m=(0,S.EW)(),[p,_]=(0,l.useState)(),[y,b]=(0,l.useState)(h),[E,A]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1),I=(0,v.useSelector)((e=>(0,At.RY)(e,t,n,r)));if(!I||!I.product||!t||!n||!r)return null;const P=(0,g.WUZ)(s,I.product.title),x=(0,g.WUZ)(c,I.product.title),N={productId:t,skuId:n,availabilityId:r,quantity:1},O=e=>{var t;k(!1),A(!0),e.reasons.length>0&&(_(null===(t=e.reasons[0].code)||void 0===t?void 0:t.toString()),b(e.displayMessage&&!e.displayMessage.isDefault?e.displayMessage.shortDescription:h))},L=()=>{k(!1)};let M={behavior:S.cg.ADDTOCART,contentName:P};a&&(M={behavior:S.cg.VIEWCART,contentName:d});const D=(0,S._d)(C()({id:"CartButton",slotNumber:e.slotNumber},M),m);return l.createElement(l.Fragment,null,l.createElement(ho,{actionAccessibilityLabel:P,actionIcon:lo.Z,actionLabel:u,buttonId:"CartButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:d,navigationHref:"/cart",navigationIcon:co,navigationLabel:d,onClick:()=>{k(!0),o(At.SA.addToCart.start({items:[N]},L,O))},processingAccessibilityLabel:x,showSpinner:w,slotNumber:e.slotNumber,state:a,telemetryProps:D}),E&&l.createElement(R.u_,{className:sr,closeable:!0,onHide:()=>A(!1),show:E,ariaLabel:i},l.createElement(qe,{errorCode:p,errorMessage:i,userRequestMessage:y})))},[Mn.Zr.CloudPlay]:e=>{const{[T.Uh.ProductId]:t,[T.Uh.UpsellProductId]:n,[T.Uh.CloudServiceUpsells]:r}=e.actionArguments,o=(0,l.useContext)(Vr),a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,At.RY)(e,t))),s=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMultiCloudPlayButton))),c=r?JSON.parse(r):void 0,u=1===(null===c||void 0===c?void 0:c.length)&&(0,g.Ypc)(c[0].ServiceId,G.Kf.geforcenow);if(!t||!i.product||!n&&!c||u&&!s)return a.warn(`Cloud play button requested without valid values:\nbaseProductId: ${t}\nhasProductSummaryInfo: ${!!i}\nhasProduct: ${!!(null===i||void 0===i?void 0:i.product)}\ncloudServiceUpsellObjects: ${c}\nupsellsOnlyHasNvidia: ${u}`),null;let d;return d=s&&c&&c.length>1&&o!==Mn.vm.ContextualStore?No:bo,l.createElement(d,C()(C()({},e),{},{baseProductId:t,cloudServiceUpsells:c,productSummaryInfo:i,upsellProductId:n}))},[Mn.Zr.EditionSelector]:e=>{const t=e.actionArguments[T.Uh.ProductId],n=(e.actionArguments[T.Uh.EditionIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:e,skuId:"",availabilityId:""}))),[r]=(0,f.QF)("editionSelectorButtonText"),o=(0,S.EW)(),a=(0,v.useSelector)((e=>(0,At.zF)(e,t)));if(!a||e.experienceButtonType!==Mn.Ug.Desktop)return null;const i=(0,S._d)({behavior:S.cg.SHOW,contentName:r,id:"EditionSelectorButton",slotNumber:e.slotNumber},o);return l.createElement(Bo,{buttonAccessibilityLabel:r,buttonId:e.buttonId,buttonType:e.buttonType,productIdentifiers:n,subTitle:a.product.title,telemetryProps:i,title:r.toLocaleUpperCase()})},[Mn.Zr.Extend]:e=>{var t;const[n,r,o]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],a=(0,S.Fj)(),i=(0,v.useSelector)((e=>(0,At.RY)(e,n,r,o))),[s,c]=(0,f.QF)("extendActionText","extendActionAccessibilityLabelFormat");let u=null;if(io(n,r,o,i,"Extend",a)){const a=i.availability,d=e.actionOverride?()=>e.actionOverride(e.actionArguments):void 0;u=l.createElement(no,{actionText:s,actionAccessibilityLabelFormat:c,availabilityId:o,behavior:S.cg.RENEWSUBSCRIPTION,buttonType:e.buttonType,buttonId:"ExtendButton",endDateUtcString:a.endDateUtc,experienceButtonType:e.experienceButtonType,hasAddOns:i.product.hasAddOns,iconOverride:Ur,price:a.price,productId:n,productSummaryInfo:i,recurrencePolicySummary:null===(t=i.sku)||void 0===t?void 0:t.recurrencePolicySummary,slotNumber:e.slotNumber,skuId:r,title:i.product.title,actionOverride:d})}return u},[Mn.Zr.Gift]:e=>{const[t,n]=(0,l.useState)(!1),[r,o,a]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId],e.actionArguments[T.Uh.AvailabilityId]],i=(0,f.iV)("giftActionAccessibilityLabelFormat"),s=(0,v.useSelector)((e=>(0,At.RY)(e,r))),c=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),u=(0,S.EW)(),d=(0,v.useSelector)(E.yB),h=(0,g.$wQ)(),m=(0,g.IzA)();if(!s||!s.product||!r)return null;const p=(0,g.WUZ)(i,s.product.title),_=(0,S._d)({behavior:S.cg.INTENTTOBUY,id:"GiftButton",contentName:p,slotNumber:e.slotNumber},u),y={accessibilityLabel:p,availabilityId:a,buttonId:"GiftButton",buttonType:e.buttonType,productId:r,slotNumber:e.slotNumber,showModal:t,skuId:o,enableReactGiftFlow:c,telemetryProps:_,hideModal:()=>n(!1),onClick:()=>{if(e.actionOverride)e.actionOverride();else if(d)n(!0);else{const e=(0,g.kgH)(r)===G.Cv?m(window.location.href):h(window.location.href);window.location.assign(e)}}};switch(e.experienceButtonType){case Mn.Ug.Desktop:return l.createElement(qo,C()({},y));case Mn.Ug.CondensedDesktop:return l.createElement(Go,C()({},y));case Mn.Ug.Mobile:return l.createElement(zo,C()({},y));case Mn.Ug.Overflow:return l.createElement(Xo,C()({},y));default:return null}},[Mn.Zr.Install]:e=>{let{actionArguments:t,slotNumber:n,buttonType:r,experienceButtonType:o}=e;const[a,i]=[t[T.Uh.ProductId],t[T.Uh.UpsellProductId]],s=(0,Y.mU)(t[T.Uh.IsTrial]),[c,u]=(0,l.useState)(!1),d=()=>u(!0),h=()=>u(!1),m=(0,v.useSelector)((e=>(0,At.RY)(e,a))),p=(0,v.useSelector)((e=>(0,Ma.ik)(e,a))),g=(0,f.iV)("installButtonText"),_=(0,S.EW)(),y=(0,l.useRef)(null),b=(0,l.useRef)(null),E=(0,Y.mG)(c,h,y,b);if(!a||!m)return null;const A=(0,S._d)({behavior:S.cg.SHOW,contentName:g,id:"InstallButton",slotNumber:n},_),w={buttonId:"InstallButton",buttonTitle:g,slotNumber:n,telemetryProps:A,openModal:d},k=()=>l.createElement(Pa,{"aria-labelledby":"title",closeable:!0,contentRef:b,onCancelClicked:E,onHide:E,onInstallClicked:E,productId:a,show:c});switch(o){case Mn.Ug.Desktop:return l.createElement("div",null,(()=>{switch(null===p||void 0===p?void 0:p.operationStatus){case Mn.oo.Pending:return l.createElement(qa,{baseProductId:a});case Mn.oo.ConsoleError:case Mn.oo.Error:case Mn.oo.TimedOut:return l.createElement(Ha,{installOperation:p,openModal:d,telemetryProps:A});case Mn.oo.Succeeded:return l.createElement(Ga,{baseProductId:a});default:return l.createElement(Fa,C()(C()({},w),{},{baseProductId:a,buttonRef:y,buttonType:r,upsellProductId:i,isTrial:s}))}})(),k());case Mn.Ug.Mobile:return l.createElement(l.Fragment,null,l.createElement(Ba,C()(C()({},w),{},{buttonRef:y,buttonType:r})),k());case Mn.Ug.Overflow:return l.createElement(za,C()(C()({},w),{},{baseProductId:a,hideModal:h,openModal:d,showModal:c}));default:return null}},[Mn.Zr.Manage]:e=>{var t,n;const[r,o]=(0,l.useState)(!1),a=(0,f.iV)("manageActionText"),i=e.actionArguments&&(0,Y.mU)(e.actionArguments.IsExternallyManagedPass),s=e.actionArguments&&(0,G.jb)(null!==(t=e.actionArguments.ProductId)&&void 0!==t?t:"",!1),c=(0,S.EW)(),d=(0,l.useRef)(null),h=(0,l.useRef)(null),m=(0,Y.mG)(r,(()=>o(!1)),d,h),p=(0,S._d)({behavior:i?S.cg.SHOW:S.cg.NAVIGATIONFORWARD,contentName:a,id:"ManageButton",slotNumber:e.slotNumber},c),g={behavior:S.cg.OTHER,buttonId:"ManageButton",buttonLabel:a,buttonType:e.buttonType,slotNumber:e.slotNumber,isExternallyManaged:i,onClick:()=>{o(!0)},experienceButtonType:e.experienceButtonType,telemetryProps:p},v={buttonType:null!==(n=e.buttonType)&&void 0!==n?n:u.L$.Primary,showModal:r,contentRef:h,subscriptionName:s,onComplete:m};return l.createElement(l.Fragment,null,l.createElement(Za,C()({},g)),l.createElement(Va,C()({},v)))},[Mn.Zr.NotSoldSeparately]:e=>{const t=(0,Y.mU)(e.actionArguments[T.Uh.IsBundleProduct]),{bundleNotAvailableActionText:n,notSoldSeparatelyActionText:r}=(0,f.y_)("bundleNotAvailableActionText","notSoldSeparatelyActionText"),o=t?n:r;switch(e.experienceButtonType){case Mn.Ug.Desktop:return l.createElement(ei,{actionText:o});case Mn.Ug.Mobile:return l.createElement(ti,{actionText:o});case Mn.Ug.Overflow:return l.createElement(ni,{actionText:o});default:return null}},[Mn.Zr.OpenInStore]:e=>{const t=(0,f.iV)("openInStoreButtonLabel"),{[T.Uh.ProductId]:n,[T.Uh.SkuId]:r,[T.Uh.AvailabilityId]:o}=e.actionArguments,a=(0,T.PH)(n,void 0,r,o),i=(0,S.EW)(),s=(0,S._d)({behavior:S.cg.NAVIGATIONFORWARD,contentName:t,id:"OpenInStoreButton",slotNumber:e.slotNumber},i),c={actionOverride:e.actionOverride,buttonId:"OpenInStoreButton",buttonLabel:t,buttonType:e.buttonType,slotNumber:e.slotNumber,storeLink:a,telemetryProps:s};switch(e.experienceButtonType){case Mn.Ug.CondensedDesktop:return l.createElement(oi,C()({},c));case Mn.Ug.Mobile:return l.createElement(ai,C()({},c));case Mn.Ug.Overflow:return l.createElement(ii,C()({},c));default:return null}},[Mn.Zr.RedeemACode]:e=>(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRedeemCodeModal)))?l.createElement(Ii,C()({},e)):l.createElement(Mi,C()({},e)),[Mn.Zr.SkuSelector]:e=>{const{actionArguments:t,actionOverride:n,buttonType:r,experienceButtonType:o,slotNumber:a}=e,i=t[T.Uh.ProductId]||"",s=(t[T.Uh.SkuIdsList]||"").split(";").filter((e=>0!==e.length)).map((e=>({productId:i,skuId:e,availabilityId:""}))),[c,u,d]=(0,f.QF)("skuSelectorSubscriptionText","skuSelectorProductText","listItemAccessibilityLabelFormat"),h=(0,g._yM)(g.Hw9.SkuId,""),m=(0,S.EW)(),p=(0,v.useSelector)((e=>(0,At.zF)(e,i,h)));if(!(null===p||void 0===p?void 0:p.product)||!(null===p||void 0===p?void 0:p.sku))return null;const _=(0,g.Ypc)(p.product.productFamily,G.fO.Passes)?c:u,y={actionOverride:n,buttonType:r,listItemAccessibilityFormat:d,productIdentifiers:s,telemetryProps:(0,S._d)({behavior:S.cg.SHOW,contentName:_,id:"SkuSelectorButton",slotNumber:a},m),title:_};switch(o){case Mn.Ug.CondensedDesktop:return l.createElement(Gi,C()({},y));case Mn.Ug.Desktop:return l.createElement(Bo,C()(C()({},y),{},{buttonAccessibilityLabel:_,subTitle:p.sku.skuTitle||p.product.title,preferSkuValues:!0,title:y.title.toLocaleUpperCase()}));case Mn.Ug.Mobile:return l.createElement(zi,C()({},y));case Mn.Ug.Overflow:return l.createElement(Xi,C()({},y));default:return null}},[Mn.Zr.Trial]:e=>{let{actionArguments:t}=e,n=V()(e,is);const{[T.Uh.UpsellProductId]:r}=t;return r?l.createElement(es,C()(C()({},n),{},{actionArguments:t,upsellProductId:r})):l.createElement(Ki,C()(C()({},n),{},{actionArguments:t}))},[Mn.Zr.Upsell]:e=>{let{actionArguments:t}=e,n=V()(e,xs);const{[T.Uh.UpsellProductIdsList]:r}=t,o=(0,l.useContext)(Vr);let a;return a=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableMultiUpsellButton)))&&r&&o!==Mn.vm.ContextualStore?As:_s,l.createElement(a,C()(C()({},n),{},{actionArguments:t}))},[Mn.Zr.Wishlist]:e=>{var t;const[n,r]=[e.actionArguments[T.Uh.ProductId],e.actionArguments[T.Uh.SkuId]],o=(0,v.useDispatch)(),a=(0,v.useSelector)(E.yB),i=(0,S.EW)(),s=(0,g.$wQ)(),c=(0,g.IzA)(),u=(0,v.useSelector)((e=>(0,At.CF)(e,T.Z0)));let d=(0,Y.mU)(e.actionArguments[T.Uh.IsOnWishlist]);u&&(d=!!(null===(t=u.products)||void 0===t?void 0:t.find((e=>e&&(0,g.kgH)(e.productId)===(0,g.kgH)(n)&&(0,g.kgH)(e.skuId)===(0,g.kgH)(r)))));const[h,m]=(0,l.useState)(),[p,_]=(0,l.useState)(!1),[y,b]=(0,l.useState)(!1),[C,A]=(0,l.useState)(d),[w,k,I,P,x,N]=(0,f.QF)("actionErrorMessage","addToWishListAccessibilityTemplate","addToWishListText","addToWishlistProcessingButtonAccessibilityLabelFormat","openWishlistButtonAccessibilityLabel","reloadPageRequestMessage"),O=(0,v.useSelector)((e=>(0,At.RY)(e,n,r)));if(!O||!O.product||!n||!r)return null;const L=(0,S._d)({behavior:C?S.cg.NAVIGATIONFORWARD:S.cg.ADDWISHLIST,contentName:C?x:I,id:"WishlistButton",slotNumber:e.slotNumber},i),M=(0,g.WUZ)(k,O.product.title),D=(0,g.WUZ)(P,O.product.title),U=e=>{b(!1),_(!0),e&&m(e.name)},F=()=>{A(!0),b(!1)};return l.createElement(l.Fragment,null,l.createElement(ho,{actionAccessibilityLabel:M,actionIcon:Ns,actionLabel:I,behavior:C?S.cg.OTHER:S.cg.ADDWISHLIST,buttonId:"WishlistButton",buttonType:e.buttonType,experienceButtonType:e.experienceButtonType,navigationAccessibilityLabel:x,navigationHref:"/wishlist",navigationIcon:Os.Z,navigationLabel:x,onClick:()=>{if(a)b(!0),o(At.l.addWishListItem.start(F,U,T.Z0,n,r));else{const e=(0,g.kgH)(n)===G.Cv?c(window.location.href):s(window.location.href);window.location.assign(e)}},processingAccessibilityLabel:D,slotNumber:e.slotNumber,showSpinner:y,state:C,telemetryProps:L}),p&&l.createElement(R.u_,{className:sr,closeable:!0,show:p,onHide:()=>_(!1),ariaLabel:w},l.createElement(qe,{errorCode:h,errorMessage:w,userRequestMessage:N})))}},Ms=(e,t,n,r,o)=>{let{actionType:a,actionArguments:i={}}=t;const s=Ls[a];s&&e.push(l.createElement(s,{key:`${a}-index-${n}`,actionArguments:i,actionOverride:o,experienceButtonType:r,buttonType:0===n?u.L$.Brand:u.L$.Primary,slotNumber:n}))},Ds=(e,t,n,r,o)=>{const a=[],i=[],s=[];return e.forEach(((l,c)=>{const u=o&&o[l.actionType];a.length+i.length<n||c===e.length-1&&0===s.length&&r?Mn.E2[l.actionType]<=Mn.E2.PrimaryActionPriorityCutoff?Ms(a,l,c,t,u):Ms(i,l,c,t,u):Ms(s,l,s.length,Mn.Ug.Overflow,u)})),{primaryButtons:a,secondaryButtons:i,overflowChildren:s}},Us=(e,t)=>(Mn.E2[e.actionType]||Number.MAX_SAFE_INTEGER)-(Mn.E2[t.actionType]||Number.MAX_SAFE_INTEGER);const Fs=e=>{const t=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel"),[n,r]=(0,l.useState)(Mn.Ug.CondensedDesktop),o=R.M9[R.JD.XS];(0,l.useEffect)((()=>{const e=window.matchMedia("(orientation: landscape)");e.matches&&window.innerHeight<=o&&r(Mn.Ug.Mobile),!e.matches&&window.innerWidth<=o&&r(Mn.Ug.Mobile)}),[o]);const{primaryButtons:a,secondaryButtons:i,overflowChildren:s}=Ds(e.actionsList,n,2,!1,e.productActionTypeToActionOverride),c=a.concat(i);return s.length>1&&c.push(l.createElement(Tr,{accessibilityLabel:t,containingElementRef:e.containingElementRef,experienceButtonType:n,slotNumber:c.length,key:"Action-Panel-Overflow-Button"},s)),l.createElement(l.Fragment,null,l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__condensedDesktopProductActionsPanel___u-aMC"},c),l.createElement(Bs,{buttons:c}),l.createElement(Hs,{buttons:c}))},Bs=e=>{let{buttons:t}=e;return l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobilePortraitProductActionsPanel___AsFJC"},l.createElement("div",null,t[1],t[2]),t[0])},Hs=e=>{let{buttons:t}=e;return l.createElement("div",{className:"ContextualStoreActionPanelLayout-module__mobileLandscapeProductActionsPanel___-QiXD"},l.createElement("div",null,t[0],t[1],t[2]))};n(52856),n(57610);var qs="ProductActionsPanel-module__desktopProductActionsPanel___J1Jn3",Gs="ProductActionsPanel-module__orSeparator___isj1r";const zs=e=>{(0,Y.FF)();const t=(0,R.EX)(),n=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel");let r=4,o=Mn.Ug.Desktop;switch(t){case R.JD.XXS:case R.JD.XS:case R.JD.SM:r=2,o=Mn.Ug.Mobile;break;case R.JD.MD:r=2;break;case R.JD.LG:r=3}const{primaryButtons:a,secondaryButtons:i,overflowChildren:s}=Ds(e.actionsList,o,r,o!==Mn.Ug.Mobile,e.productActionTypeToActionOverride),c=a.concat(i);let u;return t<=R.JD.SM?u=l.createElement("div",{className:"PDPActionPanelLayout-module__mobileProductActionsPanel___F8s4J"},c[0],c.length>1&&l.createElement("div",null,c[1],s.length>0&&l.createElement(Tr,{accessibilityLabel:n,experienceButtonType:o,slotNumber:2},s))):(a.length>1&&!$s(e.actionsList)&&c.splice(1,0,l.createElement(Xs,{key:"OR"})),s.length>1&&c.push(l.createElement(Tr,{accessibilityLabel:n,containingElementRef:e.containingElementRef,experienceButtonType:o,slotNumber:c.length,key:"Action-Panel-Overflow-Button"},s)),u=l.createElement(W.FocusContainer,{className:qs},c)),u},Xs=()=>{const e=(0,f.iV)("orSeparatorText");return l.createElement("span",{className:Gs},e)},$s=e=>{const t=e.some((e=>e.actionType===Mn.Zr.AccountLink)),n=e.some((e=>{const t=e.actionArguments?e.actionArguments[T.Uh.IsDisabled]:"";return e.actionType===Mn.Zr.Acquisition&&(0,Y.mU)(t)}));return t&&n};const Vs=e=>{(0,Y.FF)();const t=(0,R.EX)(),n=(0,f.iV)("actionPanelOverflowButtonAccessibilityLabel");let r=4;switch(t){case R.JD.XXS:r=1;break;case R.JD.XS:case R.JD.SM:case R.JD.MD:r=2;break;case R.JD.LG:r=3}const{primaryButtons:o,secondaryButtons:a,overflowChildren:i}=Ds(e.actionsList,Mn.Ug.Desktop,r,!1),c=t<=R.JD.SM,u=o.concat(a);return o.length>1&&t>R.JD.SM&&u.splice(1,0,l.createElement(Ws,{key:"OR"})),i.length>1&&u.push(l.createElement(l.Fragment,null,c&&l.createElement("div",{className:"PDPPageBarActionPanelLayout-module__overflowSeparator___g01Hh"}),l.createElement(Tr,{accessibilityLabel:n,experienceButtonType:c?Mn.Ug.Mobile:Mn.Ug.Desktop,slotNumber:u.length,key:"Page-Bar-Action-Panel-Overflow-Button",overrideClassName:s()([Q,vr])},i))),l.createElement(W.FocusContainer,{className:s()(c?"PDPPageBarActionPanelLayout-module__mobileProductActionsPanel___PmqB6":qs,c?"PDPPageBarActionPanelLayout-module__stickyHeaderMobileText___eavIU":P.uo)},u)},Ws=()=>{const e=(0,f.iV)("orSeparatorText");return l.createElement("span",{className:Gs},e)};const Ks=e=>{var t;const[n,r,o,a,i,s,c]=(0,f.QF)("errorButtonText","errorButtonAccessibilityLabel","pleaseTryAgainMessage","actionFetchErrorMessage","reloadPageRequestMessage","reloadPageButtonText","cancelButtonText"),d=(0,S.EW)(),h=(0,S._d)({behavior:S.cg.SHOW,contentName:n,id:"ErrorButton",slotNumber:0},d),m=null===(t=e.error)||void 0===t?void 0:t.httpStatusCode,p=()=>{"undefined"!==typeof location&&location.reload()};return l.createElement(ae,null,l.createElement(ae.Button,{accessibilityLabel:r,buttonType:u.L$.Primary,className:ir,telemetryProps:h},l.createElement("div",{className:P.uo},n),l.createElement("div",{className:P.S7},o)),l.createElement(ae.Flyout,null,l.createElement(ne,null,(e=>l.createElement(qe,{className:"ErrorButton-module__flyoutContentContainer___-uOkR",errorCode:null===m||void 0===m?void 0:m.toString(),errorMessage:a,primaryButtonAction:p,primaryButtonText:s,secondaryButtonAction:e.closeFlyout,secondaryButtonText:c,userRequestMessage:i})))))};n(1951);var js="LoadingButtonPanel-module__shimmerAddons___LfBS4",Zs="LoadingButtonPanel-module__shimmerBackground1___9hgH0",Ys="LoadingButtonPanel-module__smallLoadingButton___zFPmW";const Qs=()=>{let e="LoadingButtonPanel-module__desktopLoadingButtonPanel___A6zGo";const t=[];switch((0,R.EX)()){default:case R.JD.XL:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_5",className:s()(Ys,nt.f8,js,"LoadingButtonPanel-module__shimmerBackground5___ivz+n")}));case R.JD.LG:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_4",className:s()(Ys,nt.f8,js,"LoadingButtonPanel-module__shimmerBackground4___di0xE")}));case R.JD.MD:t.unshift(l.createElement("div",{key:"Desktop Loading_Button_3",className:s()(Ys,nt.f8,js,"LoadingButtonPanel-module__shimmerBackground3___zcVff")})),t.unshift(l.createElement("div",{key:"Desktop Loading_Button_2",className:s()("LoadingButtonPanel-module__largeLoadingButton___ebOUG",nt.f8,js,"LoadingButtonPanel-module__shimmerBackground2___L-v+N")})),t.unshift(l.createElement("div",{key:"Desktop Loading_Button_1",className:s()("LoadingButtonPanel-module__mediumLoadingButton___40Gcb",nt.f8,js,Zs)}));break;case R.JD.SM:case R.JD.XS:case R.JD.XXS:e="LoadingButtonPanel-module__mobileLoadingButtonPanel___EIz1q",t.push(l.createElement("div",{key:"Mobile Loading_Button_1",className:s()(nt.f8,js,Zs)})),t.push(l.createElement("div",{key:"Mobile Loading_Button_2",className:s()(nt.f8,js,"LoadingButtonPanel-module__mobileShimmerBackground___behtU")}))}return l.createElement("div",{className:e},t)},Js=l.memo((e=>{const t=e.productId,n=(0,v.useSelector)((e=>(0,At.FJ)(e,t))),r=()=>l.createElement(tl,null);return l.createElement(Vr.Provider,{value:e.actionPanelContext},l.createElement(ht,{key:`PAP_${t}_${e.selectedSkuId}}`,lceState:n,content:t=>l.createElement(el,C()({productActions:t.data.productActions,skuActions:t.data.skuActionsBySkuId},e)),error:e=>l.createElement(Ks,{error:e.error}),defaultRender:r,isFetching:()=>l.createElement(Qs,null),isNotRequested:r}))}),((e,t)=>(0,g.kgH)(e.productId)===(0,g.kgH)(t.productId)&&(0,g.kgH)(e.selectedSkuId||"")===(0,g.kgH)(t.selectedSkuId||""))),el=e=>{const t=(0,R.EX)(),{containingElementRef:n,hideOpenInStore:r,selectedSkuId:o,contentTelemetry:a,productActions:i,skuActions:s,productId:c,productActionTypeToActionOverride:u}=e,d=[i];o&&d.push(s[(0,g.kgH)(o)]);const h=((e,t,n)=>{const r={};return e.filter((e=>!!e)).forEach((e=>{e.filter((e=>!!e)).forEach((e=>{e.actionType===Mn.Zr.EditionSelector&&t<=R.JD.SM||e.actionType===Mn.Zr.OpenInStore&&n||(r[e.actionType]=e)}))})),Object.values(r)})(d,t,r);h.sort(Us);const m={actionsList:h,containingElementRef:n,productActionTypeToActionOverride:u};let p,f;switch((0,l.useContext)(Vr)){case Mn.vm.ContextualStore:p=Fs,f="ContextualStore-ProductActionsPanel";break;case Mn.vm.PDPPageBar:p=Vs,f="PDPPageBar-ProductActionsPanel";break;case Mn.vm.PDP:default:p=zs,f="ProductActionsPanel"}const v=(0,S._d)({areaName:f,contentType:S.zc.Button,productId:c,skuId:o},a);return l.createElement(S.OR.Provider,{value:v},l.createElement(p,C()({},m)))},tl=()=>{let e;switch((0,R.EX)()){case R.JD.XXS:case R.JD.XS:case R.JD.SM:e="ProductActionsPanel-module__mobileProductActionsPanelPlaceholder___VTlrI";break;case R.JD.MD:case R.JD.LG:default:e=qs}return l.createElement("div",{className:e})};var nl="TargetedOfferHeadline-module__offerBadgeText___k15V1";const rl=e=>{var t,n,r;const{productId:o,skuId:a,isXPriceStorewideOffer:i}=e,c=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableDealXPriceText))),[u,d,h,m]=(0,f.QF)("productCardJustForYouFooterMessage","targetedOfferPromoMessageFormat","productCardDealForYouFooterMessage","upgradeOfferBadge"),p=(0,v.useSelector)((e=>(0,At.zF)(e,o,a))),_=null===p||void 0===p?void 0:p.availability,y=null===(t=null===_||void 0===_?void 0:_.price)||void 0===t?void 0:t.eligibilityInfo,b=null===_||void 0===_?void 0:_.price,C=(null===(n=null===b||void 0===b?void 0:b.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer,E=C||(null===y||void 0===y?void 0:y.type)===G.sL.XPrice,S=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&C;if(!E||!b)return null;const T=(0,G.Z6)(b.msrp,b.listPrice),A=(0,g.WUZ)(d,T.toString(),null!==(r=null===y||void 0===y?void 0:y.affirmationMessage)&&void 0!==r?r:"");return l.createElement("div",{className:"TargetedOfferHeadline-module__offerBadge___hdx-5"},S?l.createElement("div",{className:s()(P.lO,nl,"TargetedOfferHeadline-module__upgradeOfferBadge___bx7gs")},m):!i&&l.createElement("div",{className:s()(P.lO,nl,"TargetedOfferHeadline-module__justForYouBadgeText___gBX2j")},c?h:u),l.createElement("div",{className:"TargetedOfferHeadline-module__promoMessage___xyITh"},A))};const ol=e=>{var t,n,r;const{productId:o,skuId:a,availabilityId:i,onGoBack:c,onPurchaseAction:u,onGiftAction:d,onRedeemAction:h,setIsLoading:m,onError:p,onOpenStoreUrl:_,onShowSkuPicker:b,hideShowInStore:C}=e,[E,S,A]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate","upgradeOfferRemarkText"),w=(0,l.useRef)(null),k=(0,v.useSelector)(g.NDL),I=(0,T.PH)(o,void 0,a,i),x=(0,v.useSelector)((e=>(0,At.mr)(e,o,a,i)));(0,W.useBackHandler)((0,l.useCallback)((()=>(c(),!0)),[c])),(0,l.useEffect)((()=>{x&&(m(!1),x.sku&&x.availability||p(new Error("Missing sku or availability information")))}),[p,x,m]);const N=null===x||void 0===x?void 0:x.product,O=null===x||void 0===x?void 0:x.sku,L=null===x||void 0===x?void 0:x.availability,M=null===(t=null===x||void 0===x?void 0:x.availability)||void 0===t?void 0:t.price,D=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===M||void 0===M?void 0:M.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!N||!O||!L)return null;const U=!!(null===(r=null===M||void 0===M?void 0:M.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),F=O.skuTitle&&O.skuTitle!==N.title?(0,g.WUZ)(E,N.title,O.skuTitle):N.title,B=N.publisherName?(0,g.WUZ)(S,N.publisherName):"",H=(0,G.SP)(N,O),q=(0,G.wF)(N,O),z=(0,G.nk)(N,O),X=(0,g.Ypc)(N.productFamily,G.fO.Passes)||(0,g.Ypc)(N.productFamily,G.fO.Subscription),$={[Mn.Zr.Acquisition]:u,[Mn.Zr.BuyToOwn]:u,[Mn.Zr.Extend]:u,[Mn.Zr.OpenInStore]:()=>_(I),[Mn.Zr.SkuSelector]:b,[Mn.Zr.Trial]:u};d&&($[Mn.Zr.Gift]=d),h&&($[Mn.Zr.RedeemACode]=h);const V=!!N.contentRating&&!!N.legalNotices;return l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__miniPdpContainer___2wqKo",ref:w},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroContainer___uIgks"},l.createElement(R.Ee,{className:"DesktopMiniProductDetailsPage-module__heroImage___ug064",src:null===q||void 0===q?void 0:q.url,width:608,height:714,alt:(null===q||void 0===q?void 0:q.caption)||F,hideShadow:!0,fluid:!0}),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__heroLinearGradient___DcNWn"})),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__informationContainer___Ur19o"},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityContainer___AOkmQ"},l.createElement(R.Ee,{height:144,width:96,src:null===H||void 0===H?void 0:H.url,alt:(null===H||void 0===H?void 0:H.caption)||F,className:"DesktopMiniProductDetailsPage-module__boxArtImage___MqLkW"}),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__identityInformationContainer___fJNGD"},l.createElement("h1",{className:s()(P.a2,"DesktopMiniProductDetailsPage-module__titleFontAdjustments___ExUih")},F),l.createElement("h3",{className:s()(P.gC,"DesktopMiniProductDetailsPage-module__subtitleTextAdjustments___C68Mg")},B),l.createElement(G.HR,{hasAddOns:N.hasAddOns,productInfo:x,productPrice:M,recurrencePolicySummary:O.recurrencePolicySummary,isPass:X,className:P.hO,historicalLowestListPrice:O.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:D}),(D||!U)&&l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__badgeWrapper___S3faN"},l.createElement(rl,{productId:o,isXPriceStorewideOffer:U})))),l.createElement($e,{className:"DesktopMiniProductDetailsPage-module__scrollableDescriptorsContainer___ANdBn",gradientColorOverride:k.theme===g.Q2A.Dark?ln:cn},l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__descriptorsContainer___jHE5l"},l.createElement(tr,{productId:o,itemClassName:"DesktopMiniProductDetailsPage-module__playableOnItemOverride___KZQ+6",titleClassName:s()(P.RO,"DesktopMiniProductDetailsPage-module__playableOnTitle___lbh2d"),className:"DesktopMiniProductDetailsPage-module__playableOnContainer___AFmRm"}),l.createElement("div",{className:s()(P.RO,"DesktopMiniProductDetailsPage-module__description___D71J3")},z))),l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__actionPanelContainer___Bcbma"},l.createElement(Js,{actionPanelContext:Mn.vm.ContextualStore,containingElementRef:w,hideOpenInStore:C,productActionTypeToActionOverride:$,productId:o,selectedSkuId:a})),D&&l.createElement("p",{className:s()(P.$c,"DesktopMiniProductDetailsPage-module__upgradeOfferRemarkText___wT+Tc")},A),l.createElement("div",{className:s()("DesktopMiniProductDetailsPage-module__legalContainer___TJalL",V?"DesktopMiniProductDetailsPage-module__legalItemsWidthAdjustment___C1F2p":"")},l.createElement(y,{productId:o,className:"DesktopMiniProductDetailsPage-module__rating___KetXe"}),V&&l.createElement("div",{className:"DesktopMiniProductDetailsPage-module__dividingLine___g+EAG"}),l.createElement("div",null,l.createElement(Un,{productId:o,className:P.Km})))))};var al=(0,l.memo)((function(e){var t=e.icon,n=e.className,o=e.label,a=e.iconClassName,i=e.iconStyle,c=e.labelClassName,u=e.labelStyle,d=(0,r.__rest)(e,["icon","className","label","iconClassName","iconStyle","labelClassName","labelStyle"]);return l.createElement("div",(0,r.__assign)({className:s()("IconText-module__container___9pn0K",n)},d),l.createElement(t,{className:s()("IconText-module__icon___2lSCQ",a),style:i}),l.createElement("div",{className:s()("IconText-module__label___SkTCC",c),style:u},o))})),il=n(79517),sl="SkuPickerButton-module__ellipseOnOverflow___eiTTG",ll="SkuPickerButton-module__noBottomMargin___nYQTb";const cl=e=>{var t,n,r,o;const{className:a,productId:i,skuId:c,availabilityId:d,onClick:h}=e,m=(0,v.useSelector)(g.yWe),p=(0,v.useSelector)((e=>(0,mi.mr)(e,i,c,d))),_=(0,f.iV)("plusSignDelimiterStringTemplate"),y=null===(t=null===p||void 0===p?void 0:p.sku)||void 0===t?void 0:t.skuTitle,b=null===(n=null===p||void 0===p?void 0:p.availability)||void 0===n?void 0:n.promotionalDuration,C=null===(r=null===p||void 0===p?void 0:p.availability)||void 0===r?void 0:r.price,E=(0,G.Xz)(b),S=C&&(0,g.xGv)(C.listPrice,C.currency,m),T=y&&E?(0,g.WUZ)(_,y,E):y;return l.createElement(K.Z,{as:"button",className:a,icon:et.Z,buttonType:u.L$.Secondary,overlayMode:u.gT.Solid,onClick:h},l.createElement(R.X2,{className:(0,R.Nl)("width",100)},!!T&&l.createElement(R.sg,{xs:9},l.createElement("p",{className:s()(ll,sl)},T)),C&&l.createElement(R.sg,{xs:3,className:"SkuPickerButton-module__priceInfo___WpcBt"},l.createElement("p",{className:s()(ll,sl)},`${S}${(null===(o=null===p||void 0===p?void 0:p.product)||void 0===o?void 0:o.hasAddOns)?"+":""}`))))};var ul="ContextualStoreProductDetailsPage-module__marginBottom1___vx0XP",dl="ContextualStoreProductDetailsPage-module__marginTop1___fzkzL",hl="ContextualStoreProductDetailsPage-module__multipleButtonRow___YefIf",ml="ContextualStoreProductDetailsPage-module__paddingLeft0___gaLHu",pl="ContextualStoreProductDetailsPage-module__paddingRight0___gAqxV",gl="ContextualStoreProductDetailsPage-module__seeInStoreButtonContent___JfSNJ",fl="ContextualStoreProductDetailsPage-module__skuPicker___Y81pW",vl="ContextualStoreProductDetailsPage-module__skuPickerContainer___-xrrl",_l="ContextualStoreProductDetailsPage-module__uiExpActionButton___5lfV2",yl="ContextualStoreProductDetailsPage-module__upShiftContainers___1bo+v",bl="ContextualStoreProductDetailsPage-module__width100___Rn+5k";const Cl=e=>{var t,n,r,o,a,i;const{productId:c,skuId:u,availabilityId:d,hideShowInStore:h,trackingParams:m,xStoreScenario:p,itemType:_,clientType:b,onPurchaseAction:C,onError:E,setIsLoading:S,onShowSkuPicker:A,onGoBack:w,onOpenStoreUrl:k}=e,[I,x,N,O,L,M,D,U,F,B,H]=(0,f.QF)("buyActionText","buyActionAccessibilityTextWithPrice","nextActionText","getActionText","getActionAccessibilityTextWithPrice","selectOfferText","seeInStoreButtonText","buyInStoreButtonText","subscriptionRecurrenceLegalNotice","dlcRequiresGameLegalNotice","closeButtonText"),q=(0,v.useSelector)((e=>(0,At.mr)(e,c,u,d))),z=(0,v.useSelector)(g.Xnf).userAgent,[X,$]=(0,l.useState)(!1),V=(0,v.useSelector)((e=>(0,At.NP)(e,c))),K=Pn(g.vCX.EnableBuyNowXboxUiExp),j=(0,v.useSelector)(g.Yzi),Z=(0,v.useSelector)(g.Xnf).origin;(0,l.useEffect)((()=>{q&&(S(!1),q.sku&&q.availability||E(new Error("Missing sku or availability information")))}),[E,q,S]),(0,W.useBackHandler)((0,l.useCallback)((()=>(w(),!0)),[w]));const Y=null===q||void 0===q?void 0:q.sku,Q=null===q||void 0===q?void 0:q.availability,J=null===(t=null===q||void 0===q?void 0:q.availability)||void 0===t?void 0:t.price,ee=(0,G.OD)(J),te=(0,f.iV)("skuProductTitleTemplate",null!==(r=null===(n=null===q||void 0===q?void 0:q.product)||void 0===n?void 0:n.title)&&void 0!==r?r:"",null!==(a=null===(o=null===q||void 0===q?void 0:q.sku)||void 0===o?void 0:o.skuTitle)&&void 0!==a?a:"");if(!q||!Y)return null;const ne=q.product,re=V.length>1,oe=(null===Y||void 0===Y?void 0:Y.skuTitle)&&(null===Y||void 0===Y?void 0:Y.skuTitle)!==ne.title?te:ne.title,ae=ne.publisherName,ie=J&&J.listPrice<=0,se=ne.productFamily===G.fO.Subscription||ne.productFamily===G.fO.Passes,le=(0,G.nQ)(ne.productKind),ce=ie?O:se?N:I,ue=ee&&(0,g.WUZ)(ie?L:se?N:x,oe,ee.lowestPrice||""),de=(0,G.wF)(ne,Y),he=(0,G.SP)(ne,Y),me=K&&he?he:(0,G.Ie)(ne,Y),pe=(0,G.nk)(ne,Y),ge={productId:c,skuId:u,availabilityId:d},fe=()=>{const e=(0,T.Ok)(Z,j,c,oe,u,d);k?k(e):window.open(e,"_blank")},ve=(null===(i=Y.recurrencePolicySummary)||void 0===i?void 0:i.isRecurring)?F:void 0,_e=(0,sn.hA)(z);return l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__rootContainer___LKLDG")},l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroContainer___bI3Qf"},l.createElement(R.Ee,{className:s()(bl,"ContextualStoreProductDetailsPage-module__heroImage___6vJQV"),src:null===de||void 0===de?void 0:de.url,width:480,height:270,hideShadow:!0,fluid:!0,alt:(null===de||void 0===de?void 0:de.caption)||oe}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__heroLinearGradient___TaUmc"})),l.createElement(R.W2,{className:"ContextualStoreProductDetailsPage-module__body___LV6g1"},l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__justifyContentCenter___oyHc8","ContextualStoreProductDetailsPage-module__displayFlex___cTCTp",yl)},l.createElement(R.Ee,{className:s()("shadow","ContextualStoreProductDetailsPage-module__portraitProductImage___+4ts6"),width:96,height:144,src:null===he||void 0===he?void 0:he.url,fluid:!0,alt:(null===de||void 0===de?void 0:de.caption)||oe}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__productItem___V63iN"},l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__landscapeProductImageContainer___aRkqe"},l.createElement(R.Ee,{src:null===me||void 0===me?void 0:me.url,className:"ContextualStoreProductDetailsPage-module__landscapeProductImage___EF3wD",width:96,height:96,fluid:!0,alt:(null===de||void 0===de?void 0:de.caption)||oe})),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__info___Rz2G1"},l.createElement("h2",{className:s()(P.cN,"ContextualStoreProductDetailsPage-module__landscapeTitle___faUoV")},oe),J&&Q&&l.createElement(G.HR,{className:s()("ContextualStoreProductDetailsPage-module__priceDetails___Vy-Ax",P.S7),hasAddOns:ne.hasAddOns,isPass:se,productInfo:q,productPrice:J,recurrencePolicySummary:Y.recurrencePolicySummary}),!!ve&&l.createElement("div",{className:P.RO},l.createElement("span",null,ve)),le&&l.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__dlcMessage___Y7p8n",P.S7)},B)))),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitHeader___bDcBi",yl)},l.createElement("h2",{className:s()(P.cN,"ContextualStoreProductDetailsPage-module__portraitTitle___WgGK6")},oe),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__productSubtitle___Q97sz",P.Km)},l.createElement("p",{className:"ContextualStoreProductDetailsPage-module__marginBottom0___ZPgNJ"},ae))),l.createElement(W.GamepadScrollable,{className:s()("ContextualStoreProductDetailsPage-module__productInfoContainer___dMhhj",yl,{"ContextualStoreProductDetailsPage-module__productInfoContainerFocused___CdVX1":X}),scrollAxis:W.Axis.Vertical,maxScrollPixels:155,onFocus:()=>$(!0),onBlur:()=>$(!1)},l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__skuInfoContainer___w8l2m")},!se&&l.createElement(y,{productId:c,className:"ContextualStoreProductDetailsPage-module__ageRatingInfo___ahA2t"}),l.createElement("div",{className:"ContextualStoreProductDetailsPage-module__portraitPrice___4Mxfs"},J&&Q&&l.createElement(G.HR,{className:P.S7,hasAddOns:ne.hasAddOns,isPass:se,productInfo:q,productPrice:J,recurrencePolicySummary:Y.recurrencePolicySummary})),!!ve&&l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__portraitLegalMessages___VguOH",P.RO)},l.createElement("span",null,ve)),re&&!_e&&l.createElement("div",{className:s()(vl)},l.createElement("p",{className:s()(P.S7,ul)},M),l.createElement(cl,{className:s()(fl),productId:c,skuId:ge.skuId,availabilityId:ge.availabilityId,onClick:A})),!se&&l.createElement(er,{productId:c,className:"ContextualStoreProductDetailsPage-module__playableOnContainer___bQTzM",itemClassName:"ContextualStoreProductDetailsPage-module__playableOnItem___5NF94",titleClassName:s()(P.F$,"ContextualStoreProductDetailsPage-module__playableOnTitle___0Z2tD")})),l.createElement("div",{className:s()("ContextualStoreProductDetailsPage-module__descriptionContainer___rmst4")},l.createElement("span",{className:s()("ContextualStoreProductDetailsPage-module__description___lwQS7",P.RO)},pe))),l.createElement("div",{className:s()(yl,"ContextualStoreProductDetailsPage-module__multipleButtonContainer___DN-ZY")},_e?l.createElement(El,{showSkuPickerButton:re,locSelectOfferText:M,locale:j,title:te,productId:c,selectedPSA:ge,onShowSkuPicker:A,openPdpInNewWindow:fe,buyInStoreButtonText:U,closeButtonText:H,trackingParams:m,xStoreScenario:p,itemType:_,clientType:b}):l.createElement(Sl,{hideShowInStore:h,openPdpInNewWindow:fe,seeInStoreButtonText:D,locPrimaryActionAccessibilityText:ue,handleOnPurchaseAction:()=>{S(!0),C()},locPrimaryActionText:ce,enableBuyNowXboxUiExp:K}))))},El=e=>{let{showSkuPickerButton:t,locSelectOfferText:n,locale:r,title:o,productId:a,selectedPSA:i,onShowSkuPicker:c,openPdpInNewWindow:d,buyInStoreButtonText:h,closeButtonText:m,trackingParams:p,xStoreScenario:g,itemType:f,clientType:v}=e;const _=(0,T.Tf)(void 0,r,i.productId,o,i.skuId,i.availabilityId||"",void 0,null===p||void 0===p?void 0:p.callerApplicationId,null===p||void 0===p?void 0:p.campaignId,g,f,v);return l.createElement(l.Fragment,null,l.createElement(R.X2,{className:hl},t&&l.createElement(R.sg,{xs:6,className:s()(ml,pl)},l.createElement("div",{className:s()(vl)},l.createElement("p",{className:s()(P.S7,ul)},n),l.createElement(cl,{className:s()(fl),productId:a,skuId:i.skuId,onClick:c}))),l.createElement(R.sg,{xs:6,className:s()(ml,"ContextualStoreProductDetailsPage-module__storeLinkButtonContainer___gabNQ")},l.createElement(K.Z,{as:"a",icon:si,className:s()("ContextualStoreProductDetailsPage-module__storeLinkButton___CPriI"),buttonType:u.L$.Brand,onClick:d,href:_,target:"_blank","data-autofocus":!0},l.createElement("div",{className:gl},l.createElement("span",null,h.toLocaleUpperCase())))),l.createElement(R.sg,{xs:6,className:s()(ml,"ContextualStoreProductDetailsPage-module__bButtonContainer___b0XAx")},l.createElement(al,{icon:il.Z,label:m,className:"ContextualStoreProductDetailsPage-module__bButtonIcon___6npbL"}))))},Sl=e=>{let{hideShowInStore:t,openPdpInNewWindow:n,seeInStoreButtonText:r,locPrimaryActionAccessibilityText:o,handleOnPurchaseAction:a,locPrimaryActionText:i,enableBuyNowXboxUiExp:c=!1}=e;return l.createElement(R.X2,{className:hl},!t&&l.createElement(R.sg,{xs:6,className:s()(ml)},l.createElement(pn.K,{as:"a",className:s()(bl,dl,c?_l:void 0),buttonType:u.L$.Primary,onClick:n,style:{cursor:"pointer"},tabIndex:0},l.createElement("div",{className:gl},l.createElement("div",null),l.createElement("span",null,r.toLocaleUpperCase()),l.createElement(d.JO,{iconSize:d.Jh.XXSmall,className:"ContextualStoreProductDetailsPage-module__seeInStoreExternalUrlIcon___oneUD",icon:Vt.Z})))),l.createElement(R.sg,{xs:t?12:6,className:s()(ml,pl)},l.createElement(pn.K,{as:"button","aria-label":o,className:s()(bl,dl,"ContextualStoreProductDetailsPage-module__actionButton___wDRb8",c?_l:void 0),buttonType:u.L$.Brand,onClick:a,"data-autofocus":!0},i.toLocaleUpperCase())))};const Tl=e=>{var t,n,r;const{availabilityId:o,hideShowInStore:a,onError:i,onGoBack:c,onOpenStoreUrl:u,onPurchaseAction:d,onGiftAction:h,onRedeemAction:m,onShowSkuPicker:p,productId:_,setIsLoading:b,skuId:C}=e,[E,S]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate"),A=(0,v.useSelector)(g.NDL),w=(0,T.PH)(_,void 0,C,o),k=(0,v.useSelector)((e=>(0,At.mr)(e,_,C,o)));(0,W.useBackHandler)((0,l.useCallback)((()=>(c(),!0)),[c])),(0,l.useEffect)((()=>{k&&(b(!1),k.sku&&k.availability||i(new Error("Missing sku or availability information")))}),[i,k,b]);const I=null===k||void 0===k?void 0:k.product,x=null===k||void 0===k?void 0:k.sku,N=null===k||void 0===k?void 0:k.availability,O=null===(t=null===k||void 0===k?void 0:k.availability)||void 0===t?void 0:t.price,L=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!I||!x||!N)return null;const M=!!(null===(r=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),D=x.skuTitle&&x.skuTitle!==I.title?(0,g.WUZ)(E,I.title,x.skuTitle):I.title,U=I.publisherName?(0,g.WUZ)(S,I.publisherName):"",F=(0,G.SP)(I,x),B=(0,G.wF)(I,x),H=(0,G.nk)(I,x),q=(0,g.Ypc)(I.productFamily,G.fO.Passes)||(0,g.Ypc)(I.productFamily,G.fO.Subscription),z={[Mn.Zr.Acquisition]:d,[Mn.Zr.BuyToOwn]:d,[Mn.Zr.Extend]:d,[Mn.Zr.OpenInStore]:()=>u(w),[Mn.Zr.SkuSelector]:p,[Mn.Zr.Trial]:d};return h&&(z[Mn.Zr.Gift]=h),m&&(z[Mn.Zr.RedeemACode]=m),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__miniPdpContainer___JTHS9"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroContainer___ARaCo"},l.createElement("img",{className:"MobilePortraitMiniProductDetailsPage-module__heroImage___vCHwR",src:null===B||void 0===B?void 0:B.url,alt:(null===B||void 0===B?void 0:B.caption)||D}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__heroLinearGradient___+Dxxg"})),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__informationContainer___LRiyI"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainerWrapper___FXXWV"},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityContainer___s-wEZ"},l.createElement(R.Ee,{height:144,width:96,src:null===F||void 0===F?void 0:F.url,alt:(null===F||void 0===F?void 0:F.caption)||D,className:"MobilePortraitMiniProductDetailsPage-module__boxArtImage___T6McP"}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__identityInformationContainer___glMX-"},l.createElement("h1",{className:s()(P.a2,"MobilePortraitMiniProductDetailsPage-module__titleFontAdjustments___uO6Sj")},D),l.createElement("h3",{className:s()(P.gC,"MobilePortraitMiniProductDetailsPage-module__subtitleTextAdjustments___5K2hm")},U),l.createElement(G.HR,{hasAddOns:I.hasAddOns,productInfo:k,productPrice:O,recurrencePolicySummary:x.recurrencePolicySummary,isPass:q,className:P.hO,historicalLowestListPrice:x.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:L}))),(L||!M)&&l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__badgeWrapper___qVEUL"},l.createElement(rl,{productId:_,isXPriceStorewideOffer:M}))),l.createElement($e,{className:s()("MobilePortraitMiniProductDetailsPage-module__scrollableDescriptorsContainer___4ULRC",L?"MobilePortraitMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___-AAz9":null),gradientColorOverride:A.theme===g.Q2A.Light?cn:ln},l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__descriptorsContainer___SKnCY"},l.createElement(tr,{productId:_,itemClassName:"MobilePortraitMiniProductDetailsPage-module__playableOnItemOverride___El5iI",titleClassName:s()(P.RO,"MobilePortraitMiniProductDetailsPage-module__playableOnTitle___VcVtx"),className:"MobilePortraitMiniProductDetailsPage-module__playableOnContainer___wcvH0"}),l.createElement(y,{productId:_,className:"MobilePortraitMiniProductDetailsPage-module__rating___ySRgM"}),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__legalContainer___O3hTJ"},l.createElement(Un,{productId:_,className:P.Km})),l.createElement("div",{className:P.RO},H))),l.createElement("div",{className:"MobilePortraitMiniProductDetailsPage-module__actionPanelContainer___p4-Ld"},l.createElement(Js,{actionPanelContext:Mn.vm.ContextualStore,hideOpenInStore:a,productActionTypeToActionOverride:z,productId:_,selectedSkuId:C}))))};const Al=e=>{var t,n,r;const{availabilityId:o,hideShowInStore:a,onError:i,onGoBack:c,onOpenStoreUrl:u,onPurchaseAction:d,onGiftAction:h,onRedeemAction:m,onShowSkuPicker:p,productId:_,setIsLoading:b,skuId:C}=e,[E,S]=(0,f.QF)("skuProductTitleTemplate","publishedByTemplate"),A=(0,v.useSelector)(g.NDL),w=(0,T.PH)(_,void 0,C,o),k=(0,v.useSelector)((e=>(0,At.mr)(e,_,C,o)));(0,W.useBackHandler)((0,l.useCallback)((()=>(c(),!0)),[c])),(0,l.useEffect)((()=>{k&&(b(!1),k.sku&&k.availability||i(new Error("Missing sku or availability information")))}),[i,k,b]);const I=null===k||void 0===k?void 0:k.product,x=null===k||void 0===k?void 0:k.sku,N=null===k||void 0===k?void 0:k.availability,O=null===(t=null===k||void 0===k?void 0:k.availability)||void 0===t?void 0:t.price,L=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableEditionUpgradeOffer)))&&(null===(n=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===n?void 0:n.xPriceOfferSubType)===G.US.UpgradedDifferentialOffer;if(!I||!x||!N)return null;const M=!!(null===(r=null===O||void 0===O?void 0:O.xPriceOfferInfo)||void 0===r?void 0:r.isXPriceStorewideOffer),D=x.skuTitle&&x.skuTitle!==I.title?(0,g.WUZ)(E,I.title,x.skuTitle):I.title,U=I.publisherName?(0,g.WUZ)(S,I.publisherName):"",F=(0,G.GK)(I,x),B=(0,G.wF)(I,x),H=(0,G.nk)(I,x),q=(0,g.Ypc)(I.productFamily,G.fO.Passes)||(0,g.Ypc)(I.productFamily,G.fO.Subscription),z={[Mn.Zr.Acquisition]:d,[Mn.Zr.BuyToOwn]:d,[Mn.Zr.Extend]:d,[Mn.Zr.OpenInStore]:()=>u(w),[Mn.Zr.SkuSelector]:p,[Mn.Zr.Trial]:d};return h&&(z[Mn.Zr.Gift]=h),m&&(z[Mn.Zr.RedeemACode]=m),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__miniPdpContainer___1-WEQ"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroContainer___NXpwe"},l.createElement("img",{className:"MobileLandscapeMiniProductDetailsPage-module__heroImage___j7rKS",src:null===B||void 0===B?void 0:B.url,alt:(null===B||void 0===B?void 0:B.caption)||D}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__heroLinearGradient___f5sYZ"})),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__informationContainer___3x1uo"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainerWrapper___1M6Pe"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityContainer___Ig18B"},l.createElement(R.Ee,{height:96,width:96,src:null===F||void 0===F?void 0:F.url,alt:(null===F||void 0===F?void 0:F.caption)||D,className:"MobileLandscapeMiniProductDetailsPage-module__boxArtImage___blp53"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__identityInformationContainer___W5nx8"},l.createElement("h1",{className:s()(P.a2,"MobileLandscapeMiniProductDetailsPage-module__titleFontAdjustments___p9VFe")},D),l.createElement("h3",{className:s()(P.gC,"MobileLandscapeMiniProductDetailsPage-module__subtitleTextAdjustments___N1aG2")},U),l.createElement(G.HR,{hasAddOns:I.hasAddOns,productInfo:k,productPrice:O,recurrencePolicySummary:x.recurrencePolicySummary,isPass:q,className:P.hO,historicalLowestListPrice:x.historicalLowestListPrice,discountDetailClassName:P.gC,hideDiscountMessage:L}))),L&&l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__badgeWrapper___hNkAs"},l.createElement(rl,{productId:_,isXPriceStorewideOffer:M}))),l.createElement($e,{className:s()("MobileLandscapeMiniProductDetailsPage-module__scrollableDescriptorsContainer___6KQdD",L?"MobileLandscapeMiniProductDetailsPage-module__postOffersScrollableDescriptorsContainer___Brki8":null),gradientColorOverride:A.theme===g.Q2A.Light?cn:ln},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__descriptorsContainer___bP4kR"},l.createElement(tr,{productId:_,itemClassName:"MobileLandscapeMiniProductDetailsPage-module__playableOnItemOverride___pqJ94",titleClassName:s()(P.RO,"MobileLandscapeMiniProductDetailsPage-module__playableOnTitle___1iwYO"),className:"MobileLandscapeMiniProductDetailsPage-module__playableOnContainer___VowzK"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__horizontalDescriptorsContainer___6qTXU"},l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__ratingAndLegalContainer___ZaMT8"},l.createElement(y,{productId:_,className:"MobileLandscapeMiniProductDetailsPage-module__rating___sV5-W"}),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__legalContainer___9JX49"},l.createElement(Un,{productId:_,className:P.Km}))),l.createElement("div",{className:s()(P.RO,"MobileLandscapeMiniProductDetailsPage-module__description___NAjvW")},H)))),l.createElement("div",{className:"MobileLandscapeMiniProductDetailsPage-module__actionPanelContainer___H+pZE"},l.createElement(Js,{actionPanelContext:Mn.vm.ContextualStore,hideOpenInStore:a,productActionTypeToActionOverride:z,productId:_,selectedSkuId:C}))))},wl=e=>{(0,S.Li)("ContextualStoreProductDetails",S.uZ.Overlay,{productInfo:{id:e.productId,sku:e.skuId}});const t=(0,v.useSelector)((t=>(0,At.th)(t,e.productId))),n=(0,v.useSelector)(g.Xnf).userAgent,r=Pn(g.vCX.EnableMiniPDPRefreshExp),o=Pn(g.vCX.EnableMiniPDPSubsRefreshExp),a=(0,g.Ypc)(null===t||void 0===t?void 0:t.productFamily,G.fO.Passes)||(0,g.Ypc)(null===t||void 0===t?void 0:t.productFamily,G.fO.Subscription),i=r&&(o||!a)&&!(0,sn.hA)(n);return l.createElement(l.Fragment,null,i?l.createElement(kl,C()({},e)):l.createElement(Cl,C()({},e)))},kl=e=>{const t=e.onGiftAction,n=t?n=>{if(e.updateSelectedProduct&&n){const[t,r,o]=[n[T.Uh.ProductId],n[T.Uh.SkuId],n[T.Uh.AvailabilityId]],a={productId:null!==t&&void 0!==t?t:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};e.updateSelectedProduct(a)}t()}:void 0,r=(0,R.Wp)({desktopComponent:ol,mobilePortraitComponent:Tl,mobileLandscapeComponent:Al});return r?l.createElement(r,C()(C()({},e),{},{onPurchaseAction:t=>{let n,r,o;if(t&&e.updateSelectedProduct){[n,r,o]=[t[T.Uh.ProductId],t[T.Uh.SkuId],t[T.Uh.AvailabilityId]];const a={productId:null!==n&&void 0!==n?n:"",skuId:null!==r&&void 0!==r?r:"",availabilityId:null!==o&&void 0!==o?o:""};n&&e.updateSelectedProduct(a)}e.onPurchaseAction()},onGiftAction:n,onRedeemAction:e.onRedeemAction})):null};var Il=n(59902);const Pl=async e=>{const t=await e.acquireTokenSilently(E.Q7.MDollar);return t?(0,E.Wg)(t):null},Rl="XboxCom",xl=[Rl,"XEWeb","XENative","XETest"],Nl=e=>{var t,n,r;const{productId:o,skuId:a,availabilityId:i,trackingParams:s,setIsLoading:c,orderDetails:u,onCloseButtonClick:d,scenario:h,clientType:m,giftRecipientInformation:p}=e;(0,S.Li)("ContextualStorePurchase",S.uZ.Overlay,{productInfo:{id:o,sku:a}});const f=()=>{c(!1)},_=(0,E.Tv)(),y=(0,v.useSelector)(g.gzb),b=(0,l.useRef)(null),C=(0,v.useSelector)(g.yWe),T=(0,S.Qc)(),A=(0,v.useSelector)(E.t_),[w,k]=(0,l.useState)(!1),I=(0,v.useSelector)((e=>(0,g.PE2)(e,g.vCX.TestBuyNowFlights))),P=Pn(g.vCX.EnableBuyNowXboxUiExp),R=Pn(g.vCX.EnableBuyNowFCRedeemWithTax),x=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),N=Rn(g.vCX.PIGroupingExpId),O=Rn(g.vCX.PIGroupingFlightId),L=(0,v.useSelector)(g.UwQ),M=(0,v.useSelector)(g.$Zt),D=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableXboxGamePadLite)));M.push(D?"sc_xboxgamepadlite":"sc_xboxgamepad"),N&&L.push(N),"string"===typeof I&&I.split(",").forEach((e=>{M.includes(e)||M.push(e)})),P&&(M.push("sc_xboxuiexp"),M.push("sc_disabledefaultstyles")),R&&M.push("sc_showtax"),x&&M.push("sc_gamertaggifting"),O&&M.push(O);const U=(0,v.useSelector)((e=>(0,mi.zF)(e,o,a,i))),F=h===bn.Gift&&x,B=!F&&(null===U||void 0===U?void 0:U.product.productId)||o,H=!F&&(null===(t=null===U||void 0===U?void 0:U.sku)||void 0===t?void 0:t.skuId)||a,q=!F&&(null===(n=null===U||void 0===U?void 0:U.availability)||void 0===n?void 0:n.availabilityId)&&H?null===(r=null===U||void 0===U?void 0:U.availability)||void 0===r?void 0:r.availabilityId:i;return(0,l.useEffect)((()=>{T.logAppAction({action:wn.PurchaseStarted})}),[]),(0,l.useEffect)((()=>{const e=(0,Il.makeWindowListener)({done:e=>{var t,n,r,s;const l=e.orderId;switch(e.status){case"cancelXButton":T.logAppAction({action:wn.PurchaseCanceled},{productId:o}),d();break;case"cancel":T.logAppAction({action:wn.PurchaseCanceled},{productId:o}),u.onCancel(o,a,i,l);break;case"success":T.logAppAction({action:wn.PurchaseSuccessful},{productId:o,xboxCardPointsRedeemed:null===(t=e.orderInfo)||void 0===t?void 0:t.xboxCardPointsRedeemed,xboxCardUsedForPurchase:null===(n=e.orderInfo)||void 0===n?void 0:n.xboxCardUsedForPurchase}),u.onSuccess(o,a,i,l,null===(r=e.orderInfo)||void 0===r?void 0:r.xboxCardUsedForPurchase);break;case"error":{const t=e;let n=_n.PurchaseError;t.errorInfo.code.includes("UserAlreadyOwnsContent")?n=_n.AlreadyPurchased:T.logAppAction({action:wn.PurchaseFailed},{productId:o,xboxCardUsedForPurchase:null===(s=e.orderInfo)||void 0===s?void 0:s.xboxCardUsedForPurchase}),u.onError(o,n,a,i,l,{name:t.errorInfo.code,message:t.errorInfo.message});break}}},openUrl:e=>{u.onOpenUrl?u.onOpenUrl(e.url):window.open(e.url)}});return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,l.useEffect)((()=>{var e,t,n;B&&H&&(q||F)&&!w&&(c(!0),async function(e,t,n,r,o,a,i,s,l,c,u,d,h,m,p,f){let v=arguments.length>16&&void 0!==arguments[16]?arguments[16]:Rl;const _=e=>{h(!1),f(e)};if(!e)return void _(new Error("Failed to load frame."));let y;try{y=n?(0,E.Wg)(n):await Pl(t)}catch(T){return void _(T)}if(!y)return void _(new Error("Unable to get token silently."));const b=["sc_xboxspinner","sc_xboxclosebutton",...u],C=b.includes("sc_xboxuiexp")?"XboxCom2NewUI":"XboxCom2",S=[...d,...b].map((e=>`EX:${e}`));await(0,Il.invokeBuyNowInFrame)(e,{authToken:"",products:[r],locale:o.localeWithScript,market:o.market,cV:a,layout:"Modal",clientType:v,cssOverride:C,xToken:y,campaignOptions:{campaignId:i,callerApplicationId:s,expId:S,flights:b,optionalCampaignId:l},theme:c===g.Q2A.Dark?"dark":"light",suppressGiftThankYouPage:m,scenario:m?"gift":"",gifteeType:m&&(null===p||void 0===p?void 0:p.gifteeType)||void 0,gamertagImageUrl:m&&(null===p||void 0===p?void 0:p.gifteeType)===An.GamerTag&&(null===p||void 0===p?void 0:p.gamerPicUrl)||void 0,gifteeValue:m&&(null===p||void 0===p?void 0:p.gifteeType)===An.GamerTag&&(null===p||void 0===p?void 0:p.classicGamerTag)||void 0,modernGamertag:m&&(null===p||void 0===p?void 0:p.gifteeType)===An.GamerTag&&(null===p||void 0===p?void 0:p.modernGamerTag)||void 0})||_(),h(!0)}(b.current,_,A,{productId:B,skuId:H,availabilityId:q},C,null!==(e=null===s||void 0===s?void 0:s.cV)&&void 0!==e?e:T.cv().get(),null!==(t=null===s||void 0===s?void 0:s.campaignId)&&void 0!==t?t:"xboxcomct",null!==(n=null===s||void 0===s?void 0:s.callerApplicationId)&&void 0!==n?n:un,null===s||void 0===s?void 0:s.ocid,y,M,L,f,F,p||null,(()=>{T.logAppAction({action:wn.PurchaseFailed},{productId:o}),u.onError(o,_n.PurchaseError,a,i)}),(e=>!!e&&xl.includes(e))(m)?m:Rl),k(!0))}),[B,H,q]),l.createElement("iframe",{key:"purchase-sdk-iframe",title:"Purchase Frame",name:"purchase-sdk-hosted-iframe",ref:b,className:P?"ContextualStorePurchase-module__purchaseFrameNewUi___CedNY":"ContextualStorePurchase-module__purchaseFrame___Fbhay"})};n(4173),n(6710);function Ol(){if(globalThis.ReactNativeWebView){const e=globalThis.postMessage;console.log("We are in react native");let t=0;const n=setInterval((()=>{globalThis.postMessage!==e?globalThis.postMessage=t=>{var n;e(t),null===(n=globalThis.ReactNativeWebView)||void 0===n||n.postMessage("string"==typeof t?t:JSON.stringify(t))}:t++,t>10&&clearInterval(n)}),500)}}var Ll;!function(e){e.Pdp="ProductDetailsPage",e.Purchase="Purchase",e.PurchaseOnFallback="PurchaseOnFallback",e.ThankYou="ThankYouPage",e.Error="ErrorPage",e.SkuPicker="SkuPickerPage",e.Browse="BrowsePage",e.Gift="Gift",e.Redeem="Redeem"}(Ll||(Ll={}));const Ml=(e,t,n)=>({productId:e,skuId:null!==t&&void 0!==t?t:"",availabilityId:null!==n&&void 0!==n?n:""}),Dl=e=>{switch(e){case yn.Purchase:return Ll.Purchase;case yn.Browse:return Ll.Browse;case yn.Redeem:return Ll.Redeem;default:return Ll.Pdp}},Ul=e=>{const{productId:t,skuId:n,availabilityId:r,activateStoreExperiments:o,allowAnonymous:a,experience:i,hasAddOns:c,hideCloseButton:d,hideShowInStore:h,onResult:m,onMessage:p,productTitle:_,skipPurchaseConfirmation:y,tracking:b,options:T,referringProductId:A,itemType:w,xStoreScenario:k,clientType:I,giftRecipientInformation:P,offerId:x,themeOverride:N,redeemScenario:O}=e;let L=e.scenario;const[M,D]=(0,l.useState)(!0),[U,F]=(0,l.useState)(Dl(i)),[B,H]=(0,l.useState)(""),q=(0,l.useCallback)(((e,t)=>{p&&p({type:Tn.PageChange,data:e}),F(e)}),[p]),z=(0,v.useSelector)(E.t_),X=(0,v.useSelector)(E.yB)||!!z,$=(0,g.$wQ)(),V=(0,g.IzA)(),K=null!==w&&void 0!==w?w:"",j=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableBuyNowXboxUiExp)))&&!!o,Z=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableReactGiftFlow))),Q=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableRedeemCodeModal))),J=(0,v.useSelector)((e=>(0,At.th)(e,t))),ee=n||(null===J||void 0===J?void 0:J.optimalSkuId)||(null===J||void 0===J?void 0:J.preferredSkuId);(0,l.useEffect)((()=>{if(!a&&!X){const e=(0,g.kgH)(t)===G.Cv?V(window.location.href):$(window.location.href);window.parent===window?window.location.assign(e):U!==Ll.Error&&(q(Ll.Error,new Error("Attempting to sign-in inside an iframe")),D(!1))}}),[a,X,t,U,$,V,q]);const te=(0,v.useDispatch)(),ne=(0,v.useSelector)(g.gzb),[re,oe]=(0,l.useState)(((e,t,n)=>({productId:e,skuId:t,availabilityId:n,status:_n.Canceled}))(t,ee,r)),[ae,ie]=(0,l.useState)(Ml(t,ee,r)),se={contentName:"Close Contextual Store Button",templateName:"ButtonComponent",contentType:"ActionButton",productId:t,skuId:ee,productName:_},{genericPurchaseErrorMessage:le,closeButtonText:ce,closeContextualStore:ue}=(0,f.y_)("genericPurchaseErrorMessage","closeButtonText","closeContextualStore"),de=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.UsePostMessageHelper)));(0,l.useEffect)((()=>{(0,W.initializeGamepadNavigation)()}),[]);const he=(e,t)=>!!e&&t===Ll.Pdp||t===Ll.Purchase,me=e=>{he(null===T||void 0===T?void 0:T.fallbackToPurchaseOnError,U)?q(Ll.PurchaseOnFallback,e):(oe({productId:t,skuId:ee,availabilityId:r,status:_n.ServiceError,error:e}),q(Ll.Error,e)),D(!1)};(0,l.useEffect)((()=>{te(an.I.getProductDetailById.start(t,(e=>me(e))));const e=Dl(i);U!==e&&F(e),ie(Ml(t,ee,r))}),[r,t,ee,i]),(0,l.useEffect)((()=>{if(i===yn.Browse){const e=K.split(",").map((e=>{switch(e){case G.Dp.Game:case G.Dp.GameDemo:return G.Fc.Game;case G.Dp.Consumable:return G.Fc.Consumable;case G.Dp.Durable:return G.Fc.Durable;case G.Dp.Application:default:return}})).filter((e=>!!e&&e in G.Fc));0===e.length&&(q(Ll.Error,new Error("Invalid product kind provided")),D(!1));const n=(0,Y.H0)(e),r=(0,Y.lx)(n,t);r||(q(Ll.Error,new Error("Unable to get channel product key")),D(!1)),H(r)}}),[i,K,q,t]),(0,l.useEffect)((()=>{if(i===yn.Browse){const e=e=>{oe({productId:t,skuId:ee,availabilityId:r,status:_n.ServiceError,error:e}),q(Ll.Error,e),D(!1)};te(an.I.getBrowsePageDataById.start(t,K,B,e))}}),[r,t,ee,i,te,q,K,B]),(0,l.useEffect)((()=>{switch(re.status){case _n.Purchased:y?m&&m(re):(ie({productId:re.productId,skuId:re.skuId||"",availabilityId:re.availabilityId||""}),q(Ll.ThankYou));break;case _n.ServiceError:case _n.PurchaseError:case _n.AlreadyPurchased:m&&m(re)}}),[re,m,y]);const pe=e=>{e!==ae&&ie(e),te(an.I.getProductDetailById.start(e.productId,(e=>me(e)))),q(Ll.Pdp)},ge=()=>{m&&m(re)},fe=()=>{i===yn.Browse&&U===Ll.Pdp?(ie(Ml(t,ee,r)),q(Ll.Browse)):m&&m(re)},ve=()=>{i===yn.Purchase||U===Ll.PurchaseOnFallback||i===yn.Redeem?ge():(ie(Ml(t,ee,r)),q(Ll.Pdp))},_e=e=>{p&&p({type:Tn.OpenUrl,data:e}),window.open(e,"_blank")},ye={onCancel:ve,onError:(e,t,n,r,o,a)=>{oe({productId:e,skuId:n,availabilityId:r,status:t,orderId:o,error:a})},onOpenUrl:_e,onSuccess:(e,t,n,r,o)=>{oe({productId:e,skuId:t,availabilityId:n,status:_n.Purchased,orderId:r,xboxCardUsedForPurchase:o}),i!==yn.Redeem&&e&&te(an.I.purchaseComplete(e))}};let be=null;switch(U){case Ll.Pdp:default:be=l.createElement(wl,{productId:ae.productId,skuId:ae.skuId,availabilityId:ae.availabilityId,hideShowInStore:h,trackingParams:b,onShowSkuPicker:()=>q(Ll.SkuPicker),onPurchaseAction:()=>q(Ll.Purchase),onGiftAction:Z?()=>q(Ll.Gift):void 0,onRedeemAction:Q?()=>q(Ll.Redeem):void 0,onError:e=>{q(he(null===T||void 0===T?void 0:T.fallbackToPurchaseOnError,U)?Ll.PurchaseOnFallback:Ll.Error,e)},onGoBack:fe,onOpenStoreUrl:_e,setIsLoading:D,xStoreScenario:k,itemType:K,updateSelectedProduct:ie,clientType:I});break;case Ll.Gift:L=bn.Gift;case Ll.Purchase:case Ll.PurchaseOnFallback:be=l.createElement(Nl,{productId:ae.productId,availabilityId:ae.availabilityId,skuId:ae.skuId,trackingParams:b,setIsLoading:D,orderDetails:ye,onCloseButtonClick:ve,scenario:L,clientType:I,giftRecipientInformation:P});break;case Ll.Redeem:be=l.createElement(di,{productId:ae.productId,availabilityId:ae.availabilityId,skuId:ae.skuId,trackingParams:b,setIsLoading:D,onCloseButtonClick:ve,clientType:I,orderDetails:ye,offerId:x,themeOverride:N,scenario:O});break;case Ll.Browse:be=l.createElement(Ln,{productId:ae.productId,skuId:ae.skuId,availabilityId:ae.availabilityId,onSelect:pe,onClose:ge,onError:e=>{q(he(null===T||void 0===T?void 0:T.fallbackToPurchaseOnError,U)?Ll.PurchaseOnFallback:Ll.Error,e)},setIsLoading:D,channelKey:B,itemType:K});break;case Ll.ThankYou:be=l.createElement(Ai,{productId:ae.productId,skuId:ae.skuId,referringProductId:A,scenario:L,setIsLoading:D,onError:e=>q(Ll.Error,e),onClose:ge,xboxCardUsedForPurchase:re.xboxCardUsedForPurchase});break;case Ll.Error:be=((e,t,n,r,o)=>l.createElement("div",{className:"ContextualStoreV2-module__failureViewContainer___Z+3cW"},l.createElement("h4",null,e),l.createElement(rn.Z,C()({onClick:r,className:"ContextualStoreV2-module__closeButton___MmWUe","aria-label":n},(0,S.iZ)(o)),t)))(le,ce,ue,ge,se);break;case Ll.SkuPicker:be=l.createElement(mn,{hasAddOns:c,onSelect:pe,onClose:()=>q(Ll.Pdp),productId:t})}const Ce=!(d||U===Ll.Purchase||U===Ll.PurchaseOnFallback||U===Ll.Gift||U===Ll.Redeem),Ee=j?"ContextualStoreV2-module__newContextualStoreSizing___h+ipJ":"ContextualStoreV2-module__contextualStoreSizing___tzMDW";return l.createElement(fn,{value:{activateStoreExperiments:!!o}},de&&l.createElement(on.q,null,l.createElement("script",null,`(${Ol.toString()})();`)),l.createElement(S.pC,null,l.createElement(W.FocusContainer,{autoFocusContainer:!0,className:"ContextualStoreV2-module__focusContainer___EAJYV",onKeyDown:e=>{"Escape"===e.nativeEvent.key&&ge()}},l.createElement(R.W2,{className:s()("xgp-reset-style","ContextualStoreV2-module__contextualStoreContainer___7k8p9",{"theme-dark":N?N===g.Q2A.Dark:ne===g.Q2A.Dark},j?"ContextualStoreV2-module__isNewBuyNowXboxUiExpEnabled___7Mjfr":void 0)},l.createElement("div",{className:s()(Ee,"ContextualStoreV2-module__flexColumn___EnNnt")},be),Ce&&l.createElement(tn.Q,C()({as:"button",icon:nn.Z,onClick:ge,buttonSize:u.qE.Small,buttonType:u.L$.Primary,overlayMode:u.gT.Solid,className:s()([(0,R.W0)("margin","all",2),"ContextualStoreV2-module__closeIcon___nKOGi"]),"aria-label":ue},(0,S.iZ)(se))),M&&l.createElement("div",{className:"ContextualStoreV2-module__progressContainer___SE7z1"},l.createElement(R.X2,{className:"ContextualStoreV2-module__progressIconAlignment___n9XxL"},l.createElement(R.dj,null)))))))};n(44112);const Fl=e=>{let{onResult:t,onMessage:n}=e;var r;const o=(0,v.useDispatch)(),a=(0,g._yM)(g.Hw9.ProductId,""),i=(0,g._yM)(g.Hw9.AvailabilityId,""),s=(0,g._yM)(g.Hw9.SkuId,""),c=new URLSearchParams((0,Hr.TH)().search),u=c.get("partnerid"),d=c.get("cv"),h=c.get("campaignId"),m=c.get("it"),p=c.get("xs"),f=c.get("clientType"),_=(0,v.useSelector)((e=>(0,g.$Pr)(e,g.vCX.EnableSkipActivateStoreExp)))||(0,g.Ypc)(null!==(r=c.get("activateStoreExperiments"))&&void 0!==r?r:"","true"),y=!!(null===u||void 0===u?void 0:u.startsWith("gamepasssamsungtv")),b=Sn.v2,C=c.get("t");C&&"dark"===C.toLowerCase()&&o(g.uQd.setTheme(g.Q2A.Dark));const E=(e=>{switch(null===e||void 0===e?void 0:e.toLowerCase()){case"purchase":return yn.Purchase;case"browse":return yn.Browse;case"redeem":return yn.Redeem;default:return yn.Details}})(c.get("exp")),S=c.get("skipPurchaseConfirmation"),A="true"===(null===S||void 0===S?void 0:S.toLowerCase()),w=c.get("fallbackToPurchaseOnError"),k="true"===(null===w||void 0===w?void 0:w.toLowerCase()),I=c.get("anon"),P="true"===(null===I||void 0===I?void 0:I.toLowerCase()),x=c.get("hideClose"),N="true"===(null===x||void 0===x?void 0:x.toLowerCase())||y,O=(0,g.oB7)(c,Br.nV.referringProductId),L=(0,T.PH)(a,void 0,s,i),M=e=>{var n,r;null===t||void 0===t||t(e),null===(n=window.parent)||void 0===n||n.postMessage({message:"PurchaseStatus",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseStatus",result:e},"*"),!window.opener&&window.parent===window&&y&&window.location.assign(L)},D=e=>{var t,r;null===n||void 0===n||n(e),null===(t=window.parent)||void 0===t||t.postMessage({message:"PurchaseMessage",result:e},"*"),null===(r=window.opener)||void 0===r||r.postMessage({message:"PurchaseMessage",result:e},"*")};return l.createElement(R.SV,null,(()=>l.createElement(R.Wv,null,l.createElement(Ul,{allowAnonymous:P,productId:a,skuId:s,availabilityId:i,onResult:M,onMessage:D,tracking:{callerApplicationId:u||void 0,cV:d||void 0,campaignId:h||void 0},version:b,experience:E,skipPurchaseConfirmation:A,options:{fallbackToPurchaseOnError:k},referringProductId:null===O||void 0===O?void 0:O.value,hideCloseButton:N,hideShowInStore:y,itemType:m,xStoreScenario:p,clientType:f,activateStoreExperiments:_}))))},Bl="launchStore",Hl="launchContextualStore",ql=()=>{var e;const[t,n]=(0,l.useState)(void 0),r=(0,v.useSelector)(E.yB),o=(0,g.$wQ)(),a=(0,g.IzA)();(0,l.useEffect)((()=>{var e;if(r){const t=new URLSearchParams(window.location.search),r=t.get(Bl);if(r){const o=r.split("-").filter((e=>e));o.length>0&&o.length<4&&n({productId:o[0],skuId:o[1],availabilityId:o[2],referringProductId:null!==(e=t.get(Br.nV.referringProductId))&&void 0!==e?e:void 0})}}}),[r,n]),(0,l.useEffect)((()=>{const e=e=>{var t,i;const s=null===e||void 0===e?void 0:e.detail,l=null===(t=s.experience)||void 0===t?void 0:t.toLocaleLowerCase();if(s&&s.productId||l===yn.Redeem.toLocaleLowerCase())if(r)n({productId:s.productId,skuId:s.skuId,availabilityId:s.availabilityId,experience:s.experience,referringProductId:null!==(i=s.referringProductId)&&void 0!==i?i:void 0,activateStoreExperiments:!!s.activateStoreExperiments});else{let e=s.productId;s.skuId&&(e+=`-${s.skuId}`,s.availabilityId&&(e+=`-${s.availabilityId}`));const t=new URL(window.location.toString()),n=new URLSearchParams(t.search);e&&n.set(Bl,e),s.referringProductId&&n.set(Br.nV.referringProductId,s.referringProductId),t.search=n.toString();const r=(0,g.kgH)(s.productId)===G.Cv?a(t.toString()):o(t.toString());window.location.assign(r)}};return document.addEventListener(Hl,e),()=>document.removeEventListener(Hl,e)}),[o,a,r,n]);const i=()=>{n(void 0)};if(t)switch(null===(e=t.experience)||void 0===e?void 0:e.toLocaleLowerCase()){case yn.Redeem.toLocaleLowerCase():return l.createElement(ki,{showModal:!0,onClose:i});case yn.Purchase.toLocaleLowerCase():case yn.Details.toLocaleLowerCase():default:return l.createElement(Xr,C()({onResult:i,showModal:!0},t))}return null};var Gl=n(84179),zl="FeaturedContentModule-module__desktopMaxTextWidth___yEzRm";const Xl=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(Wl,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__desktopImage___wV18f",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__desktopContainer___TSgIa",subtitle:a,subtitleClassName:s()(zl,P.RH),textClassName:"FeaturedContentModule-module__desktopModuleText___H+kav",textSectionClassName:"FeaturedContentModule-module__desktopTextSection___-34mE",title:i,titleClassName:s()(zl,"FeaturedContentModule-module__desktopTitle___tYfd2",P.Q)})},$l=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(Wl,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__mobilePortraitImage___bAlrR",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__mobilePortraitContainer___Tiupf",subtitle:a,subtitleClassName:P.RH,textClassName:"FeaturedContentModule-module__mobilePortraitText___mfUEB",textSectionClassName:"FeaturedContentModule-module__mobilePortraitTextSection___FDzIb",title:i,titleClassName:P.jG})},Vl=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(Wl,{ctaLabel:t,ctaProperties:n,imageAltText:r,imageClassName:"FeaturedContentModule-module__mobileLandscapeImage___usIhX",imageUrl:o,moduleContainerClassName:"FeaturedContentModule-module__mobileLandscapeContainer___FPxh6",subtitle:a,subtitleClassName:P.RH,textSectionClassName:"FeaturedContentModule-module__mobileLandscapeTextSection___MF4BF",textClassName:"FeaturedContentModule-module__mobileLandscapeModuleText___s87OT",title:i,titleClassName:P.jG})},Wl=e=>{const{ctaLabel:t,ctaProperties:n,imageAltText:r,imageUrl:o,subtitle:a,title:i,titleClassName:c,subtitleClassName:u,moduleContainerClassName:d,textSectionClassName:h,textClassName:m,imageClassName:p}=e,g=(0,Gl.m)(n);return l.createElement("div",{style:{backgroundImage:`url(${o})`},className:s()("FeaturedContentModule-module__container___XfPap",d)},l.createElement("div",{className:"FeaturedContentModule-module__scrim___uO23m"},l.createElement("div",{className:h},l.createElement("div",{className:m},l.createElement("header",{className:s()("FeaturedContentModule-module__title___alPtd",c)},i),l.createElement("span",{className:s()("FeaturedContentModule-module__subtitle___nUL2v",u)},a),!(!t||!n)&&l.createElement(D,{label:t,url:null!==g&&void 0!==g?g:"#"})),l.createElement("img",{className:p,alt:r,src:o}))))},Kl=e=>{const t=(0,R.Wp)({desktopComponent:Xl,mobilePortraitComponent:$l,mobileLandscapeComponent:Vl}),{properties:n}=e;return t&&(e=>!!(e&&e.imageUrl&&e.title&&e.imageAltText&&e.subtitle))(n)?l.createElement(t,C()({},n)):null};var jl=n(31168),Zl=n(85495),Yl=n(89741),Ql=n(99e3),Jl=n(37533),ec="SortAndFilters-module__clearAllButton___M8wTO",tc="SortAndFilters-module__clearAllButtonContainer___v6UZC",nc="SortAndFilters-module__filterList___T81LH",rc="SortAndFilters-module__filterText___MqCzX",oc="SortAndFilters-module__filterTitle___LiVrt",ac="SortAndFilters-module__filtersText___8OwXG",ic="SortAndFilters-module__sortContainer___e+DLZ",sc="SortAndFilters-module__text___Dl4fZ";const lc={[Yl.v.Accessibility]:800,[Yl.v.Price]:900,[Yl.v.Genre]:1e3,[Yl.v.IncludedInSubscription]:1050,[Yl.v.MaturityRating]:1100,[Yl.v.Multiplayer]:1200,[Yl.v.TechnicalFeatures]:1300,[Yl.v.SupportedLanguages]:1400},cc=e=>{let t=0;for(const n in e)n!==Yl.v.OrderBy&&(t+=e[n].length);return t};const uc=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),l.createElement("circle",{cx:16,cy:16,r:5,fillRule:"evenodd"}))};var dc=n(54070),hc="ApplyFiltersButton-module__applyButton___faTvE",mc="ApplyFiltersButton-module__filterText___-fwr6",pc="ApplyFiltersButton-module__text___UQPpr";const gc=e=>e.pageType===S.uZ.Search?l.createElement(fc,C()({},e)):l.createElement(vc,C()({},e)),fc=e=>{const t=(0,f.UD)("seeResultsFilterButtonText");return l.createElement(c.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()(hc,P.Km,pc),onClick:e.onHide},l.createElement("span",{className:mc},t))},vc=e=>{const t=(0,Hr.k6)().location,n=(0,Y.e1)(t),r=(0,g._yM)(g.Hw9.ChannelId,""),o=(0,dc.Pd)(n,r),a=(0,v.useSelector)((e=>(0,At.wX)(e,o))),i=(0,f.UD)("browsePageRefineResults"),d=(0,f.UD)("seeResultsFilterButtonText"),h=()=>{const e=l.createElement(uc,{"aria-hidden":!0});return l.createElement("span",{className:mc},e," ",e," ",e)};return l.createElement(c.k,{as:"button","aria-label":i,buttonType:u.L$.Brand,className:s()(hc,P.Km,pc),onClick:e.onHide},l.createElement(jl.LceRenderer,{key:"FilterPanel_button_title",data:a,renderNotRequested:h,renderContent:()=>l.createElement("span",{className:mc},d),renderFetching:h,renderError:h,renderDefault:h}))},_c=["overrideLandscapeButtonWithPortraitButton"],yc=e=>{const{selectedSortId:t,sortInfo:n}=e,r=(0,Hr.k6)(),o=(0,f.iV)("browsePageSortByXFunction"),a=[T.XW];return l.createElement(Ie,{filterInfo:n,onChoicesClick:(e,t)=>{const o=e;if(n.hasAllChoice&&n.allChoiceId&&t===n.allChoiceId){const e=(0,Y.Uo)(o,(0,Y._B)(r.location));(0,Y.uh)(r,e,!0)}else{const e=(0,Y.BS)(o,t,(0,Y._B)(r.location));(0,Y.uh)(r,e,!0)}},selectedChoices:null!==t&&void 0!==t?t:a,isInitiallyCollapsed:!0,titleFunction:o,isScrollable:!1})},bc=e=>{const{filtersInfo:t,selectedFiltersId:n}=e,r=(e=>{const t=[];return Object.keys(e).filter((e=>e!==Yl.v.OrderBy)).forEach((n=>{t.push(e[n])})),t.sort(((e,t)=>lc[e.id]-lc[t.id]))})(t),o=(0,Hr.k6)(),a=(e,t)=>{const n=(0,Y.z1)(e,t,(0,Y._B)(o.location));(0,Y.uh)(o,n,!0)};return l.createElement(l.Fragment,null,r.map(((e,t)=>{var r;const o=n&&null!==(r=n[e.id])&&void 0!==r?r:[],i=e.id!==Yl.v.Accessibility;return l.createElement("li",{key:`${e.id}_${t}`,className:"SortAndFilters-module__li___aV+Oo"},l.createElement(Ie,{filterInfo:e,onChoicesClick:a,selectedChoices:o,isInitiallyCollapsed:!0,isScrollable:i}))})))},Cc=e=>{const{filtersInfo:t,selectedFiltersId:n,sortInfo:r}=e,o=(0,f.iV)("browsePageFilterTitle");return l.createElement("div",{className:"SortAndFilters-module__container___yA+Vp"},l.createElement("div",{className:ic},l.createElement(yc,{selectedSortId:n[Yl.v.OrderBy],sortInfo:r})),l.createElement("h2",{className:s()(P.ZN,ac)},o),l.createElement("ul",{className:nc},l.createElement(bc,{selectedFiltersId:n,filtersInfo:t})))},Ec=e=>{const{browsePageRefineResults:t,browsePageClearAllFilters:n}=(0,f.y_)("browsePageRefineResults","browsePageClearAllFilters"),r=(0,Hr.k6)(),[o,a]=(0,l.useState)(!1),i=cc(e.selectedFiltersId),d=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:i});return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()("SortAndFilters-module__button___OeFeU",P.gC,sc),onClick:()=>{a(!0)}},l.createElement(Zl.Z,{"aria-hidden":!0}),l.createElement("span",{className:rc},t)),o&&l.createElement(Ac,{showModal:o,onHide:()=>{a(!1)},selectedFiltersSize:i,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,selectedFiltersId:e.selectedFiltersId,filterTitleWithCount:d,pageType:e.pageType}),i>0&&l.createElement("div",{className:oc},l.createElement("div",{className:s()(P.ZN,ac)},d),l.createElement("div",{className:tc},l.createElement(c.k,{as:"button","aria-label":n,buttonType:u.L$.Tertiary,className:s()(ec,P.Km,sc),onClick:()=>{const e=(0,Y.nS)(r.location);(0,Y.uh)(r,e,!0)}},l.createElement("span",{className:rc},n)))))},Sc=e=>{const t=(0,f.iV)("browsePageRefineResults"),[n,r]=(0,l.useState)(!1),o=cc(e.selectedFiltersId),a=(0,f.UD)("browsePageFilterMobileTitleFunction",{Filters:o});return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":t,buttonType:u.L$.Brand,className:s()("SortAndFilters-module__buttonLandscape___+mKnt",P.gC,sc),onClick:()=>{r(!0)}},l.createElement(Zl.Z,{"aria-hidden":!0})),n&&l.createElement(Ac,{showModal:n,onHide:()=>{r(!1)},selectedFiltersId:e.selectedFiltersId,selectedFiltersSize:o,filtersInfo:e.filtersInfo,sortInfo:e.sortInfo,filterTitleWithCount:a,pageType:e.pageType}))},Tc=e=>{const{overrideLandscapeButtonWithPortraitButton:t}=e,n=V()(e,_c),r=(0,R.Wp)({desktopComponent:Cc,mobilePortraitComponent:Ec,mobileLandscapeComponent:t?Ec:Sc});return r?l.createElement(r,C()({},n)):null},Ac=e=>{let{filtersInfo:t,filterTitleWithCount:n,onHide:r,showModal:o,selectedFiltersId:a,selectedFiltersSize:i,sortInfo:d,pageType:h}=e;const{browsePageFiltersTitle:m,browsePageClearAllFilters:p}=(0,f.y_)("browsePageFiltersTitle","browsePageClearAllFilters"),g=0===i?m:n,v=(0,Hr.k6)();return l.createElement(R.u_,{ariaLabel:g,className:"SortAndFilters-module__modalContainer___MoRmH",closeable:!1,onHide:r,show:o},l.createElement(R.u_.Body,{className:(0,R.W0)("padding","all",3)},l.createElement("div",{className:"SortAndFilters-module__containerMobile___vuoD2"},l.createElement("div",{className:ic},l.createElement(yc,{selectedSortId:a[Yl.v.OrderBy],sortInfo:d})),l.createElement("div",{className:oc},l.createElement("div",{className:s()(P.ZN,ac)},g),i>0&&l.createElement("div",{className:tc},l.createElement(c.k,{as:"button","aria-label":p,buttonType:u.L$.Tertiary,className:s()(ec,P.Km,sc),onClick:()=>{const e=(0,Y.nS)(v.location);(0,Y.uh)(v,e,!0)}},l.createElement("span",{className:rc},p)))),l.createElement("ul",{className:nc},l.createElement(bc,{selectedFiltersId:a,filtersInfo:t}))),l.createElement("div",{className:"SortAndFilters-module__applyButtonContainer___I7dpt"},l.createElement(gc,{onHide:r,pageType:h}))))};var wc="FiltersPanel-module__modalContainer___pQEtN",kc="FiltersPanel-module__text___Umo23",Ic="LoadingFilters-module__text___qgjxf";const Pc=()=>l.createElement("div",{className:"LoadingFilters-module__filtersPanel___HaYt8"}),Rc=()=>{const e=(0,f.iV)("browsePageRefineResults");return l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("LoadingFilters-module__button___tD2Ng",P.gC,Ic),disabled:!0},l.createElement(Zl.Z,{"aria-hidden":!0}),l.createElement("span",{className:"LoadingFilters-module__filterText___fmXBY"},e))},xc=()=>{const e=(0,f.iV)("browsePageRefineResults");return l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("LoadingFilters-module__buttonLandscape___rLfge",P.gC,Ic),disabled:!0},l.createElement(Zl.Z,{"aria-hidden":!0}))},Nc=()=>{const e=(0,R.Wp)({desktopComponent:Pc,mobilePortraitComponent:Rc,mobileLandscapeComponent:xc});return e?l.createElement(e,null):null},Oc=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.y_)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,a]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("FiltersPanel-module__button___YQ92p",P.gC,kc),onClick:()=>{a(!0)}},l.createElement(Zl.Z,{"aria-hidden":!0}),l.createElement("span",{className:"FiltersPanel-module__filterText___G10Ck"},e)),o&&l.createElement(R.u_,{className:wc,show:o,ariaLabel:t,closeable:!0,onHide:()=>{a(!1)}},l.createElement(Xe,{errorHeading:n,errorDescription:r})))},Lc=()=>{const{browsePageRefineResults:e,browsePageFiltersTitle:t,browsePageFilterErrorTitle:n,browsePageFilterErrorDescription:r}=(0,f.y_)("browsePageRefineResults","browsePageFiltersTitle","browsePageFilterErrorTitle","browsePageFilterErrorDescription"),[o,a]=(0,l.useState)(!1);return l.createElement(l.Fragment,null,l.createElement(c.k,{as:"button","aria-label":e,buttonType:u.L$.Brand,className:s()("FiltersPanel-module__buttonLandscape___T7IjK",P.gC,kc),onClick:()=>{a(!0)}},l.createElement(Zl.Z,{"aria-hidden":!0})),o&&l.createElement(R.u_,{className:wc,show:o,ariaLabel:t,closeable:!0,onHide:()=>{a(!1)}},l.createElement(Xe,{errorHeading:n,errorDescription:r})))},Mc=()=>{const{browsePageFilterErrorTitle:e,browsePageFilterErrorDescription:t}=(0,f.y_)("browsePageFilterErrorTitle","browsePageFilterErrorDescription");return l.createElement(Xe,{errorHeading:e,errorDescription:t})},Dc=()=>{const e=(0,R.Wp)({desktopComponent:Mc,mobilePortraitComponent:Oc,mobileLandscapeComponent:Lc});return e?l.createElement(e,null):null},Uc=e=>{const t=(0,v.useSelector)((t=>(0,Ql.Z)(t,e.pageType))),n=(0,Hr.k6)(),r=(0,Jl.e1)(n.location);return l.createElement(jl.LceRenderer,{key:`FilterPanel_${e.pageType}`,data:t,renderFetching:()=>l.createElement(Nc,null),renderContent:t=>l.createElement(Tc,{filtersInfo:t.data,selectedFiltersId:r,sortInfo:t.data[Yl.v.OrderBy],pageType:e.pageType,overrideLandscapeButtonWithPortraitButton:e.overrideLandscapeButtonWithPortraitButton}),renderError:()=>l.createElement(Dc,null)})};var Fc=n(83022);const Bc=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{d:"M22.5 12a2.5 2.5 0 100-5 2.5 2.5 0 000 5z"}),l.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.89 3.067L3.053 14.905a3.518 3.518 0 00-.783 1.18c-.18.446-.27.91-.27 1.395.01.493.104.962.285 1.408.18.446.436.835.768 1.167l8.892 8.892a3.52 3.52 0 001.181.783c.446.18.91.27 1.394.27.494-.01.963-.104 1.409-.285.446-.18.835-.436 1.167-.768L28.933 17.11c.35-.351.616-.75.797-1.195.18-.446.27-.91.27-1.395V5.642a3.88 3.88 0 00-.285-1.422 3.404 3.404 0 00-.782-1.153 3.878 3.878 0 00-1.167-.782A3.495 3.495 0 0026.358 2h-8.893a3.657 3.657 0 00-2.575 1.067zm1.95 1.058c-.218.093-.39.211-.535.356L4.467 16.32a1.52 1.52 0 00-.342.516c-.082.2-.123.405-.125.626.007.248.055.47.139.678.082.203.19.364.328.502l8.892 8.892c.153.152.32.263.517.342.2.081.404.123.626.125.247-.007.47-.055.677-.139a1.47 1.47 0 00.502-.328L27.52 15.695a1.57 1.57 0 00.357-.53c.083-.206.124-.416.124-.645V5.663a1.876 1.876 0 00-.133-.68 1.405 1.405 0 00-.328-.482 1.88 1.88 0 00-.57-.382A1.497 1.497 0 0026.358 4h-8.893c-.229 0-.431.042-.625.125z"}))};const Hc=function(e){return l.createElement("svg",Object.assign({width:"1em",height:"1em",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},e),l.createElement("path",{d:"M30.982 7.593A1.06 1.06 0 0030 6.938H20a1.063 1.063 0 000 2.125h7.435L17 19.496l-5.249-5.248a1.063 1.063 0 00-1.502 0l-9 9A1.062 1.062 0 102.75 24.75L11 16.503l5.249 5.248a1.063 1.063 0 001.502 0l11.186-11.186V18a1.063 1.063 0 002.125 0V8a1.06 1.06 0 00-.08-.407z"}))};var qc=n(89809);const Gc={marginTop:"-0.1875rem",width:"1rem",height:"1rem"},zc=()=>{const e=l.createElement(Fc.Z,{"aria-hidden":!0,style:Gc}),[t,n]=(0,f.QF)("myWishlistHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.zx,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},Xc=()=>{const e=l.createElement(Bc,{"aria-hidden":!0,style:Gc}),[t,n]=(0,f.QF)("dealsAndSpecialsHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.J2,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},$c=()=>{const e=l.createElement(Hc,{"aria-hidden":!0,style:Gc}),[t,n]=(0,f.QF)("trendingGamesHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.Wk,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},Vc=()=>{const e=l.createElement(qc.Z,{"aria-hidden":!0,style:Gc}),[t,n]=(0,f.QF)("homePageBrowseAllGamesButtonLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.n5,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},Wc=()=>{const e=l.createElement(qc.Z,{"aria-hidden":!0,style:Gc}),[t,n]=(0,f.QF)("gamePassHomePageQuickLinksLabel","quickLinksAccessibilityLabelFunction"),r=(0,g.WUZ)(n,t),o=(0,v.useSelector)(g.Yzi),a=(0,g.uQr)(T.v5,{locale:o});return l.createElement(ie,{label:t,icon:e,url:a,ariaLabel:r})},Kc=()=>l.createElement(R.EM,{className:"QuickLinks-module__buttonContainer___WLGwK"},l.createElement(zc,null),l.createElement(Xc,null),l.createElement($c,null),l.createElement(Wc,null),l.createElement(Vc,null));const jc=e=>{let{searchResult:t}=e;let n=t.description;return t.description.length>225&&(n=`${t.description.substring(0,225)} ...`),l.createElement("div",{className:"SearchResult-module__resultWrapper___Xnr2T"},l.createElement(c.k,{href:t.url,as:"a",buttonType:u.L$.Tertiary,className:"SearchResult-module__result___mnqfi"},l.createElement("p",{className:"SearchResult-module__title___cBdxh"},t.title),l.createElement("p",{className:"SearchResult-module__description___yl6ss"},n),l.createElement("p",{className:"SearchResult-module__url___Fiuhf"},t.url)))};const Zc=e=>{let{searchResults:t}=e;return l.createElement("div",{className:"SearchResultList-module__searchGrid___8Jq6r"},t.map(((e,t)=>l.createElement(jc,{searchResult:e,key:t}))))};const Yc=e=>{const{ctaLabel:t,ctaUrl:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement("div",{className:"Spotlight-module__desktopContainer___0ci90"},l.createElement("div",{className:"Spotlight-module__desktopImagePane___4ca3T"},l.createElement("img",{alt:r,className:"Spotlight-module__desktopImage___Vccus",src:o}),l.createElement("div",{className:"Spotlight-module__desktopScrim___J4KEB"})),l.createElement("div",{className:"Spotlight-module__desktopTextPane___jYFTl"},l.createElement("section",{className:"Spotlight-module__description___9jsHd"},l.createElement("header",{className:s()(P.d7,"Spotlight-module__desktopTitle___GWcsS")},i),l.createElement("span",{className:s()(P.af,"Spotlight-module__desktopSubtitle___e7Xzw")},a),l.createElement(D,{label:t,url:null!==n&&void 0!==n?n:"#"}))))},Qc=e=>{const{ctaLabel:t,ctaUrl:n,imageAltText:r,imageUrl:o,subtitle:a,title:i}=e;return l.createElement(l.Fragment,null,l.createElement("div",{className:"Spotlight-module__portraitContainer___zEJi5"},l.createElement(R.Ee,{alt:null!==r&&void 0!==r?r:i,className:"Spotlight-module__portraitImage___AIkQu",height:860,src:o,width:860}),l.createElement("div",{className:"Spotlight-module__portraitScrim___u0U0p"}),l.createElement("section",{className:"Spotlight-module__portraitDescription___Ooa9E"},l.createElement("header",{className:s()(P.zO,"Spotlight-module__portraitTitle___8PJwh")},i),l.createElement("span",{className:s()(P.ZN,"Spotlight-module__portraitSubtitle___1ldMw")},a),l.createElement(D,{label:t,url:null!==n&&void 0!==n?n:"#"}))))},Jc=e=>{var t,n,r;const{properties:o}=e,a=o.ctaProperties,i=(0,Gl.m)(a),s=(0,R.Wp)({desktopComponent:Yc,mobilePortraitComponent:Qc,mobileLandscapeComponent:Yc});if(!o.imageUrl||!o.title)return null;const c={ctaLabel:null!==(t=o.ctaLabel)&&void 0!==t?t:"",ctaUrl:i,imageUrl:null!==(n=o.imageUrl)&&void 0!==n?n:"",imageAltText:o.imageAltText,subtitle:null!==(r=o.subtitle)&&void 0!==r?r:"",title:o.title};return s?l.createElement(s,C()({},c)):null};var eu="StackFilters-module__button___DhtUo",tu="StackFilters-module__buttonContainer___yoawp",nu="StackFilters-module__text___StjKO";const ru=e=>{var t;const{selectedFiltersIds:n,filters:r}=e,[o,a]=(0,f.QF)("browsePageClearAllFilters","browsePageClearAllFiltersAccessibilityLabel"),i=(0,Hr.k6)(),d=[];for(const[s,c]of Object.entries(n)){const e=c.map((e=>e.toUpperCase())),n=null===(t=r[s])||void 0===t?void 0:t.choices.filter((t=>e.includes(t.id.toUpperCase())));n&&n.map((e=>{s.toUpperCase()!==T.dq&&d.push(l.createElement(ou,{filterId:s,choiceId:e.id,choiceTitle:e.title}))}))}return d.length>0?l.createElement("div",{className:"StackFilters-module__container___yKM42"},l.createElement("div",{className:tu},l.createElement(c.k,{as:"button","aria-label":a,buttonType:u.L$.Tertiary,className:s()(eu,P.Km,nu),onClick:()=>{const e=(0,Y.nS)(i.location);(0,Y.uh)(i,e,!0)}},o)),l.createElement(l.Fragment,null,d)):null},ou=e=>{const{filterId:t,choiceId:n,choiceTitle:r}=e,o=(0,Hr.k6)(),a=(0,f.iV)("browsePageClearFilterFunction"),i=(0,g.WUZ)(a,r);return l.createElement("div",{className:tu},l.createElement(c.k,{as:"button","aria-label":i,buttonType:u.L$.Tertiary,className:s()(eu,P.Km,nu),onClick:()=>((e,t)=>{const n=(0,Y.z1)(e,t,(0,Y._B)(o.location));(0,Y.uh)(o,n,!0)})(Mn.vA[t],n)},l.createElement(he,{"aria-hidden":!0}),l.createElement("span",{className:"StackFilters-module__filterText___tmWQ0"},r)))},au=e=>{const t=(0,R.Wp)({desktopComponent:ru,mobilePortraitComponent:void 0,mobileLandscapeComponent:void 0});return t?l.createElement(t,C()({},e)):null},iu=e=>{const t=(0,v.useSelector)((t=>(0,Ql.Z)(t,e.pageType))),n=(0,Hr.k6)(),r=(0,Y.e1)(n.location);return l.createElement(jl.LceRenderer,{key:`StackFilter_${e.pageType}`,data:t,renderContent:e=>l.createElement(au,{selectedFiltersIds:r,filters:e.data})})};const su=e=>{let{gamerTag:t,className:n,gamerPic:r,gamerPicSize:o}=e;const a=(0,f.UD)("gamerPicAltText"),i=(0,f.UD)("applyFlowAccountWelcomeTitle",[t]);return l.createElement("div",{className:s()("GamerPicWithGamerTag-module__gamerPicWithGamerTagContainer___5nJMD",n)},l.createElement(hi.pp,{"aria-label":a,src:r,size:null!==o&&void 0!==o?o:hi.nh.Large,className:"GamerPicWithGamerTag-module__gamerPicContainer___InnM5"}),l.createElement("div",{className:"GamerPicWithGamerTag-module__gamerTag___40FQO"},i))};var lu=n(5808);const cu="launchContentModal",uu="launchContentModalEvent";var du;!function(e){e.XboxCardApplyModal="xboxcardapplymodal"}(du||(du={}));const hu=e=>{let{gamerTag:t}=e;const n=(0,f.UD)("applyFlowAccountSwitchButtonText"),r=(0,f.UD)("applyFlowAccountSwitchTitle",[t]),o=(0,g.UDx)(),a=new URL(o),i=-1!==o.toLocaleLowerCase().indexOf("/apply"),c=(0,g.$wQ)(),u=new URLSearchParams(a.search);i||(u.set(cu,du.XboxCardApplyModal),a.search=u.toString());const d={areaName:"XboxCardApplyHost",contentType:S.zc.Link,contentName:"Xbox card apply switch account",id:"xboxCardApplyUserSwitchAccount"},h=c(a.toString(),{prompt:"select_account"});return l.createElement("div",{className:"XboxCardApply-module__switchAccountBlock___fqUJZ"},l.createElement("span",{className:P.gC},r),l.createElement("a",C()({"aria-label":n,className:s()(P.gC,"XboxCardApply-module__changeAccountLink___bbNtn"),href:h},(0,S.iZ)(d)),n))},mu=e=>{let{hideSwitchAccount:t,applyFullPageRender:n,applyFullPageConsoleRender:r,onKeyDown:o,channelName:a,referrerId:i,onClose:c}=e;const u=(0,v.useSelector)(E.bG),d=(0,v.useSelector)(E.c1),h=null!==d&&void 0!==d?d:u,m=null===h||void 0===h?void 0:h.gamerPicUrl,p=null===h||void 0===h?void 0:h.gamerTag;return l.createElement(R.W2,{className:s()("xgp-reset-style","XboxCardApply-module__applyContainer___BonYH"),onKeyDown:o},l.createElement(R.W2,{className:"XboxCardApply-module__contentContainer___cFqa-"},l.createElement(R.W2,{className:"XboxCardApply-module__accountContainer___JTyBI"},!!p&&l.createElement(su,{gamerPic:m,gamerTag:p,className:"XboxCardApply-module__heroContainer___3sN5n"}),!t&&!!p&&l.createElement(hu,{gamerTag:p})),l.createElement(lu.r,{channelName:a,containerClassName:"XboxCardApply-module__pidlContainer___GMrgR",referrerId:i,onClose:c,nonConsoleFullPageRender:n,consoleFullPageRender:r})))},pu=e=>{const{applyFullPageConsoleRender:t}=e,n=(0,v.useDispatch)(),r=new URLSearchParams((0,Hr.TH)().search),o=r.get("t");o&&"dark"===o.toLowerCase()&&n(g.uQd.setTheme(g.Q2A.Dark));const a=r.get("channelname"),i=r.get("referrerid");return l.createElement(R.SV,null,(()=>l.createElement(R.Wv,null,l.createElement(mu,{hideSwitchAccount:t,channelName:null!==a&&void 0!==a?a:T.at,referrerId:null!==i&&void 0!==i?i:T.XB,applyFullPageRender:!t,applyFullPageConsoleRender:t}))))};const gu=e=>{let{onClose:t,showModal:n,hideClose:r,children:o}=e;const a=(0,v.useSelector)(E.bG),i=(0,f.UD)("applyModalAccessibilityLabel");return a?l.createElement(R.u_,{className:"XboxCardApplyModal-module__modalContent___WI4rp",show:n,fullscreenOnMobile:!0,ariaLabel:i,closeable:!r,closeButtonClassName:"XboxCardApplyModal-module__closeButton___UqRQM",closeContainerClassName:"XboxCardApplyModal-module__closeContainer___WqaLB",onCloseBtnClick:t,onHide:()=>{},overlayClassName:"XboxCardApplyModal-module__applyModalOverlay___BNzOM"},l.createElement(R.u_.Body,{className:"XboxCardApplyModal-module__applyModalBody___x190R"},o)):null};var fu=n(6490);const vu=`${T.IG} _IPageRequestUtils`},89741:(e,t,n)=>{"use strict";var r;n.d(t,{v:()=>r}),function(e){e.Accessibility="Accessibility",e.Genre="Genre",e.MaturityRating="MaturityRating",e.Multiplayer="Multiplayer",e.OrderBy="orderby",e.PlayWith="PlayWith",e.Price="Price",e.SupportedLanguages="SupportedLanguages",e.TechnicalFeatures="TechnicalFeatures",e.IncludedInSubscription="IncludedInSubscription"}(r||(r={}))},89083:(e,t,n)=>{"use strict";var r,o,a;n.d(t,{S8:()=>a,eN:()=>r,vm:()=>_.vm,m9:()=>o,ky:()=>i,UA:()=>m,Y$:()=>s,Ug:()=>_.Ug,vA:()=>p.v,nj:()=>d,oo:()=>u,E2:()=>_.E2,Zr:()=>_.Zr,px:()=>v,BQ:()=>h,qY:()=>g,Vn:()=>y}),function(e){e.None="None",e.Authorized="Authorized",e.Linked="Linked"}(r||(r={})),function(e){e.Success="Success",e.AlreadyLinked="AlreadyLinked",e.TokenMissing="TokenMissing",e.PartnerLinkedToAnotherXboxAccount="PartnerLinkedToAnotherXboxAccount",e.XboxLinkedToAnotherPartnerAccount="XboxLinkedToAnotherPartnerAccount",e.Error="Error"}(o||(o={})),function(e){e.Ubisoft="Ubisoft"}(a||(a={}));var i,s,l,c,u,d,h,m,p=n(89741);!function(e){e.XboxOne="XboxOne",e.XboxOneS="XboxOneS",e.XboxOneSDigital="XboxOneSDigital",e.XboxOneX="XboxOneX",e.XboxOneXDevKit="XboxOneXDevKit",e.XboxSeriesS="XboxSeriesS",e.XboxSeriesX="XboxSeriesX",e.XboxSeriesXDevKit="XboxSeriesXDevKit",e.Other="Other"}(i||(i={})),function(e){e.Unknown="Unknown",e.ConnectedStandby="ConnectedStandby",e.On="On",e.Off="Off",e.SystemUpdate="SystemUpdate"}(s||(s={})),function(e){e.Unknown="Unknown",e.Playing="Playing",e.Paused="Paused",e.Stopped="Stopped"}(l||(l={})),function(e){e.OK="OK",e.AccountNotFound="AccountNotFound",e.XboxNotPaired="XboxNotPaired",e.NullContext="NullContext",e.MissingAuthHeader="MissingAuthHeader",e.InvalidAuthHeader="InvalidAuthHeader",e.InvalidAuthScheme="InvalidAuthScheme",e.InvalidRequest="InvalidRequest",e.InvalidRequestPayload="InvalidRequestPayload",e.InvalidUserToken="InvalidUserToken",e.UserTokenExpired="UserTokenExpired",e.UnsupportedDeviceTypeClaim="UnsupportedDeviceTypeClaim",e.MissingXuidClaim="MissingXuidClaim",e.InvalidProxyToken="InvalidProxyToken",e.MissingPuidClaim="MissingPuidClaim",e.InvalidXToken="InvalidXToken",e.InvalidListType="InvalidListType",e.InvalidSkillPlatform="InvalidSkillPlatform",e.ErrorGettingDDSS2SToken="ErrorGettingDDSS2SToken",e.ErrorGettingCCSS2SToken="ErrorGettingCCSS2SToken",e.ErrorGettingCCSPermissionTicket="ErrorGettingCCSPermissionTicket",e.ErrorCallingCCS="ErrorCallingCCS",e.ErrorCallingAlexaEventGateway="ErrorCallingAlexaEventGateway",e.UserDataNotFound="UserDataNotFound",e.OperationNotFound="OperationNotFound",e.MissingDeviceId="MissingDeviceId",e.MissingGamerData="MissingGamerData",e.MissingPuid="MissingPuid",e.MissingXuid="MissingXuid",e.MissingDigitalAssistantRemoteControlEnabledFlag="MissingDigitalAssistantRemoteControlEnabledFlag",e.MissingConsoleStreamingEnabledFlag="MissingConsoleStreamingEnabledFlag",e.MissingRemoteManagementEnabledFlag="MissingRemoteManagementEnabledFlag",e.MissingWnsChannelUri="MissingWnsChannelUri",e.MissingOpId="MissingOpId",e.ErrorGettingWNSS2SToken="ErrorGettingWNSS2SToken",e.ErrorCallingWNS="ErrorCallingWNS",e.NotImplemented="NotImplemented",e.XboxDataNotFound="XboxDataNotFound",e.ApplicationNotInstalled="ApplicationNotInstalled",e.ErrorCallingXboxLive="ErrorCallingXboxLive",e.InvalidXboxOsVersion="InvalidXboxOsVersion",e.InternalError="InternalError",e.FriendNotFound="FriendNotFound",e.TvChannelNotFound="TvChannelNotFound",e.TvChannelFallback="TvChannelFallback",e.DigitalAssistantRemoteControlDisabled="DigitalAssistantRemoteControlDisabled",e.ConsoleStreamingDisabled="ConsoleStreamingDisabled",e.RemoteManagementDisabled="RemoteManagementDisabled",e.InvalidRefreshToken="InvalidRefreshToken",e.InvalidAuthToken="InvalidAuthToken",e.ErrorWNSTempDisconnected="ErrorWNSTempDisconnected",e.MissingPuidHeader="MissingPuidHeader",e.MissingXuidHeader="MissingXuidHeader",e.MissingPrincipal="MissingPrincipal",e.MissingServiceId="MissingServiceId",e.InvalidServiceId="InvalidServiceId",e.ServiceIdNotAllowed="ServiceIdNotAllowed",e.Timeout="Timeout",e.CurrentConsoleNotFound="CurrentConsoleNotFound",e.OperationUnauthorized="OperationUnauthorized",e.MobileEndpointNotFound="MobileEndpointNotFound",e.RegisteredClientNotFound="RegisteredClientNotFound",e.UnsupportedPlatform="UnsupportedPlatform",e.ContactSharingNotAllowed="ContactSharingNotAllowed",e.XboxPowerOff="XboxPowerOff",e.XboxSystemUpdate="XboxSystemUpdate",e.DefaultOrStaleData="DefaultOrStaleData",e.InstallQueueNotFound="InstallQueueNotFound",e.InstallQueueEmpty="InstallQueueEmpty",e.ThrottledTryAgain="ThrottledTryAgain"}(c||(c={})),function(e){e.Paused="Paused",e.Error="OffConsoleError",e.Pending="Pending",e.TimedOut="TimedOut",e.ConsoleError="Error",e.Succeeded="Succeeded"}(u||(u={})),function(e){e.Pending="Pending",e.Success="Success",e.Error="Error"}(d||(d={})),function(e){e.Left="Left",e.Right="Right"}(h||(h={})),function(e){e.ProductId="ProductId",e.CollectionId="CollectionId",e.Link="Link"}(m||(m={}));var g,f,v,_=n(2455);!function(e){e.Private="Private",e.Public="Public"}(g||(g={})),function(e){e.Friends="Friends",e.Everyone="Everyone",e.Blocked="Blocked"}(f||(f={})),function(e){e.Allow="Allow",e.Block="Block"}(v||(v={}));const y=[v.Allow,v.Block];f.Everyone,f.Friends,f.Blocked},2455:(e,t,n)=>{"use strict";var r,o,a;n.d(t,{E2:()=>i,Ug:()=>o,Zr:()=>r,vm:()=>a}),function(e){e.Acquisition="Acquisition",e.AccountLink="AccountLink",e.Buy="Buy",e.BuyToOwn="BuyToOwn",e.Cart="Cart",e.CloudPlay="CloudPlay",e.EditionSelector="EditionSelector",e.Extend="Extend",e.Get="Get",e.Gift="Gift",e.Install="Install",e.Join="Join",e.Manage="Manage",e.NotSoldSeparately="NotSoldSeparately",e.OpenInStore="OpenInStore",e.RedeemACode="RedeemACode",e.Remove="Remove",e.SkuSelector="SkuSelector",e.Trial="Trial",e.Upsell="Upsell",e.View="View",e.Wishlist="Wishlist"}(r||(r={})),function(e){e[e.Desktop=0]="Desktop",e[e.Mobile=1]="Mobile",e[e.Overflow=2]="Overflow",e[e.CondensedDesktop=3]="CondensedDesktop"}(o||(o={})),function(e){e[e.PDP=0]="PDP",e[e.PDPPageBar=1]="PDPPageBar",e[e.ContextualStore=2]="ContextualStore"}(a||(a={}));const i={[r.CloudPlay]:800,[r.Manage]:801,[r.AccountLink]:850,[r.Install]:900,[r.Extend]:901,[r.Upsell]:1e3,[r.NotSoldSeparately]:1050,[r.Acquisition]:1100,[r.BuyToOwn]:1200,PrimaryActionPriorityCutoff:1200,[r.OpenInStore]:1201,[r.SkuSelector]:1250,[r.EditionSelector]:1300,[r.Trial]:1350,[r.Cart]:1400,[r.Gift]:1450,[r.Wishlist]:1500,[r.RedeemACode]:1600}},96896:(e,t,n)=>{"use strict";n.d(t,{I:()=>i,a:()=>r});var r,o=n(87040),a=n(48152);!function(e){e.GET_PRODUCT_DETAIL_START="@contextualStore/GET_PRODUCT_DETAIL_START",e.GET_PRODUCT_DETAIL_COMPLETE="@contextualStore/GET_PRODUCT_DETAIL_COMPLETE",e.GET_PRODUCT_DETAIL_ERROR="@contextualStore/GET_PRODUCT_DETAIL_ERROR",e.GET_BROWSE_PAGE_START="@contextualStore/GET_BROWSE_PAGE_START",e.GET_BROWSE_PAGE_COMPLETE="@contextualStore/GET_BROWSE_PAGE_COMPLETE",e.GET_BROWSE_PAGE_ERROR="@contextualStore/GET_BROWSE_PAGE_ERROR",e.GET_MORE_BROWSE_PAGE_START="@contextualStore/GET_MORE_BROWSE_PAGE_START",e.GET_MORE_BROWSE_PAGE_COMPLETE="@contextualStore/GET_MORE_BROWSE_PAGE_COMPLETE",e.GET_MORE_BROWSE_PAGE_ERROR="@contextualStore/GET_MORE_BROWSE_PAGE_ERROR",e.PURCHASE_COMPLETE="@contextualStore/PURCHASE_COMPLETE"}(r||(r={}));const i={getProductDetailById:(0,a.K)(o.s.ContextualStore,r.GET_PRODUCT_DETAIL_START,((e,t)=>({productId:e,onFailure:t})),r.GET_PRODUCT_DETAIL_COMPLETE,(e=>({productId:e})),r.GET_PRODUCT_DETAIL_ERROR,((e,t)=>({error:e,productId:t}))),getBrowsePageDataById:(0,a.K)(o.s.ContextualStore,r.GET_BROWSE_PAGE_START,((e,t,n,r)=>({productId:e,itemType:t,channelKey:n,onFailure:r})),r.GET_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),getMoreBrowsePageData:(0,a.K)(o.s.ContextualStore,r.GET_MORE_BROWSE_PAGE_START,((e,t,n,r,o,a)=>({productId:e,itemType:t,channelKey:n,continuationToken:r,onFailure:o,onSuccess:a})),r.GET_MORE_BROWSE_PAGE_COMPLETE,((e,t)=>({channelKey:e,continuationToken:t})),r.GET_MORE_BROWSE_PAGE_ERROR,((e,t)=>({channelKey:e,error:t}))),purchaseComplete:(0,a.t)(r.PURCHASE_COMPLETE,o.s.ContextualStore,(e=>({productId:e})))}},48152:(e,t,n)=>{"use strict";n.d(t,{K:()=>a,t:()=>i});var r=n(16216),o=n(18689);const a=(0,r.Krg)(o.IG),i=(0,r.mqE)(o.IG)},91081:(e,t,n)=>{"use strict";n.d(t,{K:()=>r.K,t:()=>r.t});var r=n(48152)},55240:(e,t,n)=>{"use strict";n.d(t,{W:()=>r,w:()=>i});var r,o=n(87040),a=n(91081);!function(e){e.FETCH_DEVICES="@installActions/FETCH_DEVICES",e.FETCH_DEVICES_SUCCESS="@installActions/FETCH_DEVICES_SUCCESS",e.FETCH_DEVICES_ERROR="@installActions/FETCH_DEVICES_ERROR",e.QUEUE_INSTALL="@installActions/QUEUE_INSTALL",e.QUEUE_INSTALL_SUCCESS="@installActions/QUEUE_INSTALL_SUCCESS",e.QUEUE_INSTALL_ERROR="@installActions/QUEUE_INSTALL_ERROR",e.UPDATE_OPERATION_STATUS="@installActions/UPDATE_OPERATION_STATUS",e.CLEAR_OPERATION_STATUS="@installActions/CLEAR_OPERATION_STATUS"}(r||(r={}));const i={fetchDevices:(0,a.K)(o.s.Install,r.FETCH_DEVICES,(()=>({type:r.FETCH_DEVICES})),r.FETCH_DEVICES_SUCCESS,((e,t)=>({type:r.FETCH_DEVICES_SUCCESS,xboxDevices:e,pcDevices:t})),r.FETCH_DEVICES_ERROR,(e=>({type:r.FETCH_DEVICES_ERROR,error:e}))),queueInstall:(0,a.K)(o.s.Install,r.QUEUE_INSTALL,((e,t,n)=>({type:r.QUEUE_INSTALL,deviceId:e,productIds:t,isPcDevice:n})),r.QUEUE_INSTALL_SUCCESS,(e=>({type:r.QUEUE_INSTALL_SUCCESS,operationId:e})),r.QUEUE_INSTALL_ERROR,((e,t,n)=>({type:r.QUEUE_INSTALL_ERROR,error:e,deviceId:t,productIds:n}))),updateOperationStatus:(0,a.t)(r.UPDATE_OPERATION_STATUS,o.s.Install,((e,t)=>({type:r.UPDATE_OPERATION_STATUS,operation:e,newOperationStatus:t}))),clearOperationStatus:(0,a.t)(r.CLEAR_OPERATION_STATUS,o.s.Install,(e=>({type:r.CLEAR_OPERATION_STATUS,operation:e})))}},15708:(e,t,n)=>{"use strict";n.d(t,{tt:()=>r,X:()=>u,UG:()=>p,ao:()=>l.a,c$:()=>w,BP:()=>s,WA:()=>d.W,F6:()=>f,tC:()=>_,IY:()=>b,sX:()=>o.s,Z5:()=>E,$K:()=>T,VC:()=>i,z2:()=>m,LA:()=>g,Iv:()=>l.I,l:()=>k,tG:()=>a.t,KN:()=>a.K,b3:()=>J,Hg:()=>ee,YA:()=>te,EK:()=>c,Nx:()=>V.Nx,xP:()=>V.xP,ut:()=>K,V4:()=>L,fT:()=>H,hn:()=>q,oT:()=>B,D3:()=>F,Qj:()=>G,_c:()=>z,Me:()=>$.Me,tR:()=>re,Zj:()=>X.Z,Ie:()=>V.Ie,ik:()=>$.ik,GK:()=>W,wX:()=>D,AY:()=>V.AY,Uk:()=>U,RY:()=>V.RY,bE:()=>oe,zF:()=>V.zF,h$:()=>V.h$,mr:()=>V.mr,D:()=>$.D,zk:()=>Y,FJ:()=>V.FJ,_L:()=>V._L,j0:()=>V.j0,th:()=>V.th,L2:()=>V.L2,NP:()=>V.NP,Zi:()=>Q,Lu:()=>V.Lu,pM:()=>V.pM,CF:()=>Z,Hj:()=>$.Hj,wx:()=>d.w,bX:()=>v,xN:()=>y,s8:()=>C,F4:()=>S,SA:()=>A});var r,o=n(87040),a=n(91081);!function(e){e.SISU_FLOW_START="@accountLink/SISU_FLOW_START",e.SISU_FLOW_COMPLETE="@accountLink/SISU_FLOW_COMPLETE",e.SISU_FLOW_ERROR="@accountLink/SISU_FLOW_ERROR",e.GET_LINK_STATUS_START="@accountLink/GET_LINK_STATUS_START",e.GET_LINK_STATUS_COMPLETE="@accountLink/GET_LINK_STATUS_COMPLETE",e.GET_LINK_STATUS_ERROR="@accountLink/GET_LINK_STATUS_ERROR",e.COMPLETE_LINK_START="@accountLink/COMPLETE_LINK_START",e.COMPLETE_LINK_COMPLETE="@accountLink/COMPLETE_LINK_COMPLETE",e.COMPLETE_LINK_ERROR="@accountLink/COMPLETE_LINK_ERROR",e.COMPLETE_LINK_RESET="@accountLink/COMPLETE_LINK_RESET"}(r||(r={}));const i={SISUFlow:(0,a.K)(o.s.AccountLink,r.SISU_FLOW_START,(e=>({networkName:e})),r.SISU_FLOW_COMPLETE,(e=>({networkName:e})),r.SISU_FLOW_ERROR,((e,t)=>({error:t,networkName:e}))),getLinkStatus:(0,a.K)(o.s.AccountLink,r.GET_LINK_STATUS_START,(e=>({networkName:e})),r.GET_LINK_STATUS_COMPLETE,((e,t,n)=>({networkName:e,status:t,userName:n})),r.GET_LINK_STATUS_ERROR,((e,t)=>({error:t,networkName:e}))),completeLink:(0,a.K)(o.s.AccountLink,r.COMPLETE_LINK_START,(e=>({networkName:e})),r.COMPLETE_LINK_COMPLETE,((e,t)=>({networkName:e,result:t})),r.COMPLETE_LINK_ERROR,((e,t)=>({error:t,networkName:e}))),completeLinkReset:(0,a.t)(r.COMPLETE_LINK_RESET,o.s.AccountLink,(e=>({networkName:e})))};var s,l=n(96896);!function(e){e.FETCH_FILTERS="@filters/FETCH_FILTERS",e.FETCH_FILTERS_SUCCESS="@filters/FETCH_FILTERS_SUCCESS",e.FETCH_FILTERS_ERROR="@filters/FETCH_FILTERS_ERROR",e.createFiltersActions="createFiltersActions"}(s||(s={}));const c={fetchFiltersResults:(0,a.K)(o.s.Filters,s.FETCH_FILTERS,(e=>({type:s.FETCH_FILTERS,filterKey:e})),s.FETCH_FILTERS_SUCCESS,(e=>({type:s.FETCH_FILTERS_SUCCESS,data:e})),s.FETCH_FILTERS_ERROR,((e,t)=>({type:s.FETCH_FILTERS_ERROR,error:e,filterKey:t})))};var u,d=n(55240),h=n(48152);!function(e){e.UPDATE_PRODUCT_ADDITIONAL_INFORMATION="@productAdditionalInformation/UPDATE_PRODUCT_ADDITIONAL_INFORMATION"}(u||(u={}));const m={updateAdditionalInformation:(0,h.t)(u.UPDATE_PRODUCT_ADDITIONAL_INFORMATION,o.s.AdditionalInformation,(e=>({additionalInfo:e})))};var p;!function(e){e.UPDATE_AVAILABILITY_SUMMARIES="@availabilitySummaries/UPDATE_AVAILABILITY_SUMMARIES"}(p||(p={}));const g={updateAvailabilitySummaries:(0,a.t)(p.UPDATE_AVAILABILITY_SUMMARIES,o.s.AvailabilitySummary,(e=>({summaries:e})))};var f;!function(e){e.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT="@productActions/CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT",e.FETCH_PRODUCT_ACTIONS="@productActions/FETCH_PRODUCT_ACTIONS",e.FETCH_PRODUCT_ACTIONS_SUCCESS="@productActions/FETCH_PRODUCT_ACTIONS_SUCCESS",e.FETCH_PRODUCT_ACTIONS_ERROR="@productActions/FETCH_PRODUCT_ACTIONS_ERROR",e.UPDATE_PRODUCT_ACTIONS="@productActions/UPDATE_PRODUCT_ACTIONS"}(f||(f={}));const v={clearProductActionsForProduct:(0,h.t)(f.CLEAR_PRODUCT_ACTIONS_FOR_PRODUCT,o.s.ProductActions,(e=>({productId:e}))),updateProductActions:(0,h.t)(f.UPDATE_PRODUCT_ACTIONS,o.s.ProductActions,(e=>({productActions:e}))),fetchProductActions:(0,h.K)(o.s.ProductActions,f.FETCH_PRODUCT_ACTIONS,(e=>({type:f.FETCH_PRODUCT_ACTIONS,productId:e})),f.FETCH_PRODUCT_ACTIONS_SUCCESS,((e,t)=>({type:f.FETCH_PRODUCT_ACTIONS_SUCCESS,data:e,productId:t})),f.FETCH_PRODUCT_ACTIONS_ERROR,((e,t)=>({type:f.FETCH_PRODUCT_ACTIONS_ERROR,error:e,productId:t})))};var _;!function(e){e.GET_PRODUCT_INFO="@productInfoActions/GET_PRODUCT_INFO",e.GET_PRODUCT_INFO_COMPLETE="@productInfoActions/GET_PRODUCT_INFO_COMPLETE",e.GET_PRODUCT_INFO_ERROR="@productInfoActions/GET_PRODUCT_INFO_ERROR"}(_||(_={}));const y={getProductInfo:(0,h.K)(o.s.ProductInfo,_.GET_PRODUCT_INFO,(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{productId:e,onlyProductSummary:t}}),_.GET_PRODUCT_INFO_COMPLETE,(e=>({productId:e})),_.GET_PRODUCT_INFO_ERROR,((e,t)=>({productId:e,error:t})))};var b;!function(e){e.UPDATE_PRODUCT_SUMMARIES="@productSummaries/UPDATE_PRODUCT_SUMMARIES"}(b||(b={}));const C={updateProductSummaries:(0,h.t)(b.UPDATE_PRODUCT_SUMMARIES,o.s.ProductSummary,(e=>({summaries:e})))};var E;!function(e){e.UPDATE_SKU_SUMMARIES="@skuSummaries/UPDATE_SKU_SUMMARIES"}(E||(E={}));const S={updateSkuSummaries:(0,h.t)(E.UPDATE_SKU_SUMMARIES,o.s.SkuSummary,(e=>({summaries:e})))};var T;!function(e){e.ADD_TO_CART_START="@scds/ADD_TO_CART_START",e.ADD_TO_CART_SUCCESS="@scds/ADD_TO_CART_SUCCESS",e.ADD_TO_CART_ERROR="@scds/ADD_TO_CART_ERROR",e.UPDATE_CART="@scds/UPDATE_CART",e.FETCH_VECTOR_ID_START="@scds/FETCH_VECTOR_ID_START",e.FETCH_VECTOR_ID_SUCCESS="@scds/FETCH_VECTOR_ID_SUCCESS",e.FETCH_VECTOR_ID_ERROR="@scds/FETCH_VECTOR_ID_ERROR",e.CLEAR_VECTOR_ID="@scds/CLEAR_VECTOR_ID"}(T||(T={}));const A={addToCart:(0,a.K)(o.s.StoreCartService,T.ADD_TO_CART_START,((e,t,n)=>({itemsToAdd:e,onSuccess:t,onFailure:n})),T.ADD_TO_CART_SUCCESS,(e=>({itemsToAdd:e})),T.ADD_TO_CART_ERROR,((e,t,n)=>({itemsToAdd:e,failureReasons:t,error:n}))),updateCart:(0,a.t)(T.UPDATE_CART,o.s.StoreCartService,(e=>({lineItems:e}))),fetchVectorId:(0,a.K)(o.s.StoreCartService,T.FETCH_VECTOR_ID_START,(()=>{}),T.FETCH_VECTOR_ID_SUCCESS,(e=>({vectorId:e})),T.FETCH_VECTOR_ID_ERROR,(e=>({error:e}))),clearVectorId:(0,a.t)(T.CLEAR_VECTOR_ID,o.s.StoreCartService,(()=>({})))};var w;!function(e){e.GET_DEFAULT_WISHLISTS_START="@wishlist/GET_DEFAULT_WISHLIST_START",e.ADD_WISHLIST_ITEM_START="@wishlist/ADD_WISHLIST_ITEM_START",e.ADD_WISHLIST_ITEM_COMPLETE="@wishlist/ADD_WISHLIST_ITEM_COMPLETE",e.ADD_WISHLIST_ITEM_ERROR="@wishlist/ADD_WISHLIST_ITEM_ERROR",e.REMOVE_WISHLIST_ITEM_START="@wishlist/REMOVE_WISHLIST_ITEM_START",e.REMOVE_WISHLIST_ITEM_COMPLETE="@wishlist/REMOVE_WISHLIST_ITEM_COMPLETE",e.REMOVE_WISHLIST_ITEM_ERROR="@wishlist/REMOVE_WISHLIST_ITEM_ERROR",e.SAVE_WISHLIST_SETTINGS_START="@wishlist/SAVE_SETTINGS_START",e.SAVE_WISHLIST_SETTINGS_COMPLETE="@wishlist/SAVE_SETTINGS_COMPLETE",e.SAVE_WISHLIST_SETTINGS_ERROR="@wishlist/SAVE_SETTINGS_ERROR"}(w||(w={}));const k={getDefaultWishlist:(0,h.t)(w.GET_DEFAULT_WISHLISTS_START,o.s.Wishlist,(e=>({onError:e}))),addWishListItem:(0,h.K)(o.s.Wishlist,w.ADD_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),w.ADD_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),w.ADD_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),removeWishListItem:(0,h.K)(o.s.Wishlist,w.REMOVE_WISHLIST_ITEM_START,((e,t,n,r,o)=>({wishListId:n,productId:r,skuId:o,onSuccess:e,onFailure:t})),w.REMOVE_WISHLIST_ITEM_COMPLETE,((e,t,n)=>({wishListId:e,productId:t,skuId:n})),w.REMOVE_WISHLIST_ITEM_ERROR,((e,t,n,r)=>({wishListId:t,productId:n,skuId:r,error:e}))),saveWishlistSettings:(0,h.K)(o.s.Wishlist,w.SAVE_WISHLIST_SETTINGS_START,((e,t,n,r)=>({wishListId:n,settingsState:r,onSuccess:e,onFailure:t})),w.SAVE_WISHLIST_SETTINGS_COMPLETE,((e,t)=>({wishListId:e,settingsState:t})),w.SAVE_WISHLIST_SETTINGS_ERROR,((e,t)=>({wishListId:t,error:e})))};var I=n(16109),P=n(32663),R=(n(64925),n(54819),n(21883)),x=n(16216),N=n(98680),O=n(64561);const L=(e,t)=>{const n=(0,x.kgH)(t);return(0,R.getDataOrPrevious)((0,O.iJ)(e).channelData[n])},M=(e,t)=>{const n=(0,x.kgH)(t);return(0,R.getDataOrPrevious)((0,O.iJ)(e).channelMetadata[n])},D=(e,t)=>{const n=(0,x.kgH)(t);return(0,O.iJ)(e).channelData[n]||(0,R.lceNotRequested)()},U=e=>D(e,P.Y3),F=(e,t)=>{const n=L(e,t);return n?n.products.map((e=>({productId:e.productId,skuId:e.skuId||"",availabilityId:""}))):[]},B=(e,t)=>{const n=(0,N.HN)(t),r=M(e,n);return(null===r||void 0===r?void 0:r.channelName)||""},H=(e,t)=>{const n=M(e,t);return(null===n||void 0===n?void 0:n.channelLocalizationKey)||""},q=(e,t)=>(0,O.iJ)(e).channelMetadata[(0,x.kgH)(t)]||(0,R.lceNotRequested)(),G=(e,t)=>{const n=M(e,t);return null===n||void 0===n?void 0:n.vanityName},z=(e,t)=>{var n;return null===(n=(0,O.ac)(e)[t])||void 0===n?void 0:n.continuationToken};var X=n(99e3),$=n(68174),V=n(28669);n(48166),n(26464),n(45162);const W=(e,t,n,r)=>!!(0,O.KJ)(e).lineItems.find((e=>e&&(0,x.kgH)(e.productId)===(0,x.kgH)(t)&&(0,x.kgH)(e.skuId)===(0,x.kgH)(n)&&(0,x.kgH)(e.availabilityId)===(0,x.kgH)(r))),K=e=>(0,O.KJ)(e).vectorId;var j=n(18689);const Z=(e,t)=>{let n=t;return t===j.Z0&&(n=(e=>(0,O.xB)(e).defaultWishlistId)(e)||n),(0,O.xB)(e).wishlists[n]},Y=(e,t)=>(0,O.pJ)(e).privacySettingsData[t]||(0,R.lceNotRequested)(),Q=(e,t)=>(0,O.pJ)(e).safetySettingsData[t]||(0,R.lceNotRequested)(),{entitlementActions:J,entitlementReducer:ee,entitlementSagas:te,entitlementSelectors:ne}=(0,I.So)(P.IG,(e=>(0,O.fg)(e).entitlements)),re=ne.getEntitlementByProductId,oe=ne.getOwnershipOrSatisfactionByProductId},87040:(e,t,n)=>{"use strict";var r;n.d(t,{s:()=>r}),function(e){e.AccountLink="AccountLink",e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ContextualStore="ContextualStore",e.Entitlement="Entitlement",e.Filters="Filters",e.Install="Install",e.Layout="Layout ",e.ProductActions="ProductActions",e.ProductSummary="ProductSummary",e.ServiceErrorMessage="ServiceErrorMessage",e.SkuSummary="SkuSummary",e.StoreCartService="StoreCartService",e.Wishlist="Wishlist",e.ProductInfo="ProductInfo",e.Search="Search",e.UserSettings="UserSettings"}(r||(r={}))},99e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(21883),o=(n(89741),n(64561));const a=(e,t)=>(0,o.GC)(e)[t]||(0,r.lceNotRequested)()},68174:(e,t,n)=>{"use strict";n.d(t,{D:()=>i,Hj:()=>s,Me:()=>l,ik:()=>c});n(48166),n(26464),n(45162);var r=n(21883),o=n(16216),a=n(64561);const i=e=>(0,a.fA)(e).devices.pcDevices,s=e=>(0,a.fA)(e).devices.xboxDevices,l=(e,t)=>{const n=i(e);if((0,r.isContent)(n)){const e=n.data.find((e=>(0,o.Ypc)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}const a=s(e);if((0,r.isContent)(a)){const e=a.data.find((e=>(0,o.Ypc)(e.id,t)));return(null===e||void 0===e?void 0:e.name)||""}return""},c=(e,t)=>(0,a.fA)(e).installOperationsByProductId[t]},3175:(e,t,n)=>{"use strict";n.d(t,{By:()=>s,Cx:()=>a,xP:()=>i});n(36728),n(34715),n(74407),n(26464),n(19570),n(64903);var r=n(16216),o=n(30497);const a=(e,t,n,a)=>{var i,s;const l=(0,r.Lx9)(t),c=(0,r.Lx9)(n),u=(0,r.Lx9)(a),d=(0,o.S9)(e);return null===(s=null===(i=null===d||void 0===d?void 0:d[l])||void 0===i?void 0:i[c])||void 0===s?void 0:s[u]},i=(e,t)=>{const n=(0,r.Lx9)(t),a=(0,o.S9)(e)[n];if(!a)return;return Object.keys(a).reduce(((e,t)=>{const n=a[t];if(n){Object.keys(n).forEach((t=>{e.push(n[t])}))}return e}),[])},s=(e,t,n)=>{const a=(0,r.Lx9)(t),i=(0,o.S9)(e)[a],s=null===i||void 0===i?void 0:i[n],l=[];if(!s)return l;return Object.keys(s).reduce(((e,t)=>{const n=s[t];return n&&e.push(n),e}),l)}},28669:(e,t,n)=>{"use strict";n.d(t,{Nx:()=>d.Nx,xP:()=>r.xP,Ie:()=>u.Ie,AY:()=>d.AY,RY:()=>u.RY,zF:()=>u.zF,h$:()=>u.h$,mr:()=>u.mr,FJ:()=>i,_L:()=>l,j0:()=>c,th:()=>d.th,L2:()=>u.L2,NP:()=>h.NP,Lu:()=>d.Lu,pM:()=>s.pM});var r=n(3175),o=n(16216),a=n(64561);const i=(e,t)=>(e=>(0,a.fg)(e).productActions)(e)[(0,o.kgH)(t)];var s=n(30497);const l=(e,t)=>(0,s.rH)(e)[(0,o.Lx9)(t)],c=(e,t)=>(e=>(0,a.fg)(e).productInfoMetadata)(e)[(0,o.Lx9)(t)];var u=n(16454),d=n(93106),h=n(47058)},30497:(e,t,n)=>{"use strict";n.d(t,{S9:()=>i,kw:()=>o,pM:()=>a,rH:()=>s});var r=n(64561);const o=e=>(0,r.fg)(e).productSummaries,a=e=>(0,r.fg)(e).skuSummaries,i=e=>(0,r.fg)(e).availabilitySummaries,s=e=>(0,r.fg)(e).additionalInformation},16454:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>c,L2:()=>l,RY:()=>h,h$:()=>m,mr:()=>d,zF:()=>u});n(36728),n(31235),n(9e4),n(48166),n(64925),n(74407),n(26464),n(18339),n(45162),n(54819),n(64903),n(6886);var r=n(3569),o=n(12748),a=n(3175),i=n(93106),s=n(47058);const l=(e,t,n,l,c)=>{let u,d;const h=(0,i.th)(e,t);if(h){const i=[n];for((0,o.L)(i,h.optimalSkuId,null===c||void 0===c?void 0:c.useOptimalFallback),(0,o.L)(i,h.preferredSkuId,null===c||void 0===c?void 0:c.usePreferredFallback);i.length;){const n=i.shift();if(n&&(u=(0,s._j)(e,t,n),u)){if((null===c||void 0===c?void 0:c.skipGamesWithGoldSku)&&u.isGamesWithGoldSku)u=void 0;else if(null===c||void 0===c?void 0:c.requirePurchaseableSku){const n=(0,a.By)(e,t,u.skuId);(null===n||void 0===n?void 0:n.find((e=>e.actions.includes(r.Hi.Purchase))))||(u=void 0)}if(u)break}}}if(u){const n=[l];for((0,o.L)(n,u.optimalAvailabilityId,null===c||void 0===c?void 0:c.useOptimalFallback),(0,o.L)(n,u.preferredAvailabilityId,null===c||void 0===c?void 0:c.usePreferredFallback);n.length;){const r=n.shift();if(r&&(d=(0,a.Cx)(e,t,u.skuId,r),d))break}}return h&&((null===c||void 0===c?void 0:c.allowPartial)||u&&d)?{product:h,sku:u,availability:d}:void 0},c=(e,t,n,r)=>{let{product:o,sku:i,availability:l}=h(e,t,n,r);return!n&&(null===o||void 0===o?void 0:o.preferredSkuId)&&(i=(0,s._j)(e,t,o.preferredSkuId)),!l&&(null===i||void 0===i?void 0:i.preferredAvailabilityId)&&(l=(0,a.Cx)(e,t,i.skuId,i.preferredAvailabilityId)),o&&i&&l?{product:o,sku:i,availability:l}:void 0},u=(e,t,n,r)=>l(e,t,n,r,{allowPartial:!0,useOptimalFallback:!0,usePreferredFallback:!0}),d=(e,t,n,o)=>{let l,c;const u=(0,i.th)(e,t);if(u){const i=[n,u.optimalSkuId,u.preferredSkuId];for(const n of i)if(n&&(l=(0,s._j)(e,t,n),l)){const n=[o,l.optimalAvailabilityId,l.preferredAvailabilityId];for(const o of n)if(o){if(c=(0,a.Cx)(e,t,l.skuId,o),c&&(0,r.xS)(c))return{product:u,sku:l,availability:c};c=void 0}l=void 0}}return u?{product:u,sku:l,availability:c}:void 0},h=(e,t,n,r)=>{const o=(0,i.th)(e,t);let l,c;return o&&n&&(l=(0,s._j)(e,t,n),l&&r&&(c=(0,a.Cx)(e,t,n,r))),{product:o,sku:l,availability:c}},m=(e,t)=>t.reduce(((t,n)=>{const r=u(e,n.productId,n.skuId,n.availabilityId);return r&&t.push(r),t}),[])},93106:(e,t,n)=>{"use strict";n.d(t,{AY:()=>i,Lu:()=>s,Nx:()=>l,th:()=>a});var r=n(16216),o=n(30497);const a=(e,t)=>(0,o.kw)(e)[(0,r.Lx9)(t)],i=(e,t)=>{var n;return null===(n=a(e,t))||void 0===n?void 0:n.languagesSupported},s=(e,t)=>{var n;return null===(n=a(e,t))||void 0===n?void 0:n.showSupportedLanguageDisclaimer},l=(e,t)=>{var n;return null===(n=a(e,t))||void 0===n?void 0:n.achievements}},47058:(e,t,n)=>{"use strict";n.d(t,{NP:()=>l,_j:()=>s});n(9e4),n(64925),n(26464),n(18339),n(54819),n(6886);var r=n(16216),o=n(3569),a=n(3175),i=n(30497);const s=(e,t,n)=>{const o=(0,r.Lx9)(t),a=(0,r.Lx9)(n),s=(0,i.pM)(e)[o];return null===s||void 0===s?void 0:s[a]},l=(e,t)=>{const n=(0,r.Lx9)(t),s=(0,i.pM)(e)[n];if(!s)return[];return Object.keys(s).filter((n=>{const r=(0,a.By)(e,t,n);if(!r)return!1;for(const e of r)return(0,o.xS)(e);return!1})).map((e=>s[e]))}},64561:(e,t,n)=>{"use strict";n.d(t,{GC:()=>h,KJ:()=>i,ac:()=>d,fA:()=>s,fg:()=>l,iJ:()=>u,pJ:()=>m,xB:()=>c});n(77950),n(94908);var r=n(16216),o=n(18689);const a=e=>(0,r.Qij)(e,o.IG),i=e=>a(e).cart,s=e=>a(e).install,l=e=>a(e).products,c=e=>a(e).wishlist,u=e=>a(e).channels,d=e=>a(e).contextualStore,h=e=>a(e).filters,m=e=>a(e).userSettings},6490:(e,t,n)=>{"use strict";n.d(t,{x:()=>s});n(6710),n(31235);var r=n(16216),o=n(22799),a=n(3569),i=n(32663);var s;!function(e){e.trackGameInterest=(e,r)=>t()?!!n(e)&&(s(e)?(r.verbose("trackGameInterest:Success"),!0):(r.error("trackGameInterest:Storage Failed"),!1)):(r.warn("trackGameInterest:No Storage"),!1),e.getGameInterest=e=>{if(!t())return void e.warn("getGameInterest:No Storage");const n=localStorage.getItem(i.uZ);if(null===n||""===n)return void e.warn("getGameInterest:Empty Storage");let r;try{r=JSON.parse(n)}catch(a){return void e.error("getGameInterest:Parse Error",(0,o.toError)(a))}if(void 0===r.productId||void 0===r.visitTime)return void e.error("getGameInterest:Schema Error");if(!(Math.abs((new Date).getTime()-r.visitTime)>=432e6))return e.verbose("getGameInterest:Success"),r.productId;e.warn("getGameInterest:Expired")};const t=()=>!(0,r.NT7)()&&(void 0!==window.consentCheckRequired&&void 0!==window.xbcUser&&(!window.consentCheckRequired||window.xbcUser.consentState.consentState.advertising)),n=e=>!a.gS.includes(e.toUpperCase()),s=e=>{const t={productId:e,visitTime:(new Date).getTime()};try{return localStorage.setItem(i.uZ,JSON.stringify(t)),!0}catch(n){return!1}}}(s||(s={}))},16844:(e,t,n)=>{"use strict";n.d(t,{Cp:()=>E,GX:()=>l,Ii:()=>p,Ij:()=>S,KH:()=>_,Lw:()=>d,Mc:()=>g,Sb:()=>A,Vt:()=>k,Xf:()=>T,ZH:()=>C,_m:()=>s,cY:()=>a,dq:()=>v,eV:()=>w,gB:()=>m,hB:()=>f,i9:()=>N,mI:()=>c,nh:()=>y,oU:()=>x,t_:()=>I,uz:()=>h,w6:()=>i,wT:()=>P,x$:()=>R,xE:()=>O,yp:()=>u,zC:()=>b});n(71372);var r=n(16216),o=n(74495);const a="https://www.microsoft.com/{locale}/store/cart",i="https://www.microsoft.com/store/onerf/signin?EEL=False&pcexp=True&ru={returnUrl}",s="https://support.microsoft.com/{0}/account-billing/4ed126a4-5d46-413f-a28e-968bd4414a80",l="https://aka.ms/AAaqyo9",c="https://aka.ms/AA52irh",u="https://aka.ms/AAaqyop",d="https://xbox.com/photosensitive-seizure-warning",h="productDetails/{productId}",m="search",p="search/{tabKey}",g="library",f=()=>window.location.origin||r.V9f,v=()=>(0,o.useSelector)((e=>(0,r.$Pr)(e,r.vCX.StorePPE)))?"https://onestore-ppe.microsoft.com":"https://www.microsoft.com",_=e=>(0,r.uQr)("family/memberXuid({xuid})",{xuid:e}),y=(e,t)=>`${t?`/${t}`:""}/user/settings/privacy-and-safety${e?`/${e}`:""}`,b=e=>{let t="https://account.xbox.com/Settings?activetab=main:xbox360tab";return e&&(t+=`&gamertag=${encodeURIComponent(e)}`),t},C="https://social.xbox.com/changegamertag",E="https://account.live.com/Password/Change",S="http://go.microsoft.com/fwlink/?LinkID=532885",T="https://family.microsoft.com",A="https://account.microsoft.com/devices",w="https://account.microsoft.com/billing/orders",k="https://account.microsoft.com/services/",I="https://www.xbox.com/user/settings",P="https://account.xbox.com/Profile/Protection",R="https://support.xbox.com/help/family-online-safety/online-safety/manage-app-privacy-settings-xbox-one",x="https://ratingsedge.rnr.microsoft.com/v1.0/ratingsedge/content/product/{productId}/review/{reviewId}",N="https://apps.apple.com/app/xbox/id736179781",O="https://support.xbox.com/help/hardware-network/getting-started-set-up/complete-setup-in-mobile-app"},10653:(e,t,n)=>{"use strict";n.d(t,{Z:()=>G});n(73439),n(6886);var r=n(49025),o=(n(77950),n(74069),n(16216)),a=n(29075),i=n(4517),s=n(18007),l=n(2784),c=n(61975),u=n(36231);var d=n(8093),h=n(73637),m=(n(88233),n(14121),n(60523),n(74495));const p=e=>{const t=(0,m.useSelector)(o.Yzi),n=(0,i.Gn)("/games/browse/:platformName?",{platformName:e});return new URL(`${t}${n}`,o.V9f).toString()};n(94908);var g=n(24594),f=n(70637),v=n(2293),_=n(27473),y=n(62970),b=n(54656),C=n(50498),E=n(19884),S=n(31539),T=n(58136),A=n(45969),w=n(69652),k=n(20892),I=n(87995);var P=n(46808),R=n(4583),x=n(72813),N=n(92838),O=n(82885),L=n(2348),M=n(67446),D=n(16844);const U=()=>{const e=(0,m.useSelector)(o.Xnf).userAgent,t=new M.LK(e),n=t.isIOS,r=t.isIPadOS,a=t.isAndroid;let s=D.xE;if(n||r)s=D.i9;else if(a)return l.createElement(i.l_,{to:"/XboxSetupAndroid"});return l.createElement(c.Ux,{to:s})};var F=n(39430);const B={"/store/home":{featureGate:o.vCX.EnableStoreHomePage,redirect:"/games"},"/search/results":{featureGate:o.vCX.EnableNewSearchExperience,redirect:"/search"}},H=(0,a.tP)((()=>Promise.all([n.e(64580),n.e(95708),n.e(18132)]).then(n.bind(n,56494))),(e=>e.lazyRouteConfigs)),q=[{key:"Wishlist",path:"/wishlist",component:x.l,exact:!0,seoComponent:N.D,testConfig:{title:"Wishlist",testPath:"/wishlist"},lazyConfig:H("Wishlist")},{key:"WishlistWithId",path:`/wishlist/:${o.Hw9.WishlistId}`,component:x.l,exact:!0,seoComponent:N.n,testConfig:{title:"Wishlist",testPath:"/wishlist/wishlistId"},lazyConfig:H("WishlistWithId")},{key:"StoreHomePage",path:"/store/home",component:R.q,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableStoreHomePage]:e=>!0===e}},experimentBasedRedirect:B["/store/home"],testConfig:{title:"Store Home Page",testPath:"/store/home"},lazyConfig:H("StoreHomePage")},{key:"PrivacyAndSafetySettings",path:`/user/settings/privacy-and-safety/:${o.Hw9.Xuid}?`,component:S.O,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableXboxOneRFAccountSettings]:e=>!0===e}},testConfig:{title:"Privacy and Safety Settings Page",testPath:"/user/settings/privacy-and-safety"}},{key:"ContactPreferencesPage",path:"/user/settings/contact-preferences",component:L.Y,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableXboxOneRFAccountSettings]:e=>!0===e}},testConfig:{title:"Contact Preferences Page",testPath:"/user/settings/ContactPreferences"}},{key:"SettingsPage",path:"/user/settings",component:P.N,theme:o.Q2A.Dark,testConfig:{title:"Settings Page",testPath:"/user/settings"}},{key:"BrowsePageByCollection",path:`/games/browse/:${o.Hw9.ChannelId}`,component:d.Y,theme:o.Q2A.Light,seoComponent:h.Q,lazyConfig:H("BrowseCollectionPage"),testConfig:{title:"Browse By Collection Page",testPath:[{path:"/games/browse/New",title:"New games collection"},{path:"/games/browse/TopPaid",title:"Top Paid collection"},{path:"/games/browse/TopFree",title:"Top Free collection"},{path:"/games/browse/BestRated",title:"Best Rated collection"},{path:"/games/browse/based-On-Books",title:"Games Based on books (Campsite) alias"},{path:"/games/browse/CampsiteChannel.Games.Primary.gamesbasedonbooks",title:"Games Based on books (Campsite)"},{path:"/games/browse/CampsiteChannel.Games.Sale.2023.Dealsunlocked0623",title:"Deals Unlocked June 2023 (Campsite)"}]}},{key:"OldBrowsePageRoutes",path:"/browse/games*",component:()=>{const e=(0,i.TH)(),t=e.pathname.toLowerCase().split("/browse/games"),n=`${t[0]}/games/browse${t[1]}${e.search}`;return l.createElement(i.l_,{to:n})},seoComponent:h.Q,testConfig:{title:"Old Browse (Should redirect to new)",testPath:[{path:"/browse/games/New",title:"New games collection"},{path:"/browse/games/New?Genre=Action%20%26%20adventure",title:"Browse all new action & adventure"},{path:"/browse/games?Genre=Action%20%26%20adventure",title:"Browse all action & adventure"}]}},{key:"BrowsePageConsoleGamesNewPath",path:"/games/all-games/console",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesConsoleButtonLabel"),t=p("console");return l.createElement(c.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Console Games Page"},lazyConfig:H("BrowsePageConsoleGamesNewPath")},{key:"BrowsePagePCGamesNewPath",path:"/games/all-games/pc",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesPCButtonLabel"),t=p("pc");return l.createElement(c.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse PC Games Page"},lazyConfig:H("BrowsePagePCGamesNewPath")},{key:"BrowsePage",path:"/games/browse",component:d.Y,theme:o.Q2A.Light,seoComponent:()=>{const e=(0,u.UD)("homePageBrowseAllGamesModuleTitle"),t=p();return l.createElement(c.TT,{title:e,canonicalUrl:t})},testConfig:{title:"Browse Page",testPath:[{path:"/games/browse",title:"Default browse page"},{path:"/games/browse?Genre=Action%20%26%20adventure",title:"Action & adventure games"}]},lazyConfig:H("BrowsePage")},{key:"LibraryPage",path:"/games/library",component:E.A,constraint:{featureGates:{[o.vCX.EnableLibraryPage]:e=>!0===e}},testConfig:{title:"Library",testPath:"/games/library"},lazyConfig:H("LibraryPage")},{key:"RedeemHostTest",path:"/external/redeem-host-test",component:w.m,hideUHF:!0,uhfConfig:{headerMode:o.Grh.Off,footerMode:o.ZOQ.Off},theme:o.Q2A.Dark,exact:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Redeem Host Test"}},{key:"ContextualStoreHost",path:`/external/contextual-store-host/:${o.Hw9.ProductId}/:${o.Hw9.SkuId}?/:${o.Hw9.AvailabilityId}?`,component:b.f,hideUHF:!0,uhfConfig:{headerMode:o.Grh.Off,footerMode:o.ZOQ.Off},testConfig:{title:"Contextual Store Host",testPath:[{path:"/external/contextual-store-host/91FRV8WPFK4C",title:"Xbox One X 1TB Console"},{path:"/external/contextual-store-host/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/external/contextual-store-host/9pk917v6pncb",title:"Gears 5 - 500 Coins"},{path:"/external/contextual-store-host/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/external/contextual-store-host/9PNLMB2ZW603",title:"Product not found"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2",title:"v2 - Gears 5 (XPA)"},{path:"/external/contextual-store-host/c2b3mcdf0c4l?v=v2",title:"v2 - Silver with Skus"},{path:"/external/contextual-store-host/CFQ7TTC0KHS0?v=v2",title:"v2 - Game Pass Ultimate"},{path:"/external/contextual-store-host/C2KDNLT2H7DM?v=v2&exp=Browse&it=Consumable,Durable",title:"v2 Marketplace - Gears 5 (XPA) "}]}},{key:"ContextualStoreModalLauncherTest",path:"/contextualStoreHostLauncherTest",component:C.G,theme:o.Q2A.Dark,exact:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Contextual Store Modal Launcher Test"}},{key:"BundleBuilderTest",path:"/configure/testProducts",component:v.y,theme:o.Q2A.Dark,exact:!0,enableXboxCart:!0,constraint:{featureGates:{[o.vCX.EnableTestPages]:e=>!0===e}},testConfig:{title:"Bundle Builder Test Products"}},{key:"BundleBuilder",path:`/configure/:${o.Hw9.ProductId}`,component:g.F,exact:!0,enableXboxCart:!0,seoComponent:f.q,testConfig:{title:"Bundle Builder",testPath:[{path:"/configure/91FRV8WPFK4C",title:"Bundle Builder (Xbox One X)"},{path:"/configure/8S4SFBJC55TL",title:"Bundle Builder (Xbox One S)"},{path:"/configure/8NL3CQSH17X7",title:"Bundle Builder (Xbox One S (the other one))"},{path:"/configure/8WJ714N3RBTL",title:"Bundle Builder (X)"},{path:"/configure/942J774TP9JN",title:"Bundle Builder (S)"},{path:"/configure/8RPM8T9CK0P6",title:"Bundle Builder (New Console)"}]},lazyConfig:H("BundleBuilder")},{key:"XboxCardApplyHost",path:`/:${o.Hw9.Path}(xbox-mastercard)/apply`,component:O.O,theme:o.Q2A.Dark,uhfConfig:{headerMode:o.Grh.None,footerMode:o.ZOQ.None},testConfig:{title:"xbox mastercard apply host",testPath:[{path:"/xbox-mastercard/apply",title:"Test Page for External Apply Flow"}]}},{key:"ProductDetailsPage",path:`/games/store/:${o.Hw9.ProductName}/:${o.Hw9.ProductId}/:${o.Hw9.SkuId}?/:${o.Hw9.AvailabilityId}?`,component:T.n,requiresNewRequest:(e,t,n)=>{let r=!0;if(n){const a=(0,i.LX)(t.pathname,{path:e}),s=(0,i.LX)(n.pathname,{path:e});r=!(0,o.Ypc)(null===a||void 0===a?void 0:a.params[o.Hw9.ProductId],null===s||void 0===s?void 0:s.params[o.Hw9.ProductId])}return r},formatPageId:(e,t)=>{var n;return`${t}/${((null===(n=null===e||void 0===e?void 0:e.match)||void 0===n?void 0:n.params[o.Hw9.ProductId])||"").toUpperCase()}`},seoComponent:A.R,theme:o.Q2A.Dark,lazyConfig:H("ProductDetailsPage"),testConfig:{title:"PDP",testPath:[{path:"/games/store/Gears-of-War-5/C2KDNLT2H7DM",title:"Gears 5 (XPA)"},{path:"/games/store/Game-Pass-Ultimate/CFQ7TTC0KHS0",title:"Game Pass Ultimate"},{path:"/games/store/Overcooked-2-Xbox/BVJLKDG2TX8H",title:"Overcooked 2 (Xbox)"},{path:"/games/store/Overcooked-2-PC/9PGB72NFG5JN",title:"Overcooked 2 (PC)"},{path:"/games/store/Forza-Horizon-4-Ultimate-Bundle/9P513P4MWC71",title:"Forza Horizon 4 Ultimate (Bundle)"},{path:"/games/store/Forza-Horizon-4-Car-Pass-DLC/9MZPP9XXP13L",title:"Forza Horizon 4 Car Pass (DLC)"},{path:"/games/store/Forza-Horizon-4/9PNQKHFLD2WQ",title:"Forza Horizon 4 (No Availability)"},{path:"/games/store/Destiny-2-Silver/c2b3mcdf0c4l",title:"Destiny 2 Silver"},{path:"/games/store/fallout-1st/cfq7ttc0l4dr",title:"Fallout 1st - 3PP & Sku Selector"},{path:"/games/store/ubisoft/CFQ7TTC0QH5H",title:"Ubisoft+"},{path:"/games/store/xbet-testing/9NVKC6TB0MKC",title:"Ubisoft+ - Test Product "},{path:"/games/store/assassins-creed-odyssey/BW9TWC8L4JCS",title:"Assassin's Creed Odyssey"},{path:"/games/store/wheel-of-fortune/BR76VBTV0NK0",title:"Wheel of Fortune"}]}},{key:"Cart",path:"/cart",component:_.V,exact:!0,enableXboxCart:!0,seoComponent:y.E},{key:"Checkout",path:"/checkout",component:_.u,exact:!0,enableXboxCart:!0,seoComponent:null},{key:"SearchPage",path:`/search/results/:${o.Hw9.TabName}?`,component:k.Z,theme:o.Q2A.Light,constraint:{featureGates:{[o.vCX.EnableNewSearchExperience]:e=>!0===e}},experimentBasedRedirect:B["/search/results"],formatPageId:(e,t)=>`${t}/search/results`,seoComponent:()=>{const e=(0,i.TH)(),t=(0,r.mZK)((0,r.EV)(I.nV.searchQuery,e)),n=(0,u.UD)("searchTitleNoCount",{queryParam:t}),o=[c.oo.NoIndex,c.oo.NoFollow];return l.createElement(c.TT,{title:n,robotsMetaTags:o})},lazyConfig:H("SearchPage"),testConfig:{title:"Search",testPath:[{title:"Halo",path:"/search/results?q=halo"},{title:"Forza",path:"/search/results?q=forza"},{title:"Forza Addons < $5",path:"/search/results/Addons?q=forza&Price=0.01To5"},{title:"Xbox",path:"/search/results?q=xbox"},{title:"Gears 5",path:"/search/results?q=gears%205"},{title:"Gears 5 Addons(Case Insensitive)",path:"/search/results/aDdoNS?q=gears%205"}]}},{key:"AccountLinkStart",path:`/connect/:${o.Hw9.NetworkName}(ubisoft)/start-link`,component:s.t,exact:!0,seoComponent:()=>{const e=(0,u.UD)("accountLinkStartTitle"),t=[c.oo.NoIndex,c.oo.NoFollow];return l.createElement(c.TT,{title:e,robotsMetaTags:t})},lazyConfig:H("AccountLinkStart"),theme:o.Q2A.Dark,testConfig:{title:"Ubisoft link start",testPath:"/connect/ubisoft/start-link"}},{key:"AccountLinkComplete",path:`/connect/:${o.Hw9.NetworkName}(ubisoft)/complete-link`,component:s.g,exact:!0,seoComponent:()=>{const e=(0,u.UD)("accountLinkCompleteTitle"),t=[c.oo.NoIndex,c.oo.NoFollow];return l.createElement(c.TT,{title:e,robotsMetaTags:t})},theme:o.Q2A.Dark,testConfig:{title:"Ubisoft link complete",testPath:"/connect/ubisoft/complete-link"},lazyConfig:H("AccountLinkComplete")},{key:"XboxSetupRedirect",path:"/XboxSetupRedirect",component:U,exact:!0,constraint:{featureGates:{[o.vCX.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},testConfig:{title:"Xbox redirect page based on the user agent",testPath:"/XboxSetupRedirect"}},{key:"XboxSetupAndroid",path:"/XboxSetupAndroid",component:F.d,exact:!0,constraint:{featureGates:{[o.vCX.EnableXboxOneRFSetupRedirectPage]:e=>!0===e}},theme:o.Q2A.Dark,testConfig:{title:"Xbox setup android page",testPath:"/XboxSetupAndroid"}}],G={partnerId:r.IGD,routes:q,registerDependencies:e=>{e.registerLazy(r.ibq,(async()=>{const{PageRequestUtils:e}=await Promise.all([n.e(64580),n.e(95708),n.e(18132)]).then(n.bind(n,63023));return new e}))},redirectExperimentsConfiguration:B,lazyConfig:()=>Promise.all([n.e(64580),n.e(95708),n.e(18132)]).then(n.bind(n,75078))}},36231:(e,t,n)=>{"use strict";n.d(t,{QF:()=>i,UD:()=>s,iV:()=>a,po:()=>c,y_:()=>l});n(6886);var r=n(49025),o=n(16216);const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return(0,o.iNM)(e,r.IGD,...n)},i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.WD1)(r.IGD,...t)};function s(e,t){return(0,o.FL2)(r.IGD,e,t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.s8U)(r.IGD,...t)}function c(e){return(0,o.XY5)(r.IGD,e)}},18007:(e,t,n)=>{"use strict";n.d(t,{g:()=>c,t:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(7014).then(n.bind(n,62893))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 62893}}),c=(0,s.cx)({resolved:{},chunkName:()=>"AccountLink",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(7014).then(n.bind(n,23574))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 23574}})},73637:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"BrowsePageByCollection",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,n.e(89425).then(n.bind(n,22873))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 22873}})},8093:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"BrowsePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(95025),n.e(20070)]).then(n.bind(n,38385))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 38385}})},70637:(e,t,n)=>{"use strict";n.d(t,{q:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(81384),n.e(73931),n.e(98214),n.e(41279)]).then(n.bind(n,56597))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 56597}})},24594:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"BundleBuilderPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(81384),n.e(73931),n.e(98214),n.e(41279)]).then(n.bind(n,76543))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 76543}})},2293:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"BundleBuilderTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(85565),n.e(73931),n.e(71904),n.e(85536)]).then(n.bind(n,71904))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 71904}})},62970:(e,t,n)=>{"use strict";n.d(t,{E:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"CartPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(81384),n.e(77168),n.e(49263)]).then(n.bind(n,35050))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35050}})},27473:(e,t,n)=>{"use strict";n.d(t,{V:()=>l,u:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"CartPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(81384),n.e(77168),n.e(49263)]).then(n.bind(n,33808))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 33808}}),c=(0,s.cx)({resolved:{},chunkName:()=>"CheckoutPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(81384),n.e(17582),n.e(1352)]).then(n.bind(n,17582))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 17582}})},2348:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContactPreferencesPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(85565),n.e(130)]).then(n.bind(n,32014))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 32014}})},54656:(e,t,n)=>{"use strict";n.d(t,{f:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContextualStoreHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(2893).then(n.bind(n,36507))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 36507}})},50498:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"ContextualStoreModalLauncherTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(48549).then(n.bind(n,16015))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 16015}})},19884:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"LibraryPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(95025),n.e(20070)]).then(n.bind(n,52622))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 52622}})},31539:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"PrivacyAndSafetySettingsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(55050),n.e(29650)]).then(n.bind(n,55050))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 55050}})},45969:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(34166),n.e(85565),n.e(95025),n.e(25264)]).then(n.bind(n,8963))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 8963}})},3048:(e,t,n)=>{"use strict";n.d(t,{S:()=>r});const r="5"},58136:(e,t,n)=>{"use strict";n.d(t,{S:()=>l.S,n:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(3048);const c=(0,s.cx)({resolved:{},chunkName:()=>"ProductDetailsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(85565),n.e(95025),n.e(25264)]).then(n.bind(n,49551))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 49551}})},69652:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"RedeemHostTestPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(78598).then(n.bind(n,96609))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 96609}})},20892:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"SearchPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(95025),n.e(20070)]).then(n.bind(n,71095))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 71095}})},46808:(e,t,n)=>{"use strict";n.d(t,{N:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"SettingsPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(27313).then(n.bind(n,75634))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 75634}})},4583:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"StoreHomePage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(34166),n.e(85565),n.e(95025),n.e(25264)]).then(n.bind(n,67572))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 67572}})},92838:(e,t,n)=>{"use strict";n.d(t,{D:()=>c,n:()=>u});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(71050),n.e(85023)]).then(n.bind(n,9341))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 9341}}),u=(0,s.hx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(71050),n.e(85023)]).then(n.bind(n,72379))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 72379}})},72813:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"WishlistPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(71050),n.e(85023)]).then(n.bind(n,72251))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 72251}})},82885:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"XboxCardApplyHostPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(2786).then(n.bind(n,53642))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 53642}})},39430:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"XboxSetupAndroidPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(64949).then(n.bind(n,61034))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 61034}})},79790:(e,t,n)=>{"use strict";n.d(t,{dl:()=>d,Qi:()=>h,F7:()=>p,SV:()=>m,oT:()=>u,J:()=>i,U6:()=>s,G5:()=>c,$7:()=>l});n(77950),n(88233),n(85940),n(6886),n(60523);var r=n(8318),o=n(3522);const a=n.p+"static/media/manifest-icon-dev-192.4331cb2a.png";var i,s,l,c,u,d,h,m,p,g=n(99829);!function(e){e.name="Developer Tools",e.path=`${r.ny}/dev-tools`,e.getLink=function(){return e.path},e.pwaOverrides={start_url:e.path,name:"Developer Tools",short_name:"Developer Tools",icons:[{src:a,sizes:"192x192",type:"image/png",purpose:"any"},{src:g,sizes:"512x512",type:"image/png",purpose:"any"}]}}(i||(i={})),function(e){let t;e.name="Developer Tools - Sign In",e.path=`${i.path}/signin`,function(e){e.redirectUrl=o.R.redirectUrl,e.sandboxId=o.R.Auth.Sandbox.id}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n,r){const o=new URLSearchParams;return o.set(t.redirectUrl,n),r&&o.set(t.sandboxId,r),`${e.path}?${o.toString()}`},e.pwaOverrides=i.pwaOverrides}(s||(s={})),function(e){e.name="Developer Tools - Console Selection",e.path=`${i.path}/direct-connect`,e.getLink=function(){return e.path},e.pwaOverrides=i.pwaOverrides}(l||(l={})),function(e){let t;!function(e){e.serverId=":serverId"}(t=e.PathParams||(e.PathParams={})),e.name="Developer Tools - Direct Connect",e.path=`${l.path}/${e.PathParams.serverId}`,e.getLink=function(t){return e.path.replace(e.PathParams.serverId,encodeURIComponent(t))},e.pwaOverrides=i.pwaOverrides}(c||(c={})),function(e){e.name="Developer Tools - Offering Selection",e.path=`${i.path}/select-offering`,e.getLink=function(){return e.path}}(u||(u={})),function(e){e.name="Developer Tools - Configure Ip Connect",e.path=`${i.path}/ip-connect`,e.getLink=function(){return e.path},e.pwaOverrides=i.pwaOverrides}(d||(d={})),function(e){let t;!function(e){e.ipAddress=o.R.Session.ipAddress,e.secureWebsocketsMode=o.R.Session.secureWebsocketsMode}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Ip Connect",e.path=`${d.path}/launch`,e.getLink=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=new URLSearchParams;n&&i.set(t.ipAddress,n),a&&i.set(o.R.StreamClient.streamType,"0"),i.set(t.secureWebsocketsMode,r);const s=i.toString();return s?`${e.path}?${s}`:e.path},e.pwaOverrides=i.pwaOverrides}(h||(h={})),function(e){let t;!function(e){e.devkitRedeemCode=o.R.Session.devkitRedeemCode,e.devkitDisableAutoJoin=o.R.Session.devkitDisableAutoJoin,e.devkitHost=o.R.Session.devkitHost}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Redeem",e.path=`${i.path}/redeem`,e.getLink=function(n,r,o){const a=new URLSearchParams;return n&&a.set(t.devkitRedeemCode,n),r&&a.set(t.devkitDisableAutoJoin,"true"),o&&a.set(t.devkitHost,o),`${e.path}?${a.toString()}`},e.pwaOverrides=i.pwaOverrides}(m||(m={})),function(e){let t;!function(e){e.devkitRedeemCode=o.R.Session.devkitRedeemCode,e.devkitHost=o.R.Session.devkitHost}(t=e.QueryStrings||(e.QueryStrings={})),e.name="Developer Tools - Managed Devkit",e.path=`${i.path}/devkit/launch`,e.getLink=function(n,r){const o=new URLSearchParams;return o.set(t.devkitRedeemCode,n),r&&o.set(t.devkitHost,r),`${e.path}?${o.toString()}`},e.pwaOverrides=i.pwaOverrides}(p||(p={}))},35751:(e,t,n)=>{"use strict";var r;n.d(t,{y:()=>r}),function(e){e.CollectUserEmail="CollectUserEmail",e.LogEvents="LogEvents",e.ShowNotStartedRocket="ShowNotStartedRocket",e.EnableInternalFeedback="EnableInternalFeedback",e.EnableLegacyPurchaseFlow="EnableLegacyPurchaseFlow",e.HideBetaReferences="HideBetaReferences",e.EnableProvisioningQueueUX="EnableProvisioningQueueUX",e.EnableDisconnectWarning="EnableDisconnectWarning",e.EnableLowerMaxBufferLimit="EnableLowerMaxBufferLimit",e.StatsEventFrequencySec="StatsEventFrequencySec",e.StatsCollectionSizeSec="StatsCollectionSizeSec",e.NumberOfStatsEventsToStore="NumberOfStatsEventsToStore",e.StringifyStatUponCollect="StringifyStatUponCollect",e.Remove78FPSHack="Remove78FPSHack",e.EnableMouseAndKeyboard="EnableMouseAndKeyboard",e.EnableAbsoluteMouse="EnableAbsoluteMouse",e.DisableHudAutoCollapse="DisableHudAutoCollapse",e.EnableVibration="EnableVibration",e.EnableVibrationTizen="EnableVibrationTizen",e.UseWebCodecsByDefault="UseWebCodecsByDefault",e.VideoLatencyPreset="VideoLatencyPreset",e.SetCodecPreferences="SetCodecPreferences",e.EnableIAPBrowseExperience="EnableIAPBrowseExperience",e.UseTizenH264MainSdpHack="UseTizenH264MainSdpHack",e.InputChannelMaxVersion="InputChannelMaxVersion",e.IgnoreServiceConfig="IgnoreServiceConfig",e.EnableSimpleFeedbackV2="EnableSimpleFeedbackV2",e.DisableNotificationBanner="DisableNotificationBanner",e.ForceInputModality="ForceInputModality",e.EnableClosedCaptions="EnableClosedCaptions",e.EnableNexusTeachingTip="EnableNexusTeachingTip",e.EnableMicToggleForTV="EnableMicToggleForTV",e.AutoFullscreenPersist="AutoFullscreenPersist",e.EnableClientGuideInStream="EnableClientGuideInStream",e.EnableAAPAddFriendStream="EnableAAPAddFriendStream",e.EnableAAPMultiplayerTitle="EnableAAPMultiplayerTitle",e.EnableAAPScreenTimeStream="EnableAAPScreenTimeStream",e.MinProvisioningAdDisplay="MinProvisioningAdDisplay",e.MaxProvisioningAdWait="MaxProvisioningAdWait",e.EnableSensorInput="EnableSensorInput",e.SensorInputPollingRateInHz="SensorInputPollingRateInHz",e.EnableTakHighContrastMode="EnableTakHighContrastMode",e.EnableUserGestureDialog="EnableUserGestureDialog",e.EnableManagedDevFeedback="EnableManagedDevFeedback",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableContextualStoreVNext="EnableContextualStoreVNext",e.EnableUseRetryAfterHeader="EnableUseRetryAfterHeader",e.EnableAFDFootprintTracker="EnableAFDFootprintTracker",e.AFDTrackerCooldown="AFDTrackerCooldown",e.EnableOpenEndedGameInvites="EnableOpenEndedGameInvites",e.EnableParties="EnableParties",e.EnableStateShareTcui="EnableStateShareTcui",e.EnableXSTHLogs="EnableXSTHLogs",e.EnableStoreRedeem="EnableStoreRedeem",e.EnableTakControlResizing="EnableTakControlResizing"}(r||(r={}))},92952:(e,t,n)=>{"use strict";n.d(t,{I:()=>r});var r,o=n(8318);!function(e){e.name="XboxTogether";let t;!function(e){e.sessionId=":sessionId"}(t=e.PathParams||(e.PathParams={})),e.path=`${o.ny}/together/${t.sessionId}`,e.getLink=e=>`${o.ny}/together/${e}`,e.pathWithNoId=`${o.ny}/together`}(r||(r={}))},68998:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"InitializeSinglePageApplication",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(69623),n.e(53736),n.e(12148)]).then(n.bind(n,98418))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 98418}})},83043:(e,t,n)=>{"use strict";n.d(t,{O:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975);const l=(0,s.cx)({resolved:{},chunkName:()=>"web-manifest-component",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(Promise.all([n.e(73421),n.e(84927)]).then(n.bind(n,35369))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35369}})},36601:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(89971),l=n(61975);const c=(0,l.cx)({resolved:{},chunkName:()=>"play-root-component",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.LB)(Promise.all([n.e(43914),n.e(49243),n.e(74461),n.e(69623),n.e(53736),n.e(39762),n.e(58850),n.e(41746),n.e(3626),n.e(73421),n.e(75392),n.e(79313),n.e(18487),n.e(58631),n.e(580),n.e(75782),n.e(12918),n.e(9771),n.e(76931),n.e(33214),n.e(55189),n.e(11477)]).then(n.bind(n,10677))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 10677}})},4609:(e,t,n)=>{"use strict";n.d(t,{P:()=>i});n(77950),n(94908);var r=n(52322),o=n(4517),a=n(5653);function i(){const{search:e,hash:t}=(0,o.TH)();return(0,r.jsx)(o.l_,{to:`${a.Home.getLink()}${e}${t}`})}},72054:(e,t,n)=>{"use strict";var r;n.d(t,{b:()=>r}),function(e){e.XCloud="XCloud",e.XHomeDevKit="XHomeDevKit",e.SignedInToXbox="SignedInToXbox",e.PrivateOffering="PrivateOffering",e.Public="Public",e.ManagedDevkit="ManagedDevkit",e.DeveloperPublic="DeveloperPublic"}(r||(r={}))},61872:(e,t,n)=>{"use strict";n.d(t,{y:()=>c});var r,o=n(814),a=n.n(o),i=n(16216);!function(e){e.EnableExternalGuide="EnableExternalGuide",e.EnableNHPMocking="EnableNHPMocking"}(r||(r={}));var s,l=n(35751);!function(e){e.InternalUser="InternalUser",e.IsTakehomeUser="IsTakehomeUser",e.IsInsiderUser="IsInsiderUser",e.AdditionalSupportedMarkets="AdditionalSupportedMarkets",e.UnsupportedMarkets="UnsupportedMarkets",e.BlockedOfferings="BlockedOfferings",e.OverrideIsXGPUSubscriber="OverrideIsXGPUSubscriber",e.OverrideDefaultOffering="OverrideDefaultOffering",e.PwaPrompt="PwaPrompt",e.EnableLegacyPurchaseFlow="EnableLegacyPurchaseFlow",e.HideBetaReferences="HideBetaReferences",e.DisablePlayAudioOnSilent="DisablePlayAudioOnSilent",e.EnableStreamGate="EnableStreamGate",e.EnableWifiWarnings="EnableWifiWarnings",e.EnableTitleHubMru="EnableTitleHubMru",e.EnableFriendsAndFollowers="EnableFriendsAndFollowers",e.EnableOneTrust="EnableOneTrust",e.EnableCarouselAds="EnableCarouselAds",e.CarouselAdsPlacementId="CarouselAdsPlacementId",e.ProvisioningAdsPlacementId="ProvisioningAdsPlacementId",e.EnableProvisioningAds="EnableProvisioningAds",e.EnableProvAdsForChild="EnableProvAdsForChild",e.EnableProvAdsForXGPU="EnableProvAdsForXGPU",e.EnableGuideHomeTab="EnableGuideHomeTab",e.EnableGuideChatTab="EnableGuideChatTab",e.EnableGuideNotifications="EnableGuideNotifications",e.EnableGuideProfileTab="EnableGuideProfileTab",e.EnableIpConnect="EnableIpConnect",e.BypassXHomeDevKitCheck="BypassXHomeDevKitCheck",e.EnableBuyNowPlayButton="EnableBuyNowPlayButton",e.EnableMediaEngagement="EnableMediaEngagement",e.EnableMediaPlayOnWeb="EnableMediaPlayOnWeb",e.EnableFreeToPlay="EnableFreeToPlay",e.EnableF2PPostPlayUpsell="EnableF2PPostPlayUpsell",e.F2PPostPlayUpsellCooldown="F2PPostPlayUpsellCooldown",e.EnableXboxTogether="EnableXboxTogether",e.EnableShareStatePrototype="EnableShareStatePrototype",e.EnableServiceWorker="EnableServiceWorker",e.EnableQuickResumeMenu="EnableQuickResumeMenu",e.EnableUserStorageMenu="EnableUserStorageMenu",e.DisableMicUnsupportedModal="DisableMicUnsupportedModal",e.ShowFortniteInPopularRow="ShowFortniteInPopularRow",e.ShowFreeToPlaySiglRow="ShowFreeToPlaySiglRow",e.EnableTelemetryAutoCapture="EnableTelemetryAutoCapture",e.EnableQuadMotorOriginTrial="EnableQuadMotorOriginTrial",e.ShowMouseKeyboardSetting="ShowMouseKeyboardSetting",e.ShowSensorsSetting="ShowSensorsSetting",e.TrackRecoverableReactError="TrackRecoverableReactError",e.EnablePartiesDevMode="EnablePartiesDevMode",e.EnableAchievements="EnableAchievements",e.EnableTvLayerHint="EnableTvLayerHint",e.EnableSentryTracing="EnableSentryTracing",e.EnableUserGestureDialog="EnableUserGestureDialog",e.EnableAskAParentAddFriend="EnableAskAParentAddFriend",e.EnableAskAParentScreenTime="EnableAskAParentScreenTime",e.EnableAskAParentContent="EnableAskAParentContent",e.EnableXSearch="EnableXSearch",e.EnableAppleDeobfuscation="EnableAppleDeobfuscation",e.EnablePresenceHeartbeat="EnablePresenceHeartbeat",e.EnableGameInvites="EnableGameInvites",e.UseLocalOriginInviteLinks="UseLocalOriginInviteLinks",e.EnableBrowserWarnings="EnableBrowserWarnings",e.GSSVAuthRoutingService="GSSVAuthRoutingService",e.EnableSearchPageV2="EnableSearchPageV2",e.EnableChatImageUpload="EnableChatImageUpload",e.EnableChatGifUpload="EnableChatGifUpload",e.EnableNonstandardGamepad="EnableNonstandardGamepad",e.EnableHomeContextMenu="EnableHomeContextMenu",e.EnableUsePrivacyRTAEvents="EnableUsePrivacyRTAEvents",e.CarouselAutoRotateMs="CarouselAutoRotateMs",e.CheckTitleGamepadSupport="CheckTitleGamepadSupport",e.EnablePDPGallery="EnablePDPGallery",e.HideTrailers="HideTrailers",e.EnableInGameVolumeControl="EnableInGameVolumeControl",e.EnableAudioDeviceSelection="EnableAudioDeviceSelection",e.ShowHomeStarfieldSpotlight="ShowHomeStarfieldSpotlight",e.EnableTrellis="EnableTrellis",e.EnableUsbGuidance="EnableUsbGuidance",e.ShowForzaSpotlight="ShowForzaSpotlight",e.ForceShowPrivacyDialog="ForceShowPrivacyDialog",e.EnableStateShareRedeem="EnableStateShareRedeem",e.EnableStateShareTcui="EnableStateShareTcui",e.DefaultPlayFabTitleId="DefaultPlayFabTitleId",e.EnableXboxProfileSettings="EnableXboxProfileSettings",e.EnableAccs="EnableAccs",e.EnableLibrary="EnableLibrary",e.EnableXdsPlayground="EnableXdsPlayground",e.EnableTVOnboardingPromo="EnableTVOnboardingPromo"}(s||(s={}));const c=a()(a()(a()(a()({},l.y),s),i.vCX),r)},97799:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(52322),o=n(45595),a=n(61975),i=(n(6886),n(2784));const s=e=>{let{delay:t,children:n}=e;const[o,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=setTimeout((()=>a(!0)),t);return()=>{clearTimeout(e)}})),o?(0,r.jsx)(r.Fragment,{children:n}):null},l=e=>(0,o.ZP)(e,{fallback:(0,r.jsx)(s,{delay:50,children:(0,r.jsx)(a.h2,{})})})},8318:(e,t,n)=>{"use strict";n.d(t,{$t:()=>h,Ai:()=>f,BL:()=>p,C$:()=>T,Eh:()=>d,Qg:()=>C,TC:()=>y,Wj:()=>b,c5:()=>s,fq:()=>m,g3:()=>l,g8:()=>g,gK:()=>E,gt:()=>u,l2:()=>c,lA:()=>A,ny:()=>o,qy:()=>v,sG:()=>_,vB:()=>S,wt:()=>a,y5:()=>w,y_:()=>i});var r=n(70800);const o="/play",a="/games/store",i="xcloud",s="gamepass-root",l="gamepass-modal-root",c="gamepass-dialog-root",u=10,d=30,h=30,m=r.C.CloudAll,p="xgpuweb",g="xgpuwebf2p",f="takehomeweb",v="/gsapi/proxy/v1",_="/gsapi/insiders/v1",y="hasSeenOnboarding",b="users/me/layouts/xCloudWebHome",C="1626579248",E=["Microsoft","Microsoft Studios","Xbox Game Studios","Xbox Games Studios, Rare Ltd","Rare Ltd","Bethesda Softworks"],S={CorrelationVector:-200,UnauthServiceToService:-101,Proxy:-100,Telemetry:-1},T="RETAIL",A=/^\w{2}-(\w{4}-)?\w{2}$/,w=/^\/\w{2}-(\w{4}-)?\w{2}\//},3522:(e,t,n)=>{"use strict";var r;n.d(t,{C:()=>o,R:()=>r}),function(e){let t,n,r,o,a;e.refreshStaleThreshold="refreshStaleThreshold",e.gameInviteId="giid",e.redirectUrl="redirectUrl",e.setFeatureGate="setGateValue",function(e){let t,n,r;e.isDeveloperMode="isDeveloperMode",function(e){e.region="user.region"}(t=e.User||(e.User={})),function(e){e.id="offering.id"}(n=e.Offering||(e.Offering={})),function(e){e.id="sandboxId"}(r=e.Sandbox||(e.Sandbox={}))}(t=e.Auth||(e.Auth={})),function(e){e.takSideloadEnabled="devTools.takSideloadEnabled",e.takServerAddress="devTools.takServerAddress",e.ipConnectIpAddress="devTools.ipConnectIpAddress",e.takServerPassword="devTools.takServerPassword",e.takAutoRefresh="devTools.takAutoRefresh",e.takAllowMouseInteraction="devTools.takAllowMouseInteraction",e.enableNativeTouch="devTools.enableNativeTouch",e.enableMouseAndKeyboard="devTools.enableMouseAndKeyboard",e.enableSensors="devTools.enableSensors",e.pwaPrompt="devTools.pwaPrompt"}(n=e.DevTools||(e.DevTools={})),function(e){e.httpEnvironment="streamClient.httpEnvironment",e.streamType="streamClient.streamType",e.requestUserGesture="streamClient.requestUserGesture"}(r=e.StreamClient||(e.StreamClient={})),function(e){e.ignoreServiceConfiguration="session.configuration.options.ignoreServiceConfiguration",e.systemUpdateGroup="session.configuration.options.systemUpdateGroup",e.releaseChannel="session.configuration.options.releaseChannel",e.showStreamStatisticsOverlay="session.configuration.video.showStreamStatisticsOverlay",e.useSoftwareRendering="session.configuration.video.useSoftwareRendering",e.videoDecoderType="session.configuration.video.videoDecoderType",e.enableHevc="session.configuration.video.enableHevc",e.useHardwareAudioDecoding="session.configuration.audio.useHardwareAudioDecoding",e.ipAddress="ipAddress",e.secureWebsocketsMode="wssMode",e.videoLatencyPreset="session.configuration.video.videoLatencyPreset",e.devkitHost="devkit.host",e.devkitRedeemCode="devkit.redeemCode",e.devkitDisableAutoJoin="devkit.disableAutoJoin"}(o=e.Session||(e.Session={})),function(e){e.version="pwaVersion",e.pageName="page.name",e.featureGates="featureGates",e.muid="muid",e.includeLocales="includeLocales"}(a=e.WebManifest||(e.WebManifest={}))}(r||(r={}));const o=[r.Auth.isDeveloperMode,r.Auth.Sandbox.id,r.Auth.User.region,r.DevTools.takSideloadEnabled,r.DevTools.takServerAddress,r.DevTools.ipConnectIpAddress,r.DevTools.takServerPassword,r.DevTools.takAutoRefresh,r.DevTools.takAllowMouseInteraction,r.DevTools.enableNativeTouch,r.DevTools.enableMouseAndKeyboard,r.DevTools.enableSensors,r.DevTools.pwaPrompt,r.Session.showStreamStatisticsOverlay,r.Session.systemUpdateGroup,r.Session.ignoreServiceConfiguration,r.Session.releaseChannel,r.Session.useSoftwareRendering,r.Session.videoDecoderType,r.Session.videoLatencyPreset,r.Session.enableHevc,r.Session.useHardwareAudioDecoding,r.Session.devkitRedeemCode,r.Session.devkitDisableAutoJoin,r.StreamClient.httpEnvironment,r.StreamClient.streamType,r.StreamClient.requestUserGesture]},97164:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});var r,o=n(57380);!function(e){e.name="Trellis",e.path=`${o.z.path}/trellis`,e.getLink=function(){return e.path}}(r||(r={}))},77161:(e,t,n)=>{"use strict";n.d(t,{SK:()=>a,cA:()=>r,fD:()=>o});var r,o,a,i=n(57380);!function(e){e.name="NativeHost",e.path=`${i.z.path}/native-host`,e.getLink=function(){return e.path}}(r||(r={})),function(e){e.name="Guide",e.path=`${r.path}/guide`,e.getLink=function(){return e.path}}(o||(o={})),function(e){e.name="Content Access",e.path=`${r.path}/content-access`,e.getLink=function(){return e.path}}(a||(a={}))},57380:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});var r,o=n(8318);!function(e){e.name="Experiments Root",e.path=`${o.ny}/experiments`,e.getLink=function(){return e.path}}(r||(r={}))},34077:(e,t,n)=>{"use strict";n.d(t,{J:()=>s,Z:()=>l});n(6886);var r=n(2784),o=n(20889);const a="(forced-colors: active) and (prefers-color-scheme: dark)",i="(forced-colors: active) and (prefers-color-scheme: light)",s=()=>"undefined"===typeof window.matchMedia?o.k.Off:window.matchMedia(a).matches?o.k.Black:window.matchMedia(i).matches?o.k.White:o.k.Off,l=()=>{const[e,t]=(0,r.useState)(s()),n=(0,r.useCallback)((()=>{t(s())}),[]);return(0,r.useEffect)((()=>{const e=window.matchMedia(a),t=window.matchMedia(i);if(e.addEventListener)return e.addEventListener("change",n),t.addEventListener("change",n),()=>{e.removeEventListener&&(e.removeEventListener("change",n),t.removeEventListener("change",n))}}),[n]),e}},64365:(e,t,n)=>{"use strict";n.d(t,{o:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(97799);const l=(0,s.n)({resolved:{},chunkName:()=>"contextual-store-page",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(69623),n.e(53736),n.e(58850),n.e(75392),n.e(51769)]).then(n.bind(n,35162)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 35162}})},33294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>z});n(73439),n(64925),n(54819),n(6886);var r=n(8318),o=n(814),a=n.n(o),i=n(16216),s=n(29075),l=n(4609),c=n(72054),u=n(61872),d=n(79790);const h=(0,s.tP)((()=>Promise.all([n.e(69623),n.e(58850),n.e(87834)]).then(n.bind(n,79460))),(e=>e.lazyRouteConfigs));var m=n(97164);const p=e=>!0===e;function g(e){return[a()(a()({},e),{},{path:m.J.path,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:{authStrategy:c.b.SignedInToXbox},constraint:{featureGates:{[u.y.EnableTrellis]:p}}})]}var f=n(77161);const v=e=>!0===e;function _(e){return[a()(a()({},e),{},{path:f.fD.path,uhfConfig:{headerMode:i.Grh.Off,footerMode:i.ZOQ.Off},xCloud:a()(a()({},e.xCloud),{},{authStrategy:c.b.Public,isGuideDisabled:!0}),constraint:{featureGates:{[u.y.EnableExternalGuide]:v}}}),a()(a()({},e),{},{path:f.SK.path,uhfConfig:{headerMode:i.Grh.Off,footerMode:i.ZOQ.Off},xCloud:a()(a()({},e.xCloud),{},{authStrategy:c.b.Public}),constraint:{featureGates:{[u.y.EnableNHPMocking]:v}}})]}var y=n(92952);var b=n(34077),C=n(64365),E=n(36601),S=n(68998),T=n(83043),A=n(20889),w=n(5653);const k=(0,s.tP)((()=>Promise.all([n.e(81772),n.e(39821),n.e(43914),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(53736),n.e(79208),n.e(28444),n.e(39762),n.e(58850),n.e(73421),n.e(75392),n.e(79313),n.e(70433),n.e(580),n.e(89225),n.e(15582),n.e(92160)]).then(n.bind(n,79839))),(e=>e.lazyRouteConfigs)),I=e=>!0===e,P="GamePassApp",R={component:E.f,key:P,theme:()=>(0,b.J)()===A.k.White?i.Q2A.Light:i.Q2A.Dark,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.Full},exact:!0,xCloud:{authStrategy:c.b.XCloud,isGuideDisabled:!1,allowUnsupportedMarketRendering:!1}},x=a()(a()({},R),{},{lazyConfig:k("productRoute")}),N=[{key:w.WebManifest.name,path:w.WebManifest.path,component:T.O,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None}},a()(a()({},R),{},{path:w.Play.path,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},lazyConfig:k("play")}),a()(a()({},R),{},{path:w.ShareStatePrototypeTestHarness.path,lazyConfig:k("shareStatePrototypeTestHarness")}),a()(a()({},R),{},{path:w.ShareGameInvite.path,lazyConfig:k("shareGameInvite"),constraint:{featureGates:{[u.y.EnableOpenEndedGameInvites]:I}},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.ShareFriend.path,lazyConfig:k("shareFriend"),xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.StateShare.path,lazyConfig:k("stateShareRedeem"),constraint:{featureGates:{[u.y.EnableStateShareRedeem]:I}},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.XdsPlayground.path,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},constraint:{featureGates:{[u.y.EnableXdsPlayground]:I}},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.UnfriendlyPlay.path,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},lazyConfig:k("unfriendlyPlay")}),a()(a()({},R),{},{path:w.ProductRoot.path,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:a()(a()({},R.xCloud),{},{allowUnsupportedMarketRendering:!0})}),a()(a()({},x),{},{path:w.Product.path,xCloud:a()(a()({},R.xCloud),{},{allowUnsupportedMarketRendering:!0})}),a()(a()({},x),{},{path:w.UnfriendlyProduct.path,xCloud:a()(a()({},R.xCloud),{},{allowUnsupportedMarketRendering:!0})}),a()(a()({},x),{},{path:w.PlayNow.path,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:{authStrategy:c.b.Public}}),a()(a()({},R),{},{path:w.Gallery.path,lazyConfig:k("gallery")}),a()(a()({},R),{},{path:w.Home.path,lazyConfig:k("home")}),a()(a()({},R),{},{path:w.LoginDeviceCode.path,exact:!1,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.Onboarding.path,exact:!0,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.Media.path,lazyConfig:k("media"),xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public,isGuideDisabled:!0})}),a()(a()({},R),{},{path:w.Search.path,xCloud:a()(a()({},R.xCloud),{},{allowUnsupportedMarketRendering:!0})}),a()(a()({},R),{},{component:S.G,path:w.InitializeSinglePageApplication.path,lazyConfig:k("initializeSinglePageApplication")}),a()(a()({},R),{},{path:w.Pairing.path,exact:!0,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.Requirements.path,exact:!0,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.UserProfile.path,lazyConfig:k("userProfile"),xCloud:a()(a()({},R.xCloud),{},{allowUnsupportedMarketRendering:!0})}),a()(a()({},R),{},{path:w.AllFriends.path,lazyConfig:k("allFriends"),xCloud:a()(a()({},R.xCloud),{},{allowUnsupportedMarketRendering:!0})}),a()(a()({},R),{},{path:w.Welcome.path,exact:!0,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public})}),a()(a()({},R),{},{path:w.ContextualStoreWrapper.path,component:C.o,exact:!1,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:a()(a()({},R.xCloud),{},{isGuideDisabled:!0})}),a()(a()({},R),{},{path:w.SimpleFeedbackWrapper.path,uhfConfig:{headerMode:i.Grh.Off,footerMode:i.ZOQ.Off},xCloud:a()(a()({},R.xCloud),{},{authStrategy:c.b.Public,isGuideDisabled:!0})}),a()(a()({},R),{},{path:w.Library.path,constraint:{featureGates:{[u.y.EnableLibrary]:I}}}),a()(a()({},R),{},{path:w.ExternalLibrary.path,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},constraint:{featureGates:{[u.y.EnableLibrary]:I}}}),...function(e){return[a()(a()({},e),{},{path:d.J.path,xCloud:{authStrategy:c.b.DeveloperPublic}}),a()(a()({},e),{},{path:d.U6.path,xCloud:{authStrategy:c.b.DeveloperPublic}}),a()(a()({},e),{},{path:d.$7.path,lazyConfig:h("devToolsXHomeConsoleSelection"),xCloud:{authStrategy:c.b.XHomeDevKit}}),a()(a()({},e),{},{path:d.G5.path,lazyConfig:h("devToolsXHomeConnect"),xCloud:{authStrategy:c.b.XHomeDevKit},uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None}}),a()(a()({},e),{},{path:d.dl.path,constraint:{featureGates:{[u.y.EnableIpConnect]:e=>!0===e}},xCloud:{authStrategy:c.b.SignedInToXbox}}),a()(a()({},e),{},{path:d.Qi.path,constraint:{featureGates:{[u.y.EnableIpConnect]:e=>!0===e}},xCloud:{authStrategy:c.b.SignedInToXbox},uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None}}),a()(a()({},e),{},{path:d.SV.path,xCloud:{authStrategy:c.b.DeveloperPublic}}),a()(a()({},e),{},{path:d.F7.path,xCloud:{authStrategy:c.b.ManagedDevkit},uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None}}),a()(a()({},e),{},{path:d.oT.path,xCloud:{authStrategy:c.b.PrivateOffering}})]}(R),...function(e){return[a()(a()({},e),{},{path:y.I.path,constraint:{featureGates:{[u.y.EnableXboxTogether]:e=>!0===e}},uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:{authStrategy:c.b.XCloud}}),a()(a()({},e),{},{path:y.I.pathWithNoId,constraint:{featureGates:{[u.y.EnableXboxTogether]:e=>!0===e}},uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None},xCloud:{authStrategy:c.b.XCloud}})]}(R),...function(e){return[...g(e),..._(e)]}(R),{key:P,path:w.Wildcard.path,redirectComponent:l.P,exact:!1,uhfConfig:{headerMode:i.Grh.None,footerMode:i.ZOQ.None}}];var O=n(12696),L=n(24923),M=n.n(L),D=n(20608);const U=["lazyConfig"],F=["fetchDataSaga","bootstrapClientEnvironmentSaga"];async function B(){const{sharedBootstrapClientEnvironmentSaga:e}=await Promise.all([n.e(81772),n.e(39821),n.e(43914),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(53736),n.e(79208),n.e(28444),n.e(39762),n.e(58850),n.e(73421),n.e(75392),n.e(79313),n.e(70433),n.e(580),n.e(89225),n.e(15582),n.e(92160)]).then(n.bind(n,23811));return e}async function H(){const{decorateFetchDataSaga:e}=await Promise.all([n.e(81772),n.e(39821),n.e(43914),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(53736),n.e(79208),n.e(28444),n.e(39762),n.e(58850),n.e(73421),n.e(75392),n.e(79313),n.e(70433),n.e(580),n.e(89225),n.e(15582),n.e(92160)]).then(n.bind(n,49318));return e}const q=e=>async()=>{const t=e?await e():{fetchDataSaga:void 0,bootstrapClientEnvironmentSaga:void 0},{fetchDataSaga:n,bootstrapClientEnvironmentSaga:r}=t,o=M()(t,F),[i,s]=await Promise.all([H(),B()]),l=i(n);return a()({fetchDataSaga:l,bootstrapClientEnvironmentSaga:function*(){yield(0,D.call)(s),r&&(yield(0,D.call)(r))}},o)},G=N.map((e=>(0,O.J)(e)?function(e){let{lazyConfig:t}=e,n=M()(e,U);return a()(a()({},n),{},{lazyConfig:q(t)})}(e):e)),z={partnerId:r.y_,routes:G,lazyConfig:()=>Promise.all([n.e(81772),n.e(39821),n.e(43914),n.e(2810),n.e(62687),n.e(49243),n.e(74461),n.e(34321),n.e(69623),n.e(53736),n.e(79208),n.e(28444),n.e(39762),n.e(58850),n.e(73421),n.e(75392),n.e(79313),n.e(70433),n.e(580),n.e(89225),n.e(15582),n.e(92160)]).then(n.bind(n,73418)),expressInjection:e=>e,handlesAllLocales:!0}},5653:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AllFriends:()=>S,ContentAccess:()=>j.SK,ContextualStoreWrapper:()=>D,DevToolsConfigureIpConnect:()=>Z.dl,DevToolsIpConnect:()=>Z.Qi,DevToolsManagedDevkitConnect:()=>Z.F7,DevToolsManagedDevkitRedeem:()=>Z.SV,DevToolsOfferingSelection:()=>Z.oT,DevToolsRoot:()=>Z.J,DevToolsSignIn:()=>Z.U6,DevToolsXHomeConnect:()=>Z.G5,DevToolsXHomeConsoleSelection:()=>Z.$7,ExperimentsRoot:()=>W.z,ExternalLibrary:()=>B,ExternalRoot:()=>a,Gallery:()=>p,Guide:()=>j.fD,Home:()=>o,InitializeSinglePageApplication:()=>y,Library:()=>F,LoginDeviceCode:()=>_,Media:()=>g,NativeHost:()=>j.cA,Onboarding:()=>T,Pairing:()=>b,Play:()=>h,PlayNow:()=>c,PlayRoot:()=>d,Product:()=>s,ProductRoot:()=>i,Requirements:()=>w,Search:()=>f,ShareFriend:()=>x,ShareFriendRoot:()=>R,ShareGameInvite:()=>P,ShareGameInviteRoot:()=>I,ShareRoot:()=>k,ShareStatePrototypeRoot:()=>L,ShareStatePrototypeTestHarness:()=>M,SimpleFeedbackWrapper:()=>U,StateShare:()=>O,StateShareRoot:()=>N,Store:()=>u,Trellis:()=>K.J,UnfriendlyPlay:()=>m,UnfriendlyProduct:()=>l,UserProfile:()=>E,WebManifest:()=>v,Welcome:()=>A,Wildcard:()=>C,XboxComRoot:()=>r,XdsPlayground:()=>H});n(634),n(17368),n(24471),n(77950),n(88233),n(85940),n(34715),n(26464),n(19570),n(6886),n(60523);var r,o,a,i,s,l,c,u,d,h,m,p,g,f,v,_,y,b,C,E,S,T,A,w,k,I,P,R,x,N,O,L,M,D,U,F,B,H,q=n(49025),G=n(16216),z=n(8318),X=n(3522),$=n(12175),V=n(21280),W=n(57380),K=n(97164),j=n(77161),Z=n(79790);!function(e){e.path="/",e.name="XboxComRoot",e.getLink=function(){return e.path}}(r||(r={})),function(e){e.path=z.ny,e.name="Home",e.getLink=function(){return e.path}}(o||(o={})),function(e){e.name="External Root",e.path=`${z.ny}/external`,e.getLink=function(){return e.path}}(a||(a={})),function(e){e.name="Product Root",e.path=`${z.ny}/games`,e.getLink=function(){return e.path}}(i||(i={})),function(e){let t;e.name="Product",function(e){e.productId=":productId",e.productName=":productName"}(t=e.PathParams||(e.PathParams={})),e.path=`${i.path}/${t.productName}/${t.productId}`,e.getLink=function(n,r){if(r){const o=(0,V.v)(r);if(o.length>0)return e.path.replace(t.productName,encodeURIComponent(o)).replace(t.productId,encodeURIComponent(n))}return l.path.replace(t.productId,encodeURIComponent(n))}}(s||(s={})),function(e){e.path=`${i.path}/${s.PathParams.productId}`,e.name="Unfriendly Product",e.getLink=function(e){return s.getLink(e)},e.getTizenDeeplink=function(e){if(e){const t=new RegExp(`^/?${i.path.substring(1)}/([A-Za-z0-9]{12})/?\\??(.*)$`).exec(decodeURIComponent(e));if(t&&t.length>1){const e=t[1];let n,r=s.getLink(e);if(t.length>2){const e=t[2];e&&(r=`${r}/?${e}`,n=new URLSearchParams(e).get("campaignId")||void 0)}return{path:r,productId:e,campaignId:n}}}}}(l||(l={})),function(e){e.path=`${a.path}/playnow/${s.PathParams.productId}`,e.name="PlayNow",e.getLink=function(t){return e.path.replace(s.PathParams.productId,encodeURIComponent(t))}}(c||(c={})),function(e){e.path=`${z.wt}/${s.PathParams.productName}/${s.PathParams.productId}`,e.name="Store",e.getLink=function(t,n){return e.path.replace(s.PathParams.productId,encodeURIComponent(t)).replace(s.PathParams.productName,(0,V.v)(null!==n&&void 0!==n?n:""))}}(u||(u={})),function(e){e.name="Play Root",e.path=`${z.ny}/launch`,e.getLink=function(){return e.path}}(d||(d={})),function(e){e.path=`${d.path}/${s.PathParams.productName}/${s.PathParams.productId}`,e.name="Play",e.getLink=function(t,n){if(n){const r=(0,V.v)(n);if(r.length>0)return e.path.replace(s.PathParams.productName,encodeURIComponent(r)).replace(s.PathParams.productId,encodeURIComponent(t))}return m.path.replace(s.PathParams.productId,encodeURIComponent(t))}}(h||(h={})),function(e){e.path=`${d.path}/${s.PathParams.productId}`,e.name="Unfriendly Play",e.getLink=function(e){return h.getLink(e)}}(m||(m={})),function(e){let t;e.name="Gallery",function(e){e.siglIdOrAlias=":siglIdOrAlias"}(t=e.PathParams||(e.PathParams={})),e.path=`${z.ny}/gallery/${t.siglIdOrAlias}`,e.getLink=function(n){var r;return e.path.replace(t.siglIdOrAlias,encodeURIComponent(null!==(r=$.ld[n])&&void 0!==r?r:n))}}(p||(p={})),function(e){e.rootPath=`${z.ny}/media`;let t;e.name="Media",function(e){e.locator=":locator"}(t=e.PathParams||(e.PathParams={})),e.path=`${e.rootPath}/${t.locator}`,e.getLink=function(n){return e.path.replace(t.locator,encodeURIComponent(n))}}(g||(g={})),function(e){e.key="q",e.pivotKey="p",e.name="Search",e.path=`${z.ny}/search`}(f||(f={})),function(e){let t;e.name="WebManifest",e.path=`${z.ny}/manifest.webmanifest`,function(e){e.offeringId=X.R.Auth.Offering.id,e.pageName=X.R.WebManifest.pageName,e.sandboxId=X.R.Auth.Sandbox.id,e.featureGates=X.R.WebManifest.featureGates,e.includeLocales=X.R.WebManifest.includeLocales}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n,r,o,a,i){const s=new URLSearchParams;n&&s.set(t.offeringId,n),r&&s.set(t.sandboxId,r),o&&s.set(t.pageName,o),a&&a.forEach((e=>{s.append(t.featureGates,e)})),i&&s.set(t.includeLocales,"true");const l=s.toString();return l?`${e.path}?${l}`:e.path}}(v||(v={})),function(e){let t;e.name="LoginDeviceCode",e.path=`${z.ny}/login/deviceCode`,function(e){e.redirectUrl=X.R.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(_||(_={})),function(e){let t;e.name="Initialize Single Page Application",e.path=`${z.ny}/spa`,function(e){e.redirectUrl=X.R.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(!n)return e.path;const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}}(y||(y={})),function(e){e.name="Pairing",e.path=`${z.ny}/pairing`,e.getLink=function(){return e.path}}(b||(b={})),function(e){e.name="Wildcard Fall Through",e.path=`${z.ny}/*`}(C||(C={})),function(e){let t;e.name="Profile",function(e){e.gamertag=":gamertag?"}(t=e.PathParams||(e.PathParams={})),e.path=`${z.ny}/user/${t.gamertag}`,e.getLink=function(n){return e.path.replace(t.gamertag,encodeURIComponent(n))}}(E||(E={})),function(e){let t;e.name="All Friends",function(e){e.gamertag=":gamertag"}(t=e.PathParams||(e.PathParams={})),e.path=`${z.ny}/user/${t.gamertag}/friends`,e.getLink=function(n){return e.path.replace(t.gamertag,encodeURIComponent(n))}}(S||(S={})),function(e){let t;e.name="Onboarding",e.path=`${z.ny}/onboarding`,function(e){e.redirectUrl=X.R.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(T||(T={})),function(e){let t;e.name="Welcome",e.path=`${z.ny}/welcome`,function(e){e.redirectUrl=X.R.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(A||(A={})),function(e){let t;e.name="Requirements",e.path=`${z.ny}/requirements`,function(e){e.redirectUrl=X.R.redirectUrl}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){if(n){const r=new URLSearchParams;return r.set(t.redirectUrl,n),`${e.path}/?${r.toString()}`}return e.path}}(w||(w={})),function(e){let t;e.name="Share Root",e.path=`${z.ny}/share`,function(e){e[e.OpenEndedInvite=0]="OpenEndedInvite",e[e.StateShare=1]="StateShare"}(t=e.ExperienceType||(e.ExperienceType={})),e.getLink=function(){return e.path}}(k||(k={})),function(e){e.name="Share Game Invite Root",e.path=`${k.path}/gameInvite`,e.getLink=function(){return e.path}}(I||(I={})),function(e){let t;e.name="Share Game Invite",function(e){e.linkToken=":linkToken"}(t=e.PathParams||(e.PathParams={})),e.path=`${I.path}/${t.linkToken}`,e.getLink=function(n){return e.path.replace(t.linkToken,encodeURIComponent(n))}}(P||(P={})),function(e){e.name="Share Friend Root",e.path=`${k.path}/friend`,e.getLink=function(){return e.path}}(R||(R={})),function(e){let t;e.name="Share Friend",function(e){e.friendLinkId=":friendLinkId"}(t=e.PathParams||(e.PathParams={})),e.path=`${R.path}/${t.friendLinkId}`,e.getLink=function(n){return e.path.replace(t.friendLinkId,encodeURIComponent(n))}}(x||(x={})),function(e){e.name="State Share Root",e.path=`${z.ny}/stateShare`,e.getLink=function(){return e.path}}(N||(N={})),function(e){let t;e.name="State Share",function(e){e.linkToken=":linkToken"}(t=e.PathParams||(e.PathParams={})),e.path=`${N.path}/${t.linkToken}`,e.getLink=function(n){return e.path.replace(t.linkToken,encodeURIComponent(n))}}(O||(O={})),function(e){e.name="Share State Prototype",e.path=`${k.path}/state`,e.getLink=function(){return e.path}}(L||(L={})),function(e){let t;e.name="Share State Prototype Test Harness",e.path=`${L.path}/test`,function(e){e.productId="productId",e.title="title",e.description="description",e.creator="creator",e.image="image",e.payload="payload"}(t=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(n){let{productId:r,title:o,description:a,creator:i,image:s,payload:l}=n;return`${e.path}?${new URLSearchParams({[t.productId]:r,[t.title]:o,[t.description]:a,[t.creator]:i,[t.image]:s,[t.payload]:l}).toString()}`}}(M||(M={})),function(e){let t,n;e.name="External Contextual Store",function(e){e.productId=":productId",e.skuId=":skuId?",e.availabilityId=":availabilityId?"}(t=e.PathParams||(e.PathParams={})),e.path=`${a.path}/store/${t.productId}/${t.skuId}/${t.availabilityId}`,e.productPath=`${a.path}/store/${t.productId}`,function(e){e.itemType="it",e.scenario="xs",e.callerApplicationId="partnerid",e.campaignId="campaignId",e.version="v",e.theme="t",e.clientType="clientType",e.experience="exp"}(n=e.QueryStrings||(e.QueryStrings={})),e.getLink=function(r){let o,{productId:a,skuId:i,availabilityId:s,itemType:l,scenario:c,tracking:u,clientType:d,experience:h}=r;o=i&&s?`${e.path}`.replace(t.productId,encodeURIComponent(a)).replace(t.skuId,encodeURIComponent(i)).replace(t.availabilityId,encodeURIComponent(s)):`${e.productPath}`.replace(t.productId,encodeURIComponent(a));const m=new URLSearchParams;return m.set(n.version,q.zBs.v2),m.set(n.theme,G.Q2A.Dark),l&&m.set(n.itemType,l),c&&m.set(n.scenario,c),(null===u||void 0===u?void 0:u.callerApplicationId)&&m.set(n.callerApplicationId,u.callerApplicationId),(null===u||void 0===u?void 0:u.campaignId)&&m.set(n.campaignId,u.campaignId),d&&m.set(n.clientType,d),h&&m.set(n.experience,h),`${o}?${m.toString()}`}}(D||(D={})),function(e){e.name="Simple Feedback",e.path=`${a.path}/simple-feedback`,e.getLink=function(){return e.path}}(U||(U={})),function(e){e.name="Library",e.path=`${z.ny}/library`,e.getLink=function(){return e.path}}(F||(F={})),function(e){e.name="ExternalLibrary",e.path=`${a.path}/library`,e.getLink=function(){return e.path}}(B||(B={})),function(e){e.name="XDS v2 Playground",e.path=`${z.ny}/xdsPlayground`,e.getLink=function(){return e.path}}(H||(H={}))},21280:(e,t,n)=>{"use strict";n.d(t,{v:()=>r});n(77950),n(85940);function r(e){return e.replace(/[;,/?:@&=+_`~$%#^*()!^\u2122\xae\xa9]/g,"").replace(/ {2,}/g," ").trim().substr(0,50).replace(/ /g,"-").toLowerCase()}},12696:(e,t,n)=>{"use strict";function r(e){return!!e.xCloud}n.d(t,{J:()=>r})},70800:(e,t,n)=>{"use strict";var r;n.d(t,{C:()=>r}),function(e){e.ConsoleAll="f6f1f99f-9b49-4ccd-b3bf-4d9767a77f5e",e.CloudBYOGAll="f7d90bbd-2e49-4bcc-a486-0e58cc8a9899",e.ConsoleRecentlyAdded="f13cf6b4-57e6-4459-89df-6aec18cf0538",e.ConsoleLeavingSoon="393f05bf-e596-4ef6-9487-6d4fa0eab987",e.ConsoleMostPopular="eab7757c-ff70-45af-bfa6-79d3cfb2bf81",e.ConsoleClassics="42d41e76-a5fd-4344-ae4e-05ce2f5925cd",e.ConsoleIndies="2e8e2cdf-f1bb-4e7e-8295-04949a26f6cc",e.ConsoleFamilyFriendly="8e7cd765-1293-44e0-95bb-8257e2bf0221",e.ConsoleSports="796c328b-4a17-4996-99f8-0edb59bef85a",e.ConsoleShooters="72c5a54f-45f9-4723-970c-1c8040cffe2e",e.ConsoleActionAdventure="fafb048d-9850-4447-ae20-f8f698bd208a",e.ConsolePlatformers="5dfd8fdd-2fd3-4e7f-b9f8-175e96b1adac",e.ConsoleFighters="8e984232-c067-4f3f-8de3-39474956898e",e.CloudRecentlyAdded="44a55037-770f-4bbf-bde5-a9fa27dba1da",e.CloudMostPopular="e7590b22-e299-44db-ae22-25c61405454c",e.CloudTrendingNow="13cd1bce-4f82-46e9-9dce-1f86fedf5931",e.CloudPlayWithTouch="9c86f07a-f3e8-45ad-82a0-a1f759597059",e.CloudAll="29a81209-df6f-41fd-a528-2ae6b91f719c",e.CloudPlaysGreatOnMobile="88c10a22-33b5-4e24-90b6-125bee02da39",e.CloudActionAdventure="ebedc400-a688-4929-b794-4435b2e1ab0a",e.CloudFamilyFriendly="f576ca76-9aad-4ac7-a0f0-71429ef36850",e.CloudFighting="c4be032d-0f42-4df5-8934-1758748cf7f0",e.CloudIndies="95f39cf3-48ec-4d3c-83e6-a7f6916fbdfe",e.CloudRpg="e68225ce-e42f-4156-998d-697bf985da73",e.CloudShooters="38441e3f-26c6-498c-8b84-0ca20a3785af",e.CloudSimulation="200674bd-7bd4-4360-bd0f-af8cd899839f",e.CloudStrategy="5d6c2384-b30e-4717-86f6-e684e819622b",e.CloudEAPlay="76539f85-43fe-435a-99c8-78c3fbcdf915",e.CloudPlayWithMouseAndKeyboard="8fa264dd-124f-4af3-97e8-596fcdf4b486",e.CloudSmartTvLandingGallery="bb92c8c7-079b-4725-9880-533437117367",e.CloudSmartTvLandingGalleryPromo="00360ca5-7704-40b6-9148-7c3a0e634064",e.ConsoleRacingAndFlying="6d18c7d7-7f62-4c87-b1b7-b5555c5752d0",e.PCAll="fdd9e2a7-0fee-49f6-ad69-4354098401ff",e.PCRecentlyAdded="163cdff5-442e-4957-97f5-1050a3546511",e.PCLeavingSoon="d79ea370-cab3-486c-82ce-e1834c73401d",e.PCMostPopular="a884932a-f02b-40c8-a903-a008c23b1df1",e.PCActionAdventure="0f4967a6-7226-48bd-8ab4-a6ef40b09981",e.PCClassics="10f20ee2-333a-47d2-a89e-b1d0f487c7c8",e.PCIndies="1e2ce757-e84f-4d2c-9243-34b81912644a",e.PCPlatformers="1436fa3b-f1dc-47de-b2fd-d14a5e0e6271",e.PCPuzzle="68a80ea5-85a8-4143-9ced-107cfa560800",e.PCRpg="52c9f69b-fd70-4cc9-a621-6691ca893fa0",e.PCSimulation="9e3263ab-e625-4667-9895-869936f6b0ac",e.PCShooters="674d4dbe-32eb-4a05-8e0d-ce795337f600",e.PCSports="cdd6abaa-45b3-4d17-9c8a-e9fcab9ff71b",e.PCRacingAndFlying="563a00da-0c53-4fc5-9bad-3224b9e1c6f7",e.PCStrategy="7a3b01ac-93e4-4d52-81ad-980bc4cb4ff5",e.FreeToPlay="FreeToPlay"}(r||(r={}))},12175:(e,t,n)=>{"use strict";n.d(t,{LJ:()=>i,eo:()=>o,ld:()=>a});n(74407),n(26464),n(64903),n(6886);var r=n(70800);const o={[r.C.CloudStrategy]:"Genre_Strategy",[r.C.CloudIndies]:"Genre_Indie",[r.C.CloudFamilyFriendly]:"Genre_Family_Friendly",[r.C.CloudSimulation]:"Genre_Simulation",[r.C.CloudShooters]:"Genre_Shooters",[r.C.CloudActionAdventure]:"Genre_Action_Adventure",[r.C.CloudRpg]:"Genre_RPG",[r.C.CloudFighting]:"Genre_Fighters_Brawlers",[r.C.CloudMostPopular]:"Most_Popular",[r.C.FreeToPlay]:"FreeToPlay"},a={[r.C.CloudAll]:"all-games",[r.C.CloudRecentlyAdded]:"recently-added",[r.C.ConsoleLeavingSoon]:"leaving-soon",[r.C.CloudMostPopular]:"popular",[r.C.CloudStrategy]:"strategies",[r.C.CloudIndies]:"indies",[r.C.CloudFamilyFriendly]:"family-friendly",[r.C.CloudSimulation]:"simulations",[r.C.CloudShooters]:"shooters",[r.C.CloudActionAdventure]:"action-adventure",[r.C.CloudRpg]:"rpgs",[r.C.CloudFighting]:"fighters",[r.C.FreeToPlay]:"free-to-play",[r.C.CloudPlayWithMouseAndKeyboard]:"mouse-and-keyboard"},i=Object.entries(a).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{})},20889:(e,t,n)=>{"use strict";var r;n.d(t,{k:()=>r}),function(e){e[e.Off=0]="Off",e[e.White=1]="White",e[e.Black=2]="Black"}(r||(r={}))},3569:(e,t,n)=>{"use strict";n.d(t,{Hi:()=>O,pQ:()=>M,Kf:()=>D,Lm:()=>G,YV:()=>ee,Z1:()=>K,l2:()=>V,pD:()=>U,CU:()=>$,$p:()=>j,gS:()=>re,IC:()=>W,eT:()=>oe,fD:()=>ye,yd:()=>X,Pd:()=>ne,VO:()=>Ue,ND:()=>ae,_T:()=>m,Cv:()=>B,zt:()=>Z,tA:()=>De,OE:()=>Me,tZ:()=>I,sL:()=>P,HR:()=>Fe,fO:()=>x,Dp:()=>N,Zr:()=>L,Fc:()=>R,OP:()=>z,lD:()=>te,OL:()=>Q,kE:()=>q,a1:()=>J,Os:()=>H,rt:()=>Y,V$:()=>ve,iT:()=>ge,Wy:()=>F,US:()=>k,GK:()=>b,UX:()=>C,wF:()=>E,Z6:()=>Se,nk:()=>Ae,SP:()=>S,Xx:()=>we,VP:()=>A,Ie:()=>T,KJ:()=>be,Xm:()=>Ce,jb:()=>Ee,bU:()=>w,PZ:()=>Ne,nQ:()=>Ie,lU:()=>Re,Bp:()=>Pe,xS:()=>ke,hz:()=>ie,vT:()=>Te,mP:()=>ce,OD:()=>le,Xz:()=>xe});var r=n(16216),o=n(61030),a=n(12524),i=n.n(a),s=n(2784),l=n(74495),c=n(89872),u="Price-module__lowestPriceText___QdS-y",d="Price-module__moreText___sNMVr",h="Price-module__ubisoftPlusHorizontalLogo___XPMTJ";const m=e=>{let{historicalLowestListPrice:t,className:n,containerClassName:a}=e;const d=(0,l.useSelector)(r.yWe),h=(0,o.iV)("lowestListPriceText"),{listPrice:m,currency:p}=t,g=(0,r.xGv)(m,p,d),f=(0,r.WUZ)(h,g);return s.createElement("div",{className:i()(c.Km,a)},s.createElement("span",{className:i()(u,n)},f))};var p=n(24923),g=n.n(p),f=n(814),v=n.n(f),_=(n(88233),n(61975));const y=(e,t)=>v()(v()({},e.images),null===t||void 0===t?void 0:t.skuImages),b=(e,t)=>y(e,t).boxArt,C=(e,t)=>{var n;return(null===(n=e.curatedEditionInformation)||void 0===n?void 0:n.upsellImages)&&e.curatedEditionInformation.upsellImages[0]?e.curatedEditionInformation.upsellImages[0]:E(e,t)},E=(e,t)=>y(e,t).superHeroArt,S=(e,t)=>y(e,t).poster,T=(e,t)=>b(e,t)||w(e,t),A=(e,t)=>y(e,t).screenshots,w=(e,t)=>y(e,t).tile;var k,I,P,R,x,N,O,L,M,D;n(6886);!function(e){e[e.Unknown=0]="Unknown",e[e.Differential=1]="Differential",e[e.UpgradedDifferentialOffer=2]="UpgradedDifferentialOffer"}(k||(k={})),function(e){e.None="None",e.Affirmation="Affirmation",e.Remediation="Remediation"}(I||(I={})),function(e){e.Unknown="Unknown",e.GamePass="GamePass",e.XboxLiveGold="XboxLiveGold",e.GamePassUltimate="GamepassUltimate",e.GamePassCore="GamePassCore",e.EAAccess="EAAccess",e.PCGamePass="PCGamePass",e.BundleRemediation="BundleRemediation",e.XPrice="XPrice",e.UbisoftPlus="UbisoftPlus"}(P||(P={})),function(e){e.Game="Game",e.Consumable="Consumable",e.Durable="Durable",e.UnmanagedConsumable="UnmanagedConsumable",e.Pass="Pass",e.Bundles="Bundles"}(R||(R={})),function(e){e.Subscription="Subscription",e.Passes="Passes",e.Games="Games",e.Device="Devices"}(x||(x={})),function(e){e.Application="dapp",e.Consumable="Consumable",e.Durable="Durable",e.Game="dgame",e.GameDemo="dgamedemo"}(N||(N={})),function(e){e.Default="Default",e.Purchase="Purchase",e.Browse="Browse",e.Details="Details",e.Gift="Gift",e.Fulfill="Fulfill",e.Redeem="Redeem",e.Unknown="Unknown"}(O||(O={})),function(e){e.Application="Application",e.AvatarItem="AvatarItem",e.Bundles="Bundles",e.Consumable="Consumable",e.CSV="CSV",e.Devices="Devices",e.Durable="Durable",e.Game="Game",e.Movie="Movie",e.OperatingSystem="OperatingSystem",e.Pass="PASS",e.Physical="Physical",e.TVEpisode="TVEpisode",e.TVSeason="TVSeason",e.TVSeries="TVSeries",e.UnmanagedConsumable="UnmanagedConsumable"}(L||(L={})),function(e){e.Hololens="HoloLens",e.Hub="Hub",e.MobileDevice="MobileDevice",e.PC="PC",e.XboxOne="XboxOne",e.XboxSeriesX="XboxSeriesX"}(M||(M={})),function(e){e.xcloud="xcloud",e.geforcenow="geforcenow"}(D||(D={}));const U="CFQ7TTC0K5DJ",F="CFQ7TTC0K6L8",B="CFQ7TTC0KGQ8",H="CFQ7TTC0KHS0",q="CFQ7TTC0HXBN",G="CFQ7TTC0K5DH",z="CFQ7TTC0QH5H",X="CFQ7TTC0HX8W",$="Game Pass Core",V="Xbox Game Pass Core",W="Game Pass",K="Xbox Game Pass",j="Console",Z="PC Game Pass",Y="Game Pass Ultimate",Q="Xbox Game Pass Ultimate",J="Friends & Family",ee="EA Play",te="Ubisoft+",ne="GTA+",re=[F,B,H,q,U],oe=[F,U,B,H,G];var ae;!function(e){e.CeroZ="CeroZ",e.CloudEnabled="CloudEnabled",e.DlcRequiresGame="DlcRequiresGame",e.InAppPurchase="InAppPurchase",e.PurchaseUnavailableOnWeb="PurchaseUnavailableOnWeb",e.SubscriptionDisclaimer="SubscriptionDisclaimer",e.SubscriptionDisclaimerUKOnly="SubscriptionDisclaimerUKOnly",e.UbisoftPlusSubscriptionDisclaimer="UbisoftPlusSubscriptionDisclaimer",e.XboxLiveGoldRequired="XboxLiveGoldRequired",e.XboxLiveGoldRequiredForOnline="XboxLiveGoldRequiredForOnline"}(ae||(ae={}));const ie=e=>!(!e||e.hasTrial||!e.duration||!e.initialDuration),se=(e,t,n,o)=>e<=0?o:(0,r.xGv)(e,t,n),le=(e,t)=>{const n=(0,l.useSelector)(r.yWe),[a,i,s,c]=(0,o.QF)("discountedPriceWithAfterTextAccessibilityTemplate","freeText","freePriceWithAfterTextAccessibilityTemplate","promoDurationOfferRecurringPriceAfter"),u=(()=>{const[e,t,n,a,i,s,l,c,u,d,h]=(0,o.QF)("dailyRecurrenceDisplayStringFormat","dailyRecurrenceAccessibilityLabelFormat","genericRecurrenceStringFormat","monthlyRecurrenceDisplayStringFormat","monthlyRecurrenceAccessibilityLabelFormat","priceForTimeStringFormat","quarterlyRecurrenceDisplayStringFormat","quarterlyRecurrenceAccessibilityLabelFormat","yearlyRecurrenceDisplayStringFormat","yearlyRecurrenceAccessibilityLabelFormat","freeText"),m=(0,_.Hr)();return(o,p,g,f)=>{let v=o,_=o;if(g&&g.isRecurring){const y=p?g.initialDuration:g.duration;if(y&&y.unitType&&y.units)if(p){const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(s,o,e),_=v)}else if("DAY"===y.unitType.toUpperCase()){if(1===y.units)_=(0,r.WUZ)(t,o),v=(0,r.WUZ)(e,o);else{const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(n,o,e),_=v)}f&&(v=h)}else if("MONTH"===y.unitType.toUpperCase()){switch(y.units){case 1:v=(0,r.WUZ)(a,o),_=(0,r.WUZ)(i,o);break;case 3:v=(0,r.WUZ)(l,o),_=(0,r.WUZ)(c,o);break;case 12:v=(0,r.WUZ)(u,o),_=(0,r.WUZ)(d,o);break;default:{const e=m(y.units,y.unitType);e&&(v=(0,r.WUZ)(n,o,e),_=v)}}f&&(v=h)}}return{priceLabel:v,accessibilityLabel:_}}})(),d=(0,_.KG)(),h=(()=>{const[e,t,n,r,a,i,s,l]=(0,o.QF)("withEAPlayText","withGamePassText","withGamePassUltimateText","withPCGamePassText","withXboxLiveGoldText","withGamePassCoreText","withText","withUbisoftPlusText");return o=>{let c,u,d;switch(o){case P.EAAccess:c=e;break;case P.GamePass:c=t,u=_.E0.XboxGamepassInline,d=s;break;case P.GamePassUltimate:c=n,u=_.E0.GamepassUltimateInline2,d=s;break;case P.PCGamePass:c=r,u=_.E0.XboxGamepassInline,d=s;break;case P.XboxLiveGold:c=a,u=_.E0.XboxGoldInline,d=s;break;case P.GamePassCore:c=i,u=_.E0.XboxGamepassInline,d=s;break;case P.UbisoftPlus:c=l,u=_.E0.UbisoftPlus,d=s}return{afterText:c,afterTextGlyph:u,afterTextPrefix:d}}})();if(!e)return;const{msrp:m,listPrice:p,currency:g,eligibilityInfo:f}=e;let v,y,b,C,E,S=se(m,g,n,i),T=S,A=S;return(null===t||void 0===t?void 0:t.isRecurring)&&(({priceLabel:S,accessibilityLabel:T}=u(S,!1,t)),A=T),(p!==m||(null===t||void 0===t?void 0:t.initialDuration)&&(null===t||void 0===t?void 0:t.duration)&&(t.initialDuration.units!==t.duration.units||t.initialDuration.unitType!==t.duration.unitType))&&(v=S,y=T,S=se(p,g,n,i),T=S,(null===t||void 0===t?void 0:t.isRecurring)&&({priceLabel:S,accessibilityLabel:T}=u(S,void 0!==t.initialDuration,t,p<=0)),f&&f.eligibility!==I.None&&(f.type===P.Unknown?f.eligibility===I.Remediation&&(S=v,T=y,v=void 0,y=void 0):({afterText:b,afterTextGlyph:C,afterTextPrefix:E}=h(f.type))),y&&(A=0===p&&b?(0,r.WUZ)(s,y||"",b):(0,r.WUZ)(a,y||"",T,b||""),(null===t||void 0===t?void 0:t.initialDuration)&&(A=d(A,(0,r.WUZ)(c,y))))),{originalPrice:v,lowestPrice:S,afterText:b,afterTextGlyph:C,afterTextPrefix:E,accessibilityText:A}},ce=e=>{var t,n,a,i,s,c,u,d,h,m,p,g,f,v,y;const[b,C,E,S]=(0,o.QF)("freeText","priceForTimeStringFormat","promoDurationOffer","promoDurationOfferRecurringPriceAfter"),{sku:T,availability:A}=e,w=(0,l.useSelector)(r.yWe),k=le(A.price,T.recurrencePolicySummary),I=(0,_.Hr)(),P=I(null===(n=null===(t=T.recurrencePolicySummary)||void 0===t?void 0:t.initialDuration)||void 0===n?void 0:n.units,null===(i=null===(a=T.recurrencePolicySummary)||void 0===a?void 0:a.initialDuration)||void 0===i?void 0:i.unitType),R=I(null===(s=A.promotionalDuration)||void 0===s?void 0:s.units,null===(c=A.promotionalDuration)||void 0===c?void 0:c.unitType);let x,N,O;if(P&&(null===k||void 0===k?void 0:k.lowestPrice)){const{currency:e,listPrice:t,msrp:n}=A.price,o=se(t,e,w,b),a=null!==(u=k.originalPrice)&&void 0!==u?u:k.lowestPrice;R?(x=(0,r.WUZ)(E,P,o,R),N=x):(null===(h=null===(d=T.recurrencePolicySummary)||void 0===d?void 0:d.initialDuration)||void 0===h?void 0:h.units)===(null===(p=null===(m=T.recurrencePolicySummary)||void 0===m?void 0:m.duration)||void 0===p?void 0:p.units)&&(null===(f=null===(g=T.recurrencePolicySummary)||void 0===g?void 0:g.initialDuration)||void 0===f?void 0:f.unitType)===(null===(y=null===(v=T.recurrencePolicySummary)||void 0===v?void 0:v.duration)||void 0===y?void 0:y.unitType)&&t===n||(x=(0,r.WUZ)(C,o,P)),x&&(O=ie(T.recurrencePolicySummary)&&T.recurrencePolicySummary.isRecurring&&a?(0,r.WUZ)(S,a):void 0)}return{initialOfferText:x,conciseInitialOfferText:N,recurringPriceText:O}};var ue=n(82279),de=n(22970);const he=function(e){var{title:t,titleId:n}=e,r=(0,de.__rest)(e,["title","titleId"]);return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 3392 2048",width:"1em",height:"1em","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 640h3392v768H0V640zm568 441V787h-82v290q0 28-5 53t-17 44-33 31-53 12q-33 0-55-11t-35-32-18-46-5-56V787h-82v301q0 96 44 148t144 52q102 0 149-54t48-153zm382 199v-69H759V787h-81v493h272zm339-423v-70H924v70h142v423h81V857h142zm150 423V787h-85v493h85zm644 0V787h-111q-39 97-79 192t-74 193h-1q-3-14-8-28t-11-29l-130-328h-115v493h75q0-61 1-122t1-122q0-43-1-85t-3-86h1q3 12 5 25t8 24l148 366h56l147-368q5-11 7-23t6-24h2q-2 24-3 48t-2 48v319h81zm520 0l-183-493h-92l-185 493h89l43-125h194l44 125h90zm-156-192h-151l68-197q2-8 3-15t4-16h1q2 8 3 15t4 16l68 197zm484-231v-70h-365v70h141v423h82V857h142zm342 423v-69h-195v-146h170v-69h-170V857h184v-70h-265v493h276z"}))};var me=n(94988);const pe=["title","titleId"],ge=e=>{let{title:t,titleId:n}=e,r=g()(e,pe);return s.createElement("svg",v()({width:"48",height:"32",viewBox:"0 0 48 32",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":n},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M0 0V32H35.3067L48 0H0ZM22.08 18.1333C22.08 19.52 21.76 20.8 21.2267 21.8667C20.5867 22.9333 19.7333 23.7867 18.56 24.4267C17.3867 25.0667 16 25.3867 14.4 25.3867C12.8 25.3867 11.4133 25.0667 10.24 24.4267C9.06667 23.7867 8.21333 22.9333 7.57333 21.8667C6.93333 20.8 6.72 19.52 6.72 18.1333V7.68H10.6667V17.8133C10.6667 19.0933 10.9867 20.0533 11.6267 20.8C12.2667 21.44 13.12 21.8667 14.2933 21.8667C15.4667 21.8667 16.32 21.5467 16.96 20.8C17.6 20.16 17.92 19.0933 17.92 17.8133V7.68H22.08V18.1333ZM32.2133 15.36V19.9467H29.0133V15.36H24.32V12.2667H29.12V7.68H32.32V12.2667H37.6533L36.2667 15.36H32.2133Z"}))},fe=["title","titleId"],ve=e=>{let{title:t,titleId:n}=e,r=g()(e,fe);return s.createElement("svg",v()({width:"191",height:"32",viewBox:"0 0 191 32",xmlns:"http://www.w3.org/2000/svg"},r),t?s.createElement("title",{id:n},t):null,s.createElement("path",{d:"M109.801 2.09836C107.39 0.691506 104.692 0 101.684 0C99.2722 0 97.028 0.405367 94.9747 1.2161C92.9215 2.02683 91.2741 3.05216 90.0326 4.31595L91.0831 5.36513C89.4835 6.70045 88.242 8.32191 87.3347 10.2772C86.4275 12.2325 85.9739 14.4739 85.9739 17.0015C85.9739 19.696 86.6424 22.1997 87.9555 24.4888C89.2925 26.7779 91.1309 28.5663 93.5184 29.9255C95.9059 31.2608 98.6276 31.9285 101.684 31.9285C104.692 31.9285 107.39 31.237 109.801 29.8301C112.213 28.4232 114.075 26.5156 115.412 24.0835C116.749 21.6513 117.417 18.9329 117.417 15.9523C117.417 12.9717 116.749 10.2772 115.412 7.84501C114.075 5.43666 112.213 3.50522 109.801 2.09836ZM109.515 20.9598C108.774 22.4143 107.724 23.5589 106.387 24.3696C105.026 25.2042 103.474 25.6095 101.707 25.6095C99.9169 25.6095 98.3411 25.2042 96.9802 24.4173C95.6194 23.6304 94.5927 22.5574 93.8765 21.2221C93.1602 19.8867 92.8021 18.4083 92.8021 16.8346C92.8021 15.2846 93.0886 13.9732 93.6377 12.924C94.1869 11.8748 94.9509 10.9687 95.882 10.158L94.8315 9.10879C95.5955 8.27422 96.5505 7.6304 97.7204 7.12966C98.8902 6.62891 100.227 6.39046 101.707 6.39046C103.474 6.39046 105.026 6.79583 106.387 7.6304C107.748 8.46498 108.798 9.58569 109.515 11.0402C110.255 12.4948 110.613 14.1401 110.613 16C110.613 17.8361 110.255 19.5052 109.515 20.9598Z"}),s.createElement("path",{d:"M71.0998 10.8018C72.0309 11.4456 73.6544 12.1848 76.018 13.0194C78.7875 13.9971 80.8408 15.1655 82.13 16.5962C83.4193 17.9553 84.0639 19.7914 84.0639 22.0805C84.0639 24.1312 83.5864 25.9196 82.6314 27.4218C81.6764 28.924 80.3872 30.0447 78.7637 30.8316C77.1402 31.6185 75.3495 32 73.3679 32C70.67 32 68.3303 31.4039 66.3964 30.2355C64.4387 29.0671 63.0539 27.3741 62.1944 25.2042L67.5424 21.2221C68.0199 22.5813 68.8078 23.6543 69.9299 24.4889C71.052 25.3234 72.2697 25.7288 73.5589 25.7288C74.681 25.7288 75.5883 25.4427 76.3045 24.8704C76.9969 24.2981 77.355 23.5351 77.355 22.5574C77.355 21.6036 76.9492 20.7929 76.1613 20.1252C75.3734 19.4337 73.8932 18.7184 71.7444 17.9553C69.0704 16.9777 67.0172 15.8093 65.5847 14.4024C64.1522 12.9956 63.4359 11.1118 63.4359 8.72731C63.4359 7.08201 63.8657 5.60361 64.7252 4.26829C65.5847 2.95682 66.7784 1.90764 68.3064 1.16844C69.8344 0.429249 71.5773 0.0477295 73.5112 0.0477295C75.8987 0.0477295 77.9758 0.52463 79.7187 1.47843C81.4854 2.43223 82.7747 3.83908 83.6342 5.699L78.2862 9.39497C77.2357 7.01047 75.5405 5.81822 73.2485 5.81822C72.2219 5.81822 71.3863 6.05667 70.7178 6.55742C70.0493 7.05816 69.715 7.70198 69.715 8.48886C69.715 9.37113 70.1687 10.1342 71.0998 10.8018Z"}),s.createElement("path",{d:"M47.9649 12.161C47.2486 13.2817 46.2459 14.0924 44.9805 14.617C48.6572 16 50.4956 18.5514 50.4718 22.2474C50.4718 24.0119 50.042 25.5857 49.1348 26.9926C48.2275 28.3994 46.9621 29.4724 45.3148 30.2593C43.6674 31.0462 41.7574 31.4277 39.537 31.4277H28.841V0.524597H39.1311C42.1394 0.524597 44.5508 1.19226 46.3414 2.52758C48.132 3.88674 49.0393 5.69896 49.0393 7.98808C49.0393 9.65723 48.6811 11.0641 47.9649 12.161ZM39.1073 6.462H35.5738V12.9955H39.1073C40.1578 12.9955 40.9934 12.7094 41.638 12.1371C42.2826 11.5648 42.593 10.7541 42.593 9.72877C42.593 8.70343 42.2826 7.8927 41.638 7.32042C41.0173 6.74814 40.1578 6.462 39.1073 6.462ZM39.2744 25.5142C40.7308 25.5142 41.829 25.1803 42.6169 24.5127C43.3809 23.8689 43.7868 22.8912 43.7868 21.6274C43.7868 20.3636 43.4048 19.4098 42.6169 18.7422C41.829 18.0745 40.7069 17.7407 39.2744 17.7407H35.5738V25.5142H39.2744Z"}),s.createElement("path",{d:"M17.2377 23.7735C18.2882 22.5574 18.8135 20.8167 18.8135 18.5514H18.8374V0.548462H25.5463V19.076C25.5463 21.5321 25.0449 23.7497 24.066 25.7049C23.0871 27.6602 21.6308 29.1863 19.6969 30.2832C17.763 31.3801 15.4471 31.9285 12.7731 31.9285C10.0753 31.9285 7.78325 31.3801 5.84938 30.2832C3.9155 29.1863 2.45912 27.6602 1.48025 25.7049C0.501374 23.7497 0 21.5559 0 19.076V0.548462H6.685V18.5514C6.685 20.8167 7.21025 22.5574 8.26075 23.7735C9.31125 24.9896 10.8154 25.6096 12.7492 25.6096C14.707 25.6096 16.1873 24.9896 17.2377 23.7735Z"}),s.createElement("path",{d:"M59.8069 0.548462H53.098V31.4277H59.8069V0.548462Z"}),s.createElement("path",{d:"M126.872 31.4277H120.163V0.548462H141.316V6.89123H126.872V13.997H140.003V19.1237H126.872V31.4277Z"}),s.createElement("path",{d:"M143.895 6.89123H152.585V31.4277H159.294V6.89123H167.961V0.548462H143.895V6.89123Z"}),s.createElement("path",{d:"M182.381 0.0238647V7.7258H191L188.803 12.924H182.381V20.6259H177.176V12.924H169.465V7.7258H177.176V0.0238647H182.381Z"}))},_e=["title","titleId"],ye=e=>{let{title:t,titleId:n}=e,r=g()(e,_e);return s.createElement("svg",v()({width:"48",height:"48",viewBox:"0 0 744 523",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":"GTATitle"},r),s.createElement("path",{d:"M635.55 6C653.89 6 668.8 20.92 668.8 39.25V74.88H704.43C722.77 74.88 737.68 89.8 737.68 108.13V156.22C737.68 174.56 722.76 189.47 704.43 189.47H668.8V225.1C668.8 243.44 653.88 258.35 635.55 258.35H584.17V445.4H431.59C429.11 445.4 416.34 445.1 402.93 439.69C398.12 437.75 393.73 435.35 389.79 432.54C385.86 435.35 381.47 437.76 376.68 439.7C363.27 445.13 350.51 445.46 348.09 445.47H260.08C257.66 445.46 244.91 445.11 231.51 439.68C229.09 438.7 226.78 437.6 224.58 436.39V456.57C224.57 460.28 223.93 473.23 216.03 486.61C209.52 497.64 193.54 516.15 159.71 516.15L6.00999 516.19L6.03 217.18C6.03 201.88 13.15 186.73 25.57 175.63C37.74 164.75 53.87 158.76 70.99 158.76H194.32L194.3 147.49H324.76L324.7 173.32H388.29C405.72 160.02 427.12 159.33 431.66 159.32H485.34V108.13C485.34 89.79 500.26 74.88 518.59 74.88H554.22V39.25C554.22 20.91 569.14 6 587.47 6H635.55ZM635.55 0H587.46C565.82 0 548.21 17.61 548.21 39.25V68.88H518.58C496.94 68.88 479.33 86.49 479.33 108.13V153.32H431.65C425.46 153.34 404.38 154.43 386.31 167.32H330.71L330.75 147.5C330.75 145.91 330.12 144.38 329 143.25C327.87 142.12 326.35 141.49 324.75 141.49H194.29C192.7 141.49 191.17 142.12 190.04 143.25C188.91 144.38 188.28 145.91 188.29 147.5L188.3 152.76H70.98C52.38 152.76 34.83 159.3 21.56 171.16C7.87 183.4 0.019989 200.18 0.019989 217.18L0 516.19C0 517.78 0.629995 519.31 1.75999 520.43C2.88999 521.55 4.41 522.19 6 522.19L159.7 522.15C196.51 522.15 214.02 501.79 221.19 489.66C229.86 474.97 230.56 460.63 230.57 456.58V445.76C244.48 451.1 257.5 451.45 260.03 451.47H348.07C350.71 451.46 364.49 451.1 378.91 445.26C382.74 443.71 386.38 441.86 389.77 439.75C393.17 441.86 396.82 443.71 400.67 445.26C415.1 451.08 428.94 451.4 431.57 451.4H584.17C587.48 451.4 590.17 448.71 590.17 445.4V264.35H635.55C657.19 264.35 674.8 246.74 674.8 225.1V195.47H704.43C726.07 195.47 743.68 177.86 743.68 156.22V108.13C743.68 86.49 726.07 68.88 704.43 68.88H674.8V39.25C674.8 17.61 657.19 0 635.55 0Z"}),s.createElement("path",{d:"M36.02 217.18L36 387.45C36 415.35 71.12 415.52 71.12 415.52H123.85V429.82H36.01V486.18L159.71 486.15C194.52 486.15 194.58 456.56 194.58 456.56V188.75H70.98C49.81 188.75 36.02 203.91 36.02 217.18ZM106.7 245.56H123.82V359.16H106.7V245.56ZM382.84 273.88H313.03V359.18H295.58V259.62H382.85V203.33H294.64L294.7 177.5H224.34L224.38 203.33H207.85V259.62H225.31V387.35C225.31 415.28 260.25 415.48 260.25 415.48H347.95C347.95 415.48 382.87 415.33 382.87 387.34H382.85V273.88H382.84ZM519.25 189.32H431.6C431.6 189.32 396.69 189.26 396.69 217.89V259.78H466.9V245.95H483.95V274.06H431.59C431.59 274.06 396.69 274.01 396.69 302.16V387.33C396.69 415.33 431.59 415.4 431.59 415.4H554.17V217.88C554.17 189.26 519.25 189.32 519.25 189.32ZM483.95 359.19H466.9V330.68H483.95V359.19Z"}),s.createElement("path",{d:"M704.43 104.88H638.8V39.25C638.8 37.45 637.34 36 635.55 36H587.46C585.66 36 584.21 37.46 584.21 39.25V104.88H518.58C516.78 104.88 515.33 106.34 515.33 108.13V156.22C515.33 158.02 516.79 159.47 518.58 159.47H584.21V225.1C584.21 226.9 585.67 228.35 587.46 228.35H635.55C637.35 228.35 638.8 226.89 638.8 225.1V159.47H704.43C706.23 159.47 707.68 158.01 707.68 156.22V108.13C707.68 106.34 706.22 104.88 704.43 104.88Z"}))},be=e=>{switch((0,r.kgH)(e)){case F:case B:return _.E0.XboxGamepassInline;case H:return _.E0.GamepassUltimateInline2;case U:return _.E0.XboxGamepassInline;default:return}},Ce=e=>{switch((0,r.kgH)(e)){case F:case B:return ue.Z;case H:return he;case U:return ue.Z;case G:return me.Z;case z:return ge;case X:return ye;default:return}},Ee=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch((0,r.kgH)(e)){case F:case B:return W;case H:return t?W:Y;case U:return $;case G:return ee;case z:return te;case X:return ne;default:return""}},Se=(e,t)=>0!==e?Math.round(100*Math.abs(1-t/e)):0,Te=e=>{const{upsellProductId:t,isTrial:n,nonCatalogUpsellProductId:a,productEntitlement:i}=e,[s,l,c,u,d]=(0,o.QF)("upsellIncludedWithFormat","youOwnThisText","freeTrialUpsellFormat","freeTrial","geforceNowServiceUpsellTitle"),h=(0,r.kgH)(t)===z;let m,p=n?u:(null===i||void 0===i?void 0:i.isOwned)?l:"";if(a){if(a.toLowerCase()===D.geforcenow)p=(0,r.WUZ)(n?c:s,d)}else if(t){const e=Ee(t,!1);m=be(t),p=(0,r.WUZ)(n?c:s,m||h?"":e)}return{affordingText:p,upsellGlyph:m}};n(634),n(31235);const Ae=(e,t)=>(null===t||void 0===t?void 0:t.skuDescription)||e.description,we=(e,t)=>(null===t||void 0===t?void 0:t.skuTitle)||e.title,ke=e=>{var t,n;return e.actions.includes(O.Purchase)&&e.actions.includes(O.Details)&&(null===(n=null===(t=e.price)||void 0===t?void 0:t.eligibilityInfo)||void 0===n?void 0:n.eligibility)!==I.Remediation},Ie=e=>(0,r.Ypc)(e,R.Consumable)||(0,r.Ypc)(e,R.Durable)||(0,r.Ypc)(e,R.UnmanagedConsumable),Pe=e=>(0,r.Ypc)(e,L.Devices),Re=e=>!!(e&&e.product&&e.sku&&e.availability),xe=e=>{var t;const[n,a,i]=(0,o.QF)("promoFreeDayWithPluralizationFormatRules","promoFreeMonthWithPluralizationFormatRules","promoFreeYearWithPluralizationFormatRules");if(!e||!e.units)return;let s;switch(null===(t=e.unitType)||void 0===t?void 0:t.toLowerCase()){case _.zy.Year:s=i;break;case _.zy.Month:s=a;break;case _.zy.Day:s=n}return s?(0,r.yy9)(s,e.units):void 0};n(36728),n(9e4),n(74407),n(26464),n(18339),n(64903);const Ne=(e,t)=>{var n,r;return t&&(null===(n=e.cmsVideos)||void 0===n?void 0:n.length)?e.cmsVideos.reduce(((e,t)=>{var n;return(null===(n=t.purpose)||void 0===n?void 0:n.toLowerCase().includes("trailer"))&&e.push(v()(v()({},t),{},{isCmsVideo:!0})),e}),[]):(null===(r=e.videos)||void 0===r?void 0:r.filter((e=>{var t;return null===(t=e.purpose)||void 0===t?void 0:t.toLowerCase().includes("trailer")})))||[]},Oe=["satisfyingPassId"],Le=["className","isPass","productInfo","productPrice","discountDetailClassName","historicalLowestListPrice","hideDiscountMessage"],Me=e=>{let{afterText:t,afterTextGlyph:n,afterTextPrefix:r,className:o,hasAddOns:a,listedPriceClassName:l,lowestPrice:c,originalPrice:u,useBrandStyling:h}=e;return s.createElement(s.Fragment,null,s.createElement("div",{"aria-hidden":"true",className:o},!!u&&s.createElement("span",{className:i()(h?"Price-module__brandOriginalPrice___ayJAn":"Price-module__originalPrice___XNCxs")},u),s.createElement("span",{className:i()("Price-module__boldText___1i2Li",d,l,{"Price-module__listedDiscountPrice___A-+d5":!h&&!!u})},`${c}${a?"+":""}`),s.createElement(He,{prefix:r,text:t,glyph:n})))},De=e=>{const t=le(e.productPrice,e.recurrencePolicySummary);return t?s.createElement(Me,v()(v()({},e),t)):null},Ue=e=>{let{satisfyingPassId:t}=e,n=g()(e,Oe);const a=(0,o.iV)("upsellIncludedWithFormat");if(t){const e=(0,r.kgH)(t),o=Ee(e,!1),i=be(e),l=e===z,c=(0,r.WUZ)(a,i||l?"":o);return s.createElement("div",{className:n.className},s.createElement("span",null,c),i?s.createElement("span",{className:(0,_.ut)(_.JE.Prepend,i)}):l?s.createElement(ve,{className:h}):"")}return s.createElement(De,v()({},n))},Fe=e=>{let{className:t,isPass:n,productInfo:r,productPrice:o,discountDetailClassName:a,historicalLowestListPrice:i,hideDiscountMessage:l}=e,c=g()(e,Le);const d=le(o,c.recurrencePolicySummary);if(o&&d){const{afterText:e,afterTextGlyph:h,afterTextPrefix:p}=d;return s.createElement("div",{className:t},s.createElement(Me,v()(v()(v()({},c),d),{},{afterText:void 0,afterTextPrefix:void 0,afterTextGlyph:void 0})),s.createElement("div",{className:a},n&&Re(r)&&s.createElement("div",null,s.createElement(qe,{productInfo:r})),!l&&!n&&s.createElement(Be,{productPrice:o}),s.createElement(He,{prefix:p,text:e,glyph:h}),s.createElement(Ge,{productInfo:r}),i&&s.createElement(m,{historicalLowestListPrice:i,className:u})))}return null},Be=e=>{let{productPrice:t}=e;const n=(0,o.iV)("pricePercentageOffTemplate"),{msrp:a,listPrice:i}=t;if(i>=a)return null;{const e=Math.round((a-i)/a*100),t=(0,r.WUZ)(n,e.toString());return s.createElement("span",null,t)}},He=e=>{let{glyph:t,prefix:n,text:r}=e;return r||t?s.createElement("span",{className:d},!!n&&s.createElement("span",{className:(0,_.W0)("margin","right",1)},n),t?t!==_.E0.UbisoftPlus?s.createElement("span",{className:(0,_.ut)(_.JE.Prepend,t)}):s.createElement(ve,{className:h}):s.createElement("span",null,r)):null},qe=e=>{let{productInfo:t}=e;const n=(0,_.KG)(),{conciseInitialOfferText:r,recurringPriceText:o}=ce(t),a=n(r,o);return a?s.createElement("span",null,a):null},Ge=e=>{let{productInfo:t,className:n}=e;var a;const l=(0,o.iV)("offerExpirationTemplate"),c=(0,_.v0)(null===(a=t.availability)||void 0===a?void 0:a.endDateUtc),{unit:u,unitType:h,durationString:m}=c;if(!u||!h||!m||h===_.zy.Month&&u>1||h===_.zy.Year)return null;{const e=(0,r.WUZ)(l,m);return s.createElement("span",{className:i()(d,"Price-module__discountExpiry___FMkkE",n)},e)}};var ze;!function(e){e.AdditionalInformation="AdditionalInformation",e.AvailabilitySummary="AvailabilitySummary",e.ProductSummary="ProductSummary",e.SkuSummary="SkuSummary"}(ze||(ze={}));n(34715),n(19570)},54433:(e,t,n)=>{"use strict";n.d(t,{xe:()=>g,SV:()=>p});var r=n(814),o=n.n(r),a=n(24923),i=n.n(a),s=(n(22799),n(87342)),l=n(2784),c=n(7158);const u=["children"],d=e=>{let{renderChildren:t}=e;return l.createElement(l.Fragment,null,t())};class h extends l.Component{constructor(e){super(e),this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,t){const n=`Error while rendering content. \n OriginalMessage: ${e.message} \n ComponentStack: ${t.componentStack}`;this.props.logger?this.props.logger.error(n,e):console.error(n)}render(){return this.state.error?this.props.renderError(this.state.error):l.createElement(l.Fragment,null,this.props.children)}}const m=e=>{let{children:t}=e,n=i()(e,u);return l.createElement(h,o()({},n),l.createElement(d,{renderChildren:t}))},p=e=>{const t=(0,s.Fj)(),n=e.renderError||(e=>l.createElement(c.mf,{error:e}));return l.createElement(m,o()(o()({},e),{},{renderError:n,logger:t}))},g=e=>{const t=`Error code: ${e.cV}`,n=e.renderError||(e=>l.createElement(c.WA,{title:"We are sorry, the page you requested cannot be found.",error:e,errorCodeDisplayString:t,subtitle:"The URL may be misspelled or the page you're looking for is no longer available."}));return l.createElement(m,o()(o()({},e),{},{renderError:n}))}},7158:(e,t,n)=>{"use strict";n.d(t,{mf:()=>I,WA:()=>P,Jr:()=>R});var r=n(814),o=n.n(r),a=(n(6886),n(87995)),i=n(16216),s=n(61030),l=n(87342),c=n(2784),u=n(4517),d=n(23667),h=n(79458),m=n(51295);const p=n.p+"static/media/error-hero-01.156ff95c.jpg";var g=n(49993),f=n(98900),v=n(8520),_=n(74495),y=n(32355);const b=n.p+"static/media/error-page-tile-games.bc4d4d57.jpg",C=n.p+"static/media/error-page-tile-consoles.726e67f4.jpg",E=n.p+"static/media/error-page-tile-support.94a896fe.svg";var S=n(46650);const T=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxGamesHeader","errorPageTileXboxGamesBody","errorPageTileXboxGamesLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.n5,{locale:r});return c.createElement(k,{imgSrc:b,header:e,body:t,linkText:n,href:o})},A=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxConsolesHeader","errorPageTileXboxConsolesBody","errorPageTileXboxConsolesLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.nG,{locale:r});return c.createElement(k,{imgSrc:C,header:e,body:t,linkText:n,href:o})},w=()=>{const[e,t,n]=(0,s.QF)("errorPageTileXboxSupportHeader","errorPageTileXboxSupportBody","errorPageTileXboxSupportLinkText"),r=(0,_.useSelector)(i.Yzi),o=(0,i.uQr)(y.PF,{locale:r});return c.createElement(k,{imgSrc:E,header:e,body:t,linkText:n,href:o})},k=e=>{let{imgSrc:t,header:n,body:r,href:o,linkText:a}=e;const[l]=(0,s.QF)("errorPageTileImageAltText");return c.createElement("div",{className:S.u5},c.createElement("img",{src:t,alt:(0,i.WUZ)(l,n),className:S.G5}),c.createElement("h3",{className:S.yU},n),c.createElement("p",{className:S.cI},r),c.createElement("div",null,c.createElement(f.k,{as:"a",href:o,buttonType:v.L$.Tertiary,target:"_blank",rel:"noopener noreferrer",className:S.xB,"aria-label":a},c.createElement("span",{className:S.xB},a))))},I=e=>{const[t,n,r,u,h]=(0,s.QF)("errorPageMessage","errorPageSubMessage","errorCodeTemplate","errorPageNotFoundMessage","errorPageNotFoundSubMessage"),p=(0,l.Qc)(),g=(0,i.WUZ)(r,p.cv().get());return(0,l.Li)(l.uZ.Error,d.G.Error,{additionalRerunParameter:e.error.name,data:(0,i.NqY)({errorName:e.error.name,errorMessage:e.error.message,errorStack:e.error.stack})}),c.createElement(m.B,{status:e.statusCode||a.WE.InternalServerError},c.createElement(P,o()({errorCodeDisplayString:g,title:e.statusCode===a.WE.NotFound?u:t,subtitle:e.statusCode===a.WE.NotFound?h:n},e)))},P=e=>{let{errorCodeDisplayString:t,error:n,subtitle:r,title:o,children:a}=e;const[l]=(0,s.QF)("errorPageBackgroundImageAltText");return c.createElement("div",null,c.createElement("div",{className:g.L$},c.createElement("img",{src:p,alt:l,className:g.$m}),c.createElement("div",{className:g.li},c.createElement("h2",{className:g.eE},o),!!r&&c.createElement("p",{className:g.BX},r),t&&c.createElement("p",{className:g.uY},t),c.createElement(h.m,{featureGate:i.vCX.ShowStackOnError},c.createElement("p",null,n.stack)),a)),c.createElement("div",{className:g.T5},c.createElement(T,null),c.createElement(A,null),c.createElement(w,null)))},R=e=>{let{messageOverride:t}=e;const n=(0,s.iV)("genericErrorMessage"),r=(0,u.k6)(),o=r.createHref(r.location);return(0,l.Li)(l.uZ.GenericError,d.G.Error,{data:(0,i.NqY)({errorMessage:t||n,pageHref:o})}),c.createElement("div",null,c.createElement("h3",null,t||n))}},68493:(e,t,n)=>{"use strict";n.d(t,{yY:()=>a,WV:()=>i,PE:()=>s.P});n(34715),n(26464),n(19570);var r=n(2784),o=n(3829);function a(){const e=(0,r.useContext)(o.D);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="RawResponse",r.raw=t,r.contentType=n}),[e])}function i(){const e=(0,r.useContext)(o.D);return(0,r.useCallback)(((t,n)=>{Object.keys(e).forEach((t=>delete e[t]));const r=e;r.type="Redirect",r.url=t,r.statusCode=n}),[e])}var s=n(36712)},48276:(e,t,n)=>{"use strict";n.d(t,{h:()=>d});var r=n(12524),o=n.n(r),a=n(2784),i=n(71275),s=n(58264),l=n(12594),c=n(32542),u=n(48727);const d=()=>a.createElement(i.Z,null,a.createElement(s.Z,{className:o()(u.x,"justify-content-center","align-items-center")},a.createElement(l.Z,{className:"col-auto"},a.createElement(c.d,null))))},50421:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(59158);const l=(0,s.cx)({resolved:{},chunkName:()=>"PageNotFoundErrorPage",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,s.LB)(n.e(35755).then(n.bind(n,91827))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 91827}})},72416:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});n(77950),n(94908);var r=n(2784),o=n(4517),a=n(16216),i=n(82498);const s=e=>{let{children:t,onNewNavigationOnly:n,ignoreHash:s,ignoreSearch:l}=e;const c=(0,i.iY)(),u=(0,o.TH)(),{location:d}=(0,a.vzw)();return(0,r.useEffect)((()=>{const e=null!=d&&d.pathname===u.pathname&&(s||d.hash===u.hash)&&(l||d.search===u.search);if(!u.hash&&!e)if(n)c||window.scrollTo(0,0);else{const e=c||{x:0,y:0};requestAnimationFrame((()=>requestAnimationFrame((()=>window.scrollTo(e.x,e.y)))))}}),[u]),t?r.createElement(r.Fragment,null,t):null}},82498:(e,t,n)=>{"use strict";n.d(t,{RV:()=>c,iY:()=>l});n(77950),n(94908);var r=n(2784),o=n(4517),a=n(16216);const i=r.createContext({}),s=e=>e.key||`${e.pathname}${e.search}${e.hash}`,l=()=>{const e=(0,o.TH)();return(0,r.useContext)(i)[s(e)]},c=e=>{let{children:t}=e;const n=(0,a.vzw)(),o=(0,r.useRef)(),l=(0,r.useRef)({});if(n.location!==o.current){if(n.location){const e=s(n.location);l.current[e]={x:window.scrollX,y:window.scrollY}}o.current=n.location}return r.createElement(i.Provider,{value:l.current},t)}},13934:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(2784),o=n(20404);const a=e=>{let{featureGate:t,children:n}=e;const a=(0,r.useCallback)((()=>n),[n]);return r.createElement(o._,{featureGate:t,renderEnabled:a})}},59158:(e,t,n)=>{"use strict";n.d(t,{hx:()=>m,cx:()=>g,Ed:()=>i,LB:()=>s});var r=n(3963),o=n.n(r),a=n(16216);const i=15e3,s=e=>(0,a.Fbb)(i,o()(e,200));var l=n(814),c=n.n(l),u=(n(43105),n(2784)),d=n(45595),h=n(54433);function m(e){const t=(0,d.ZP)(e);return Object.assign((e=>u.createElement(h.SV,{renderError:()=>null},(()=>u.createElement(t,c()({},e))))),{preload:t.preload.bind(t),load:t.load.bind(t)})}var p=n(98973);function g(e){return(0,d.ZP)(e,{fallback:u.createElement(p.h,null)})}},56734:(e,t,n)=>{"use strict";n.d(t,{h:()=>p});var r=n(814),o=n.n(r),a=n(24923),i=n.n(a),s=n(12524),l=n.n(s),c=n(2784),u=n(70561),d=n(58264),h=n(91632);const m=["className","iconClassName","iconName","children"],p=e=>{const{className:t,iconClassName:n,iconName:r,children:a}=e,s=i()(e,m),p=(0,h.ut)(h.JE.Prepend,r),g=c.createElement("span",{className:l()([p,n])});return c.createElement(u.Z,o()({className:t},s),c.createElement(d.Z,{className:l()(["align-items-center",(0,h.W0)("margin","all","auto")])},g,!!a&&c.createElement("span",{className:(0,h.W0)("margin","leftRight",2)},a)))}},40028:(e,t,n)=>{"use strict";n.d(t,{Ie:()=>o,P1:()=>i,U9:()=>r,d:()=>a});const r=2.592*Math.pow(10,9),o=8.64*Math.pow(10,7),a=3.6*Math.pow(10,6),i=6e4},91632:(e,t,n)=>{"use strict";n.d(t,{zy:()=>s,Lx:()=>g,E0:()=>u.E0,JE:()=>u.JE,JD:()=>m.JD,Ds:()=>r.D,jG:()=>h.j,fz:()=>u.fz,Fo:()=>u.Fo,ut:()=>u.ut,Iw:()=>d.I,al:()=>u.al,Np:()=>u.Np,Nl:()=>u.Nl,W0:()=>u.W0,Wp:()=>m.Wp,G1:()=>m.G1,df:()=>m.df,RO:()=>m.RO,KG:()=>f,Hr:()=>l,v0:()=>c,M9:()=>m.M9,Nj:()=>u.Nj,p$:()=>u.p$});var r=n(87848),o=(n(6886),n(16216)),a=n(61030),i=n(40028);var s;!function(e){e.Day="day",e.Hour="hour",e.Minute="minute",e.Month="month",e.Year="year",e.Unknown="unknown"}(s||(s={}));const l=()=>{const[e,t,n,r]=(0,a.QF)("monthWithPluralizationFormatRules","dayWithPluralizationFormatRules","hourWithPluralizationFormatRules","minuteWithPluralizationFormatRules");return(a,i)=>{if(!a||!i)return;let l;switch(i.toLowerCase()){case s.Month:l=e;break;case s.Day:l=t;break;case s.Hour:l=n;break;case s.Minute:l=r;break;default:return}return(0,o.yy9)(l,a)}},c=e=>{let t,n=0;const r=l();if(e){const r=new Date,o=(e=>{let t=e;const n=Math.floor(t/i.U9);t-=Math.max(0,n*i.U9);const r=Math.floor(t/i.Ie);t-=Math.max(0,r*i.Ie);const o=Math.floor(t/i.d);t-=Math.max(0,o*i.d);const a=Math.floor(t/i.P1);return t-=Math.max(0,a*i.P1),{month:n,day:r,hour:o,minute:a}})(new Date(e).getTime()-r.getTime());o.month>0?(n=o.month,t=s.Month):o.day>0?(n=o.day,t=s.Day):o.hour>0?(n=o.hour,t=s.Hour):o.minute>0&&(n=o.minute,t=s.Minute)}return{unit:n,unitType:t,durationString:r(n,t)}};var u=n(24155),d=n(8249),h=n(38205),m=n(78817),p=n(15946);const g=()=>((0,p.useRequestNavigationKeys)([p.KeyboardKey.ArrowUp,p.KeyboardKey.ArrowDown,p.KeyboardKey.Tab]),null),f=()=>{const e=(0,a.iV)("periodSeparatorTemplate");return(t,n)=>t&&n?(0,o.WUZ)(e,t,n):t||(n||"")}},80273:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>o,fz:()=>r});const r=e=>`float-${e}`,o=(e,t)=>`float-${t}-${e}`},24155:(e,t,n)=>{"use strict";n.d(t,{E0:()=>a.E0,JE:()=>a.JE,fz:()=>o.fz,Fo:()=>o.Fo,ut:()=>a.ut,al:()=>g,Np:()=>f,Nl:()=>s,W0:()=>l.W,Nj:()=>p,p$:()=>v});var r,o=n(80273),a=n(82717);!function(e){e.SMALL="sm",e.LARGE="lg"}(r||(r={}));const i={width:"w",height:"h",maxWidth:"mw",maxHeight:"mh"},s=(e,t)=>`${i[e]}-${t}`;var l=n(81236),c=n(12524),u=n.n(c);const d=["xs","sm","md","lg","xl",void 0],h=e=>d[d.indexOf(e)+1],m=e=>e&&"xs"!==e?`d-${e}-none`:"d-none",p=e=>e&&"xs"!==e?u()([m(),`d-${e}-block`]):"d-block",g=e=>e&&h(e)?u()([m(e),p(h(e))]):m(e),f=e=>e&&h(e)?p(h(e)):g(),v=e=>e&&h(e)?m(h(e)):(e=>e&&h(e)?u()([p(e),m(h(e))]):p(e))()},8249:(e,t,n)=>{"use strict";n.d(t,{I:()=>l});n(88233),n(31235),n(34715),n(26464),n(19570),n(6886),n(14121),n(60523);const r={};var o;!function(e){e[e.CMS=1]="CMS",e[e.EDS=2]="EDS",e[e.DSC=3]="DSC",e[e.Bing=4]="Bing"}(o||(o={}));const a={"images-eds":o.EDS,"store-images":o.DSC,cms:o.CMS,"img-s-msn-com":o.CMS,"bing.com":o.Bing},i=[34,38,40,43,44,46,50,52,56,60,64,68,72,75,80,84,85,86,95,99,100,105,107,108,110,112,120,124,128,131,132,135,136,138,144,145,147,148,150,151,152,154,156,160,164,170,172,173,175,177,178,180,181,200,207,208,210,213,215,219,224,230,234,235,237,240,243,245,248,253,258,260,262,265,267,270,275,278,280,282,285,288,290,296,300,307,310,313,316,318,320,327,329,336,343,347,361,366,367,370,380,395,400,402,420,423,424,426,430,441,448,464,467,470,480,496,518,526,540,553,556,562,576,580,584,588,592,594,598,640,648,666,672,720,724,725,754,756,770,788,789,796,800,810,818,853,854,864,896,934,935,938,980,981,1012,1021,1024,1051,1066,1067,1080,1138,1190,1191,1206,1276,1277,1280,1315,1350,1351,1366,1440,1499,1501,1561,1562,1593,1793,1795,1830,1831,1919,1920,2020,2021,2048,2100,2398,2399,2470,2471,2560],s=e=>{let t=0,n=i.length,r=0,o=0;for(;;){if(t>n){const e=i[t],r=i[n];return e?r?Math.max(e,r):e:r}if(r=Math.floor((n+t)/2),o=i[r],o===e)return o;o<e?t=r+1:n=r-1}},l=(e,t,n,i,l,c,u,d)=>{if(0===t&&0===n||!e)return e;const h=l||"90",m=u,p=new URL(e),g=p.hostname||p.pathname;let f;Object.keys(a).forEach((e=>{e&&g.includes(e)&&a[e]&&(f=a[e])}));let v=r[t];v||(v=s(t),r[t]=v);let _=r[n];_||(_=s(n),r[n]=_);let y=new URL(e);if(g&&f){switch(f){case o.CMS:y=((e,t,n,r,o,a)=>(e.searchParams.set("q",t),e.searchParams.set("o","f"),n&&e.searchParams.set("m",n),r&&e.searchParams.set("f",r),n&&"0"!==n&&e.searchParams.set("m",n),a&&"jpg"===r&&e.searchParams.set("b",a),o&&e.searchParams.set("p",o),e))(y,h,m,i,null===d||void 0===d?void 0:d.toString(),c);break;case o.EDS:_=v=Math.max(_,v),y=((e,t)=>(t&&e.searchParams.set("format",t),e))(y,i);break;case o.DSC:y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"90",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return e.searchParams.set("q",t),n&&e.searchParams.set("format",n),o&&"jpg"===n&&e.searchParams.set("background",o),r&&e.searchParams.set("padding",r),e}(y,h,i,null===d||void 0===d?void 0:d.toString(),c);break;case o.Bing:y=((e,t,n)=>(e.searchParams.set("w",t.toString()),e.searchParams.set("h",n.toString()),e.searchParams.set("c","1"),e))(y,t,n)}y.searchParams.set("w",v.toString()),y.searchParams.set("h",_.toString())}return y.toString()}},38205:(e,t,n)=>{"use strict";n.d(t,{j:()=>r});n(13489);function r(e,t,n){const r=e.current;if(!r)return;const o=window.getComputedStyle(r).getPropertyValue("line-height"),a=parseFloat(o),i=r.offsetHeight;t(Math.ceil(i/a)>n)}},78817:(e,t,n)=>{"use strict";n.d(t,{G1:()=>f,JD:()=>r,M9:()=>c,RO:()=>v,Wp:()=>p,df:()=>g});n(6886);var r,o=n(2784),a=n(74495),i=n(16216),s=n(67446),l=n(87848);!function(e){e[e.XXS=0]="XXS",e[e.XS=1]="XS",e[e.SM=2]="SM",e[e.MD=3]="MD",e[e.LG=4]="LG",e[e.XL=5]="XL"}(r||(r={}));const c={[r.XXS]:400,[r.XS]:540,[r.SM]:860,[r.MD]:1084,[r.LG]:1400,[r.XL]:Number.MAX_SAFE_INTEGER},u=[{minWidth:0,viewPort:r.XXS},{minWidth:400,viewPort:r.XS},{minWidth:540,viewPort:r.SM},{minWidth:860,viewPort:r.MD},{minWidth:1084,viewPort:r.LG},{minWidth:1400,viewPort:r.XL}],d=c[r.LG],h=()=>document.documentElement.clientWidth||document.body.clientWidth;var m;!function(e){e[e.None=0]="None",e[e.Desktop=1]="Desktop",e[e.MobilePortrait=2]="MobilePortrait",e[e.MobileLandscape=3]="MobileLandscape"}(m||(m={}));const p=e=>{const[t,n]=(0,o.useState)(m.None);switch((0,o.useEffect)((()=>{const e=e=>{let t;t=e?window.innerHeight<=c[r.XS]?m.MobileLandscape:m.Desktop:window.innerWidth<=c[r.XS]?m.MobilePortrait:m.Desktop,n(t||m.None)},t=window.matchMedia("(orientation: landscape)"),o=t=>{e(t.matches)},a=()=>{e(t.matches)};return window.addEventListener("resize",a),t.addEventListener("change",o),e(t.matches),()=>{t.removeEventListener("change",o),window.removeEventListener("resize",a)}}),[e.desktopComponent,e.mobileLandscapeComponent,e.mobilePortraitComponent]),t){case m.Desktop:return e.desktopComponent;case m.MobilePortrait:return e.mobilePortraitComponent;case m.MobileLandscape:return e.mobileLandscapeComponent;default:return null}},g=()=>{const e=(()=>{const e=(0,a.useSelector)(i.ZU_),t=(0,a.useSelector)(i.Xnf).userAgent,n=(0,o.useMemo)((()=>new s.LK(t)),[t]);return e?t?n.isMobile?c[r.XS]:n.isTablet?c[r.MD]:d:d:h()})(),[t,n]=(0,o.useState)(e);return((e,t)=>{const n=(0,a.useSelector)(i.ZU_);(0,o.useEffect)((()=>{if(!n)return e()}),[...t,n])})((()=>{const e=(0,l.D)((()=>{n(h())}),150);return n(h()),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),t},f=()=>{const e=g();let t=r.XL;for(const n of u){if(!(e>=n.minWidth))break;t=n.viewPort}return t},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0px";const[n,r]=(0,o.useState)(null);return(0,o.useEffect)((()=>{const o=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting!==n&&r(t.isIntersecting)}),{rootMargin:t});e.current&&o.observe(e.current);const a=e.current;return()=>{o.unobserve(a)}}),[e,t]),n}},61975:(e,t,n)=>{"use strict";n.d(t,{Db:()=>i,bZ:()=>_,pF:()=>s,vz:()=>Pe,FX:()=>kt,cj:()=>lt,sg:()=>dt,W2:()=>pt,xe:()=>E.xe,G1:()=>ue,oc:()=>C,zy:()=>b.zy,SV:()=>E.SV,mf:()=>S.mf,WA:()=>S.WA,bf:()=>ft,dL:()=>R,Ux:()=>N,Lx:()=>b.Lx,Jr:()=>S.Jr,E0:()=>b.E0,JE:()=>b.JE,hU:()=>de.h,Ee:()=>Ie,l$:()=>oe,h$:()=>U,Dp:()=>q,F1:()=>z,Fd:()=>fe,h2:()=>$.h,mo:()=>Z,u_:()=>Ct,Lk:()=>J,EM:()=>re,lg:()=>se,ef:()=>Ge,au:()=>ze,pJ:()=>We,GP:()=>Ke.G,Gr:()=>D,Ck:()=>Se,Wv:()=>$e.W,J1:()=>Ye,X2:()=>Tt,RV:()=>Je.RV,pQ:()=>rt,TT:()=>tt,oo:()=>Qe,yx:()=>Le,$j:()=>De,JD:()=>b.JD,dj:()=>At.d,Ds:()=>b.Ds,jG:()=>b.jG,fz:()=>b.fz,Fo:()=>b.Fo,ut:()=>b.ut,Iw:()=>b.Iw,al:()=>b.al,Np:()=>b.Np,hx:()=>X.hx,cx:()=>X.cx,Ed:()=>X.Ed,Ie:()=>It.Ie,Nl:()=>b.Nl,W0:()=>b.W0,Wp:()=>b.Wp,EX:()=>b.G1,df:()=>b.df,RO:()=>b.RO,KG:()=>b.KG,Hr:()=>b.Hr,v0:()=>b.v0,yY:()=>x.yY,M9:()=>b.M9,Nj:()=>b.Nj,p$:()=>b.p$,LB:()=>X.LB});n(6886);var r=n(2784),o=n(16216),a=n(40959);const i=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(!1),i=(0,o.$Ft)();(0,r.useEffect)((()=>{const e=e=>{if("https://www.microsoft.com"===e.origin&&e.data.id&&"AdsOptOutSyncSuccess"===e.data.id){const t=i.get(o.J6I),n=e.data.adsOptOut;t===n||"0"!==n&&"1"!==n||i.set(o.J6I,n,{sameSite:"lax",path:"/",secure:!0,domain:".xbox.com",essential:!0})}};return window.addEventListener("message",e),n(!0),()=>window.removeEventListener("message",e)}),[i]);const s=(0,r.useCallback)((()=>{var t;(null===(t=e.current)||void 0===t?void 0:t.contentWindow)&&e.current.contentWindow.postMessage({id:"AdsOptOutSyncStart"},"https://www.microsoft.com")}),[e]);return t?r.createElement("iframe",{ref:e,onLoad:s,key:"adsOptOut-sync-iframe",name:"adsOptOut-sync-iframe",referrerPolicy:"strict-origin",sandbox:"allow-scripts allow-same-origin",src:"https://www.microsoft.com/store/XboxComMsCom3PAdsOptOutCookieSync.html",width:"0",height:"0",className:a.O}):null};var s,l=n(814),c=n.n(l),u=(n(64925),n(54819),n(87342)),d=n(12524),h=n.n(d),m=n(22736),p=n(70561),g=n(24155);!function(e){e[e.Information=0]="Information",e[e.Warning=1]="Warning",e[e.Error=2]="Error"}(s||(s={}));const f={[s.Warning]:g.E0.Warning,[s.Error]:g.E0.Warning},v=e=>{const t=e.link||"#",n=e.link?void 0:e.onClick;return r.createElement(m.Z.Link,{key:e.text,href:t,onClick:n,className:(0,g.W0)("margin","left",3)},e.text)},_=e=>{const{text:t,actions:n,closeAction:o,level:a=s.Information,contentTelemetry:i={}}=e,l=f[a],d=!!l&&(0,g.ut)(g.JE.Prepend,l),_=(0,u._d)(i,{contentName:"Alert",templateName:"AlertComponent"}),y=(e=>{switch(e){case s.Warning:return"warning";case s.Error:return"danger";default:return"info"}})(a);return r.createElement(m.Z,c()({className:h()([d,{"alert-dismissible":o}]),variant:y},(0,u.iZ)(_)),r.createElement("div",{className:"alert-content"},t,n&&n.map(v)),o&&(b=o,r.createElement(p.Z,{className:"close",bsPrefix:"close-btn","aria-label":b.text,"data-dismiss":"alert",onClick:b.onClick})));var b};var y=n(40380),b=n(91632);const C=function(e){const[t,n]=(0,r.useState)(!1);return r.createElement("div",{onKeyDown:e=>{(0,o.Ypc)(e.key,"escape")&&t&&(n(!1),e.stopPropagation(),e.preventDefault())}},r.createElement(b.Lx,null),r.createElement(y.c,c()(c()({},e),{},{isOpen:t,setIsOpen:n})))};n(35653);var E=n(54433),S=n(7158),T=n(98900),A=n(8520),w=n(82008),k=n(16763),I=n(61030),P=n(78489);const R=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:a,linkIconClassName:i,linkIconSize:s,linkText:l,linkTextClassName:d,telemetryProps:m}=e,p=(0,u.iZ)((0,u._d)({behavior:u.cg.NAVIGATIONFORWARD,contentName:l,id:"ExternalLink"},m)),[g,f]=(0,I.QF)("buttonWithStateAccessibilityTemplate","openInNewTabLinkLabel"),v=(0,o.WUZ)(g,t||l,f);return r.createElement(T.k,c()({"aria-label":v,as:"a",buttonType:A.L$.Tertiary,className:h()(P.DK,a),href:n,rel:"noopener noreferrer",target:"_blank"},p),r.createElement("span",{className:d},l),r.createElement(w.JO,{icon:k.Z,iconSize:null!==s&&void 0!==s?s:w.Jh.XXSmall,className:h()(P.IA,i)}))};n(77950),n(85940);var x=n(68493);const N=e=>{let{to:t,status:n=302}=e;(0,x.WV)();return window.location.replace(t),null};var O=n(24923),L=n.n(O);const M=["title","titleId"],D=e=>{let{title:t,titleId:n}=e,o=L()(e,M);return r.createElement("svg",c()({width:"64px",height:"64px",viewBox:"0 0 64 64",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-labelledby":n},o),t?r.createElement("title",{id:n},t):null,r.createElement("g",{id:"PC",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 39.88 27.76 24.13 18.67 8.39 9.59 24.13 0.5 39.88 9.59 55.61 18.67"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"39.88 27.76 39.88 63.5 24.13 54.41 8.39 45.32 8.39 9.59 24.13 18.67 39.88 27.76"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"55.61 18.67 55.61 54.41 42.5 61.98 39.88 63.5 39.88 27.76 55.61 18.67"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 48.36 53.33 52.73 44.02 58.1 42.16 59.18 42.16 54.82 53.33 48.36"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 41.5 53.33 45.87 44.02 51.24 42.16 52.32 42.16 47.96 53.33 41.5"}),r.createElement("polygon",{stroke:"#FFFFFF",strokeLinejoin:"round",fill:"none",points:"53.33 23.16 53.33 27.52 44.02 32.89 42.16 33.97 42.16 29.61 53.33 23.16"}),r.createElement("ellipse",{fill:"#FFFFFF",cx:"48.18",cy:"38.08",rx:"2.59",ry:"1.49",transform:"translate(-8.89 60.77) rotate(-60)"})))},U=e=>{const{href:t,linkClassName:n,linkText:o,linkTextClassName:a}=e;return r.createElement(T.k,{"aria-label":o,as:"a",buttonType:A.L$.Tertiary,className:h()(P.DK,n),href:t},r.createElement("span",{className:a},o))};n(94908),n(14121),n(60523);var F=n(4517),B=n(74495),H=n(51295);const q=e=>{const t=(0,B.useSelector)(o.Yzi),n=new URL(e.to,o.V9f),a=(0,o.Sl8)(n.pathname,t),i=(0,o.Sph)(a);if(!(0,o.rpX)(n.host))return r.createElement(N,c()({},e));if(!i)return r.createElement(N,c()({},e));const s=`${a}${n.search}${n.hash}`;return e.status?r.createElement(H.B,{status:e.status},r.createElement(F.l_,{to:s})):r.createElement(F.l_,{to:s})};var G=n(18671);const z=()=>r.createElement(G.q,null,r.createElement("body",{className:"legacyBackground"}));var X=n(59158),$=n(98973);n(71372);const V=5e3,W=()=>r.createElement($.h,null),K=e=>r.createElement(S.mf,{error:e}),j=e=>{const{timeoutInMilliseconds:t=V,renderLoading:n=W,renderError:o=K}=e,[a,i]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>i(!0)),t);return()=>clearTimeout(e)}),[]),a?o(new Error(`Loading Page timed out. Timeout: ${t} ms`)):n()},Z=e=>{const t=(0,F.k6)(),n=(0,F.TH)(),a=(0,B.useDispatch)(),i=(0,B.useSelector)(o.ZU_),s=(0,r.useRef)();(0,r.useEffect)((()=>{s.current===n||i||a(o.ej0.navigateToPath(n,s.current)),s.current=n}),[n,a,i]);const l=(0,r.useRef)(),c=(0,r.useRef)({direction:o.fEB.New});let u,d;if(n===l.current)d=c.current;else{if(l.current)switch(t.action){case"PUSH":u=o.fEB.Forward;break;case"POP":u=o.fEB.Back;break;case"REPLACE":u=o.fEB.Replace}else u=o.fEB.New;d={location:l.current,direction:u},l.current=n,c.current=d}return r.createElement(o.Gti.Provider,{value:d},e.children)};n(36728);var Y=n(11372);const Q=["className","children","xs","sm","md","lg","as"],J=e=>{const{className:t,children:n,xs:o,sm:a,md:i,lg:s,as:l="div"}=e,u=L()(e,Q),d=[];return o&&d.push(Y[`col${o}`]),a&&d.push(Y[`colSm${a}`]),i&&d.push(Y[`colMd${i}`]),s&&d.push(Y[`colLg${s}`]),d.length<1&&d.push(Y.col),r.createElement(l,c()({className:h()(d,t)},u),n)};var ee=n(4945);const te=["className","children","as"],ne=["className","children","as"],re=e=>{const{className:t,children:n,as:o="div"}=e,a=L()(e,te);return r.createElement(o,c()({className:h()(ee.nC,t)},a),n)},oe=r.forwardRef(((e,t)=>{const{className:n,children:o,as:a="div"}=e,i=L()(e,ne);return r.createElement(a,c()({className:h()(ee.Oj,ee.nC,ee.oH,n),ref:t},i),o)}));var ae=n(5672);const ie=["className","children","as"],se=e=>{const{className:t,children:n,as:o="div"}=e,a=L()(e,ie);return r.createElement(o,c()({className:h()(ae.O,t)},a),n)};var le=n(81236),ce=n(20855);const ue=e=>r.createElement("ul",{className:"accordion"},e.children);ue.Collapse=e=>{const[t,n]=(0,r.useState)(!e.defaultCollapsed),o=e.customClassName||h()("accordion-header",(0,le.W)("margin","left",2)),a=e.eventKey?`accordion-${e.eventKey}`:void 0;return r.createElement("li",null,r.createElement("h2",{className:o},r.createElement("button",{"aria-controls":a,"aria-expanded":t,className:h()(["btn","btn-collapse",ce.KF]),onClick:()=>{n(!t)},tabIndex:e.tabIndex},e.title)),r.createElement("div",{className:h()([ce.zY,t?ce.zh:ce.Il])},r.createElement("div",{id:a,className:h()(["accordion-body",(0,le.W)("padding","left",0)])},e.children)))};n(99139);var de=n(2565),he=n(94622),me=n(72095),pe=n(89872),ge=n(13750);const fe=e=>{let{buttonTitle:t,children:n,className:a,selectedChoicesCount:i}=e;const[s,l]=(0,r.useState)(!0),c={color:(0,B.useSelector)(o.gzb)===o.Q2A.Dark?"White":"Black",fontSize:"1rem"},u=r.createElement(he.Z,{"aria-hidden":!0,style:c}),d=r.createElement(me.Z,{"aria-hidden":!0,style:c}),m=s?d:u;return r.createElement("div",{className:h()(ge.nC,a)},r.createElement("button",{className:ge.jW,onClick:()=>l(!s)},r.createElement("span",{className:h()(pe.gC,ge.WB)},t),r.createElement("div",{className:ge.CM},!!i&&r.createElement("span",{className:ge.g3},i),m)),!s&&n)};var ve=n(84272),_e=n(71275),ye=n(58264),be=n(12594),Ce=n(95235);const Ee={[b.JD.XXS]:1,[b.JD.XS]:2,[b.JD.SM]:2,[b.JD.MD]:3,[b.JD.LG]:3,[b.JD.XL]:4},Se=e=>{const{children:t}=e,n=[],o=(()=>{const e=(0,b.G1)();return Ee[e]})()||1,a=h()("d-flex",(0,b.W0)("padding","leftRight",1,"extraSmall"),(0,b.W0)("padding","leftRight",2,"medium"));for(let i=0;i<t.length;i+=o){const e=t.slice(i,i+o);n.push(r.createElement(ve.Z.Item,{key:`${o}-${i}`},r.createElement(_e.Z,null,r.createElement(ye.Z,{className:h()("d-flex",(0,b.W0)("margin","leftRight",0))},e.map(((e,t)=>r.createElement(be.Z,{key:`carousel-${i}-card-${t}`,md:"4",xl:"3",className:a},e)))))))}return r.createElement(ve.Z,{className:h()(["carousel-product-placement",Ce.Hz],(0,b.W0)("margin","topBottom",3),(0,b.W0)("margin","topBottom",4,"medium")),key:o,wrap:!1,indicators:!1,interval:null},n)};var Te=n(3299),Ae=n(8249),we=n(76200);const ke=["width","height","className","src","background","format","resizeMode","quality","padding","customBackupSrc","hideShadow","alt"],Ie=e=>{const{width:t,height:n,className:o,src:a,background:i,format:s,resizeMode:l,quality:u,padding:d,customBackupSrc:m,hideShadow:p,alt:g}=e,f=L()(e,ke);let v=a&&(0,Ae.I)(a,t,n,s,u,i,l,d)||m;v&&0===v.indexOf("http://")&&(v=v.replace("http://","https://"));const _=(0,I.iV)("noCaptionAvailableAltText");return v?r.createElement(Te.Z,c()({src:v,className:o,alt:g||_},f)):((e,t,n,o)=>{const a={width:e,height:t};return r.createElement("div",{className:h()(n,we.ro,{"depth-4":!o}),style:a},r.createElement("div",{className:h()("d-flex","justify-content-center","align-items-center",(0,b.Nl)("width",100),(0,b.Nl)("height",100))},r.createElement("p",{className:h()([(0,b.ut)(b.JE.Prepend,b.E0.XboxLogo),"text-center",(0,b.W0)("margin","bottom",0),we.xw])})))})(t,n,o,p)};var Pe,Re=n(82717),xe=n(78817);!function(e){e.ButtonBorderLightGreen="border-light-green",e.ButtonBorderGreen="border-green",e.ButtonTextLightGreen="text-light-green",e.ButtonBackgroundLightGreen="bg-light-green",e.ProductCardBorder="border-black",e.TextGray="text-gray-900"}(Pe||(Pe={}));var Ne=n(38205),Oe=n(8564);const Le=e=>{const{text:t,className:n}=e,[a,i]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),{moreText:c,lessText:u,moreTextAccessibilityLabel:d,lessTextAccessibilityLabel:m}=(0,I.y_)("moreText","lessText","moreTextAccessibilityLabel","lessTextAccessibilityLabel"),g=(0,r.useRef)(null),f=(0,r.useRef)(null),v=(0,xe.df)();(0,r.useEffect)((()=>{(0,Ne.j)(g,l,5)}),[v]);const _=(0,B.useSelector)(o.gzb)===o.Q2A.Dark,y=a?Re.E0.RemoveFrom:Re.E0.CirclePlus,b=a?Oe.Dk:Oe.d9;return r.createElement(r.Fragment,null,r.createElement("div",{className:h()(Oe.lr,n,Oe.nC,b)},r.createElement("p",{ref:f,className:h()(Oe.fL,b)},t),r.createElement("p",{ref:g,className:Oe.Y9},t)),s&&r.createElement(p.Z,{"aria-label":a?m:d,variant:"link",className:h()([(0,Re.ut)(Re.JE.Prepend,y),Oe.p4,{[Pe.ButtonTextLightGreen]:_}]),onClick:()=>i(!a)},a?u:c))},Me=e=>{const t=`spinner-dot-${e}`;return r.createElement("span",{className:h()(["spinner-dot",t]),key:t,role:"presentation"})},De=e=>{const{size:t}=e;return r.createElement("div",{className:h()(["spinner",{"spinner-lg":"lg"===t}]),role:"alert",tabIndex:-1,"aria-live":"assertive"},(e=>{const t=[];for(let n=0;n<e;n++)t.push(Me(n));return t})(7))};var Ue=n(29934);let Fe,Be=0;const He=e=>{e===Be?qe():console.warn("Attempt to hide a different banner blocked")},qe=()=>{Fe((()=>null)),Be=0},Ge=()=>{const[e,t]=(0,r.useState)((()=>()=>null));Fe=e=>t((()=>e));const n=e();return r.createElement("div",{id:"pageBannerContainer",className:h()(Ue.Cg,{[Ue.al]:!n},{[Ue.oP]:!!n})},n&&r.createElement("div",c()({},(0,u.iZ)({contentName:"Page Banner Container",templateName:"PageBannerComponent",contentType:"Banner"})),n))},ze={displayBanner:e=>{Be&&console.warn("Double rendering banner. Another banner is already visible."),Fe(e);const t=(0,o.LUC)(1e3);return Be=t,()=>He(t)},hideAllBanners:qe};var Xe=n(87995),$e=n(2197);const Ve=e=>(0,Xe.kV)(e&&(0,Xe.NU)(e)),We=e=>{const t=(0,F.TH)(),n=(0,o._RZ)(t),a=(0,B.useSelector)(o._B2),i=(0,o.ByS)(a),s=(0,B.useSelector)((0,r.useCallback)((e=>{let t=(0,o.OLU)(e,n);return t===o.tVd&&"/"===n&&(t=(0,o.OLU)(e,i)),t}),[n,i]));let l;return s.hasContent?(s.isLoading,l=e.children||(()=>null)):l=s.isLoading?()=>(e=>e.renderLoadingOverride?e.renderLoadingOverride():r.createElement($.h,null))(e):s.error?()=>((e,t)=>t.renderErrorOverride?t.renderErrorOverride(e):r.createElement(S.mf,{error:e,statusCode:Ve(e)}))(s.error,e):()=>r.createElement(j,null),r.createElement($e.W,{onNewNavigationOnly:!0,ignoreHash:!0},l())};var Ke=n(50421),je=n(23667),Ze=n(72256);const Ye=e=>{let{retryAction:t}=e;const{genericErrorMessage:n,tryAgainText:o}=(0,I.y_)("genericErrorMessage","tryAgainText"),a=(0,F.k6)(),i=a.createHref(a.location);return(0,u.Li)(u.uZ.Retry,je.G.Retry,{data:{pageHref:i}}),r.createElement(_e.Z,null,r.createElement(ye.Z,{className:h()(Ze.t,"justify-content-center","align-items-center")},r.createElement(be.Z,{className:"col-12"},r.createElement("div",{className:h()(["text-center",(0,le.W)("margin","topBottom",5)])},r.createElement("h3",null,n),r.createElement(de.h,c()({"aria-label":o,className:h()("rounded-circle",(0,le.W)("margin","top",4)),iconClassName:h()(Ze.O,"align-middle"),iconName:Re.E0.Refresh,onClick:t},(0,u.iZ)({id:"RetryButton",contentName:o})))))))};var Qe,Je=n(82498);n(634),n(88233);!function(e){e.None="none",e.Follow="follow",e.Index="index",e.NoFollow="nofollow",e.NoIndex="noindex",e.NoImageIndex="noimageindex",e.NoArchive="noarchive",e.NoCache="nocache",e.NoSnippet="nosnippet"}(Qe||(Qe={}));const et=e=>Array.isArray(e)?e.join(","):e,tt=e=>{let{title:t,keywords:n,description:a,robotsMetaTags:i,canonicalUrl:s}=e;const[l,c]=(0,I.QF)("pageTitleTemplate","defaultPageTitle"),u=(0,o.WUZ)(l,"%s"),d=(e=>{const t=(0,F.TH)(),n=(0,B.useSelector)(o.Yzi);return e||new URL(`${n}${t.pathname}`.toLowerCase(),o.V9f).toString()})(s);return r.createElement(G.q,{titleTemplate:u,defaultTitle:c,title:t||void 0},a&&r.createElement("meta",{name:"description",content:a}),n&&r.createElement("meta",{name:"keywords",content:n}),i&&r.createElement("meta",{name:"robots",content:et(i)}),r.createElement("link",{rel:"canonical",href:d}))},nt=()=>{const e=(0,F.TH)(),t=(0,o.L_O)(e);return t?r.createElement(tt,{title:t.title,description:t.description,robotsMetaTags:t.robots,keywords:t.keywords,canonicalUrl:t.canonicalUrl}):r.createElement(tt,{title:void 0})},rt=()=>{const e=(0,o.Sph)();return e?e.seoComponent?r.createElement(F.AW,c()({},e),r.createElement(e.seoComponent,null)):null===e.seoComponent?null:r.createElement(nt,null):r.createElement(nt,null)};var ot=n(21883),at=n(43122),it=n(83621),st=n(82676);const lt=e=>{const{initialValue:t,header:n,lceTracker:o,description:a,tellMeMoreLinkUrl:i,tellMeMoreLinkText:s,telemetryProps:l,onValueChanged:d}=e,[m,p]=(0,r.useState)(!!t),g=(0,I.UD)("booleanSettingTurnOffAccessibilityLabelFormat",[n]),f=(0,I.UD)("booleanSettingTurnOnAccessibilityLabelFormat",[n]),v=(0,I.UD)("changeSettingErrorMessage");(0,r.useEffect)((()=>{(0,ot.isContent)(o)&&p(t)}),[o,t]);const _=(0,u.iZ)((0,u._d)({behavior:u.cg.OTHER,contentName:n,id:"BooleanSetting"},l));return r.createElement("div",{className:st.pd},r.createElement("div",{className:st.F2},r.createElement("div",{className:st.Gt},r.createElement("h3",{className:pe._S},n),r.createElement(at.U,c()({"aria-label":m?g:f,buttonType:A.L$.Tertiary,className:h()([st.pr],(0,ot.isFetching)(o)?st.mC:""),onClick:()=>{if(!(0,ot.isFetching)(o)){d(!m)}},value:m},_))),(0,ot.isError)(o)&&r.createElement("div",{className:h()(st.ik,pe.AW)},r.createElement(it.Z,{"aria-hidden":!0}),r.createElement("span",null,v))),r.createElement("span",{className:h()(st.x2,pe.q2)},a),i&&s&&r.createElement("div",null,r.createElement(R,{href:i,linkText:s,linkTextClassName:pe.AW,telemetryProps:l})))};n(21279);var ct=n(43143);const ut=["className","children","xs","sm","md","lg","xl","as"],dt=e=>{const{className:t,children:n,xs:o,sm:a,md:i,lg:s,xl:l,as:u="div"}=e,d=L()(e,ut),m=[];return o&&m.push(ct[`col${o}`]),a&&m.push(ct[`colSm${a}`]),i&&m.push(ct[`colMd${i}`]),s&&m.push(ct[`colLg${s}`]),l&&m.push(ct[`colXl${l}`]),m.length<1&&m.push(ct.col),r.createElement(u,c()({className:h()(m,t)},d),n)};var ht=n(78070);const mt=["className","children","as"],pt=e=>{const{className:t,children:n,as:o="div"}=e,a=L()(e,mt);return r.createElement(o,c()({className:h()(ht.n,t)},a),n)};var gt=n(30032);const ft=e=>{const{children:t,contentTelemetry:n,displayedChildrenCountWhenCollapsed:o,footer:a,innerContainer:i="div"}=e,{showMore:s,showLess:l}=(0,I.y_)("showMore","showLess"),[d,h]=(0,r.useState)(!0),m=t.slice(0,o),p=t.slice(o),g=d?s:l,f=(0,u._d)({behavior:d?u.cg.EXPAND:u.cg.REDUCE,contentName:g,contentType:u.zc.Button,id:"expandingListButton"},n);return r.createElement("div",null,r.createElement("div",{className:gt.Nl},r.createElement(i,null,m,r.createElement("div",{className:gt.jK}),!d&&p)),a&&r.createElement("div",{className:gt.Mv},a),r.Children.count(p)>0&&r.createElement(T.k,c()({as:"button",className:gt.o0,buttonSize:A.qE.Medium,buttonType:A.L$.Primary,overlayMode:A.gT.Solid,onClick:()=>{h(!d)}},(0,u.iZ)(f)),g))};var vt=n(61248),_t=n(7722),yt=n(73471),bt=(n(10264),n(97706));const Ct=e=>{let{ariaLabel:t,ariaLabelledBy:n,children:o,className:a,closeable:i,initialFocusRef:s,fullscreenOnMobile:l,onCloseBtnClick:c,onHide:u,overlayClassName:d,closeContainerClassName:m,closeButtonClassName:p,show:g}=e;const{closeButtonText:f}=(0,I.y_)("closeButtonText");return r.createElement(yt.t9,{className:h()(bt.DY,bt.Xu,d),isOpen:g,initialFocusRef:s,onDismiss:u},r.createElement(yt.cZ,{"aria-label":t,"aria-labelledby":n,className:h()(bt.K9,l?bt.VE:void 0)},r.createElement("div",{className:h()(bt.Tr,l?bt.vq:void 0,a)},o,i&&r.createElement("div",{className:h()(bt.tK,m)},r.createElement(vt.$,{as:"button","aria-label":f,className:p,icon:_t.Z,buttonType:A.L$.Tertiary,onClick:null!==c&&void 0!==c?c:u,title:f})))))};Ct.Header=e=>{let{className:t,children:n}=e;return r.createElement("div",{className:h()(t,bt.X3)},n)},Ct.Body=e=>{let{className:t,children:n}=e;return r.createElement("div",{className:h()(t,bt.o_)},n)};var Et=n(64514);const St=["className","children","as"],Tt=e=>{const{className:t,children:n,as:o="div"}=e,a=L()(e,St);return r.createElement(o,c()({className:h()(Et.O,t)},a),n)};var At=n(32542),wt=n(64807);const kt=e=>{const{innerTextAriaLabelOverride:t,href:n,linkClassName:o,linkIconClassName:a,linkIconSize:i,linkText:s,linkTextClassName:l,telemetryProps:d}=e,m=(0,u.iZ)((0,u._d)({behavior:u.cg.NAVIGATIONFORWARD,contentName:s,id:"ExternalLink"},d)),p=t||s;return r.createElement(T.k,c()({"aria-label":p,as:"a",buttonType:A.L$.Tertiary,className:h()(P.DK,o),href:n,rel:"noopener noreferrer"},m),r.createElement("span",{className:l},s),r.createElement(w.JO,{icon:wt.Z,iconSize:null!==i&&void 0!==i?i:w.Jh.XXSmall,className:h()(P.IA,a)}))};var It=n(40028)},44345:(e,t,n)=>{"use strict";n.d(t,{X:()=>r});const r={gamepassPC:"e5ada363-6ac5-4c74-bc19-d8ed821aa5fd"}},48074:(e,t,n)=>{"use strict";n.d(t,{lO:()=>r,iB:()=>a,H6:()=>i,Q2:()=>s,Rm:()=>l,Kp:()=>o.K});var r;n(44345);!function(e){e.Unknown="Unknown",e.AppLoad="AppLoad",e.InteractiveSignIn="InteractiveSignIn",e.DeviceCodeSignIn="DeviceCodeSignIn",e.SilentSignIn="SilentSignIn",e.SignInUnavailable="SignInUnavailable",e.ConsentValuesUpdated="ConsentValuesUpdated"}(r||(r={}));var o=n(40762);const a={telemetry:"telemetry",authentication:"authentication",cookies:"cookies",session:"session",partners:"partners"};var i,s;!function(e){e[e.Undefined=0]="Undefined",e[e.Unknown=1]="Unknown",e[e.Other=2]="Other",e[e.Success=3]="Success",e[e.CallerError=4]="CallerError",e[e.TransportError=5]="TransportError",e[e.ServiceError=6]="ServiceError"}(i||(i={})),function(e){e.Light="Light",e.Dark="Dark",e.DarkHeader="DarkHeader"}(s||(s={}));const l="x-theme"},40762:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r=["AR","HE"]},49090:(e,t,n)=>{"use strict";n.d(t,{Y:()=>r});const r=(e,t)=>(null===e||void 0===e?void 0:e.toLowerCase())===(null===t||void 0===t?void 0:t.toLowerCase())},98978:(e,t,n)=>{"use strict";n.d(t,{J6:()=>l,UV:()=>c,Gt:()=>Se,vX:()=>J,zI:()=>ee,we:()=>u,jm:()=>d,fE:()=>Ee,_M:()=>Fe,vP:()=>re,lT:()=>ne,Ui:()=>oe,V9:()=>te,Yp:()=>r.Y,Lx:()=>z,yu:()=>O,MR:()=>Xe,dF:()=>Ce,kT:()=>p,WU:()=>w,my:()=>U,xG:()=>_,vv:()=>k,oB:()=>j,$E:()=>Z,Nn:()=>ze.N,ew:()=>Le,Sl:()=>x,Yg:()=>q,wH:()=>xe,td:()=>qe,lX:()=>Ge,NT:()=>Q.N,hA:()=>H,o8:()=>B.o,by:()=>be,rp:()=>N,xU:()=>b.x,BH:()=>V,r$:()=>de,lF:()=>pe,qG:()=>i,Oj:()=>D,uQ:()=>A,VJ:()=>I,r5:()=>X,kg:()=>G,Av:()=>C.A,nv:()=>Ne,Nx:()=>T,yy:()=>R,LU:()=>Be.L,Q2:()=>Ue,Nq:()=>Pe,NR:()=>M,as:()=>P,d8:()=>m,_O:()=>K,up:()=>me,CW:()=>ge,$3:()=>fe,UD:()=>ue,$w:()=>he,Iz:()=>s,_R:()=>Me,vz:()=>Te,aM:()=>Y,Gq:()=>He,By:()=>L,JD:()=>Re,Fb:()=>De,No:()=>h});var r=n(49090),o=n(2784),a=n(44345);const i=e=>{const t=de(e);return e=>t(e,{sandboxId:void 0,coBrandEnable:!0,coBrandId:a.X.gamepassPC})},s=()=>{const e=he();return(0,o.useCallback)((t=>e(t,{sandboxId:void 0,coBrandEnable:!0,coBrandId:a.X.gamepassPC})),[e])};n(71372),n(44112),n(48166),n(52856),n(26464),n(45162),n(57610);const l="3PAdsOptOut",c="cartMuid",u="MSCC",d="MUID",h=".xbox.com";function m(e){let{name:t,value:n,expires:r,path:o,domain:a,secure:i,sameSite:s,sessionCookie:l}=e;const c=r instanceof Date?r:(e=>{const t=new Date;return t.setDate(t.getDay()+(e||45)),t})(45),u=null!==o&&void 0!==o?o:"/",d=null===i||void 0===i||i,h=null!==a&&void 0!==a?a:window.location.hostname;let m=`${t}=${n}`;!0!==l&&(m+=`; expires=${c.toUTCString()}`),m+=`; path=${u}`,m+=`; domain=${h}`,d&&(m+="; secure"),s&&(m+=`; samesite=${s}`),document.cookie=m}function p(e,t,n){(function(e){return document.cookie.split("; ").some((t=>t.startsWith(`${e}=`)))})(e)&&(document.cookie=`${e}=${t?`;path=${t}`:""}${n?`;domain=${n}`:""};expires=Thu, 01 Jan 1970 00:00:00 GMT`)}n(61657),n(77950),n(85940);const g=JSON.parse('{"usd~en-us~us":["$",",",".","2",""],"eur~de-de~de":["",".",",","2"," \u20ac"],"gbp~en-gb~gb":["\xa3",",",".","2",""],"brl~pt-br~br":["R$",".",",","2",""],"eur~fr-fr~fr":["","\xa0",",","2"," \u20ac"],"eur~it-it~it":["",".",",","2"," \u20ac"],"mxn~es-mx~mx":["$",",",".","2",""],"jpy~ja~jp":["\xa5",",","","0",""],"rub~ru~ru":["","\xa0",",","2"," \u20bd"],"aud~en-au~au":["$",",",".","2",""],"cad~en-ca~ca":["$",",",".","2",""],"eur~es-es~es":["",".",",","2"," \u20ac"],"cny~zh-hans-cn~cn":["\xa5",",",".","2",""],"eur~nl-nl~nl":["\u20ac ",".",",","2",""],"pln~pl~pl":["","\xa0",",","2"," z\u0142"],"chf~de-ch~ch":["CHF ","\'",".","2",""],"try~tr~tr":["",".",",","2"," \u20ba"],"ars~es-ar~ar":["$ ",".",",","2",""],"cad~en-us~ca":["$",",",".","2",""],"cny~zh-cn~cn":["\xa5",",",".","2",""],"vnd~vi~vn":["",".",",","2"," \u20ab"],"czk~cs~cz":["","\xa0",",","2"," K\u010d"],"inr~en-in~in":["\u20b9 ",",",".","2",""],"cad~fr-ca~ca":["","\xa0",",","2"," $"],"sek~sv-se~se":["",".",",","2"," kr"],"dkk~da~dk":["",".",",","2"," kr."],"eur~pt-pt~pt":["","\xa0",",","2"," \u20ac"],"gbp~en-us~gb":["\xa3",",",".","2",""],"eur~de-at~at":["\u20ac ",".",",","2",""],"krw~ko~kr":["\u20a9",",","","0",""],"eur~nl-be~be":["\u20ac ",".",",","2",""],"nok~nb~no":["kr ","\xa0",",","2",""],"mxn~es-es~mx":["$",",",".","2",""],"huf~hu~hu":["","\xa0",",","2"," HUF"],"aud~en-us~au":["$",",",".","2",""],"eur~fr-be~be":["",".",",","2"," \u20ac"],"eur~fi~fi":["","\xa0",",","2"," \u20ac"],"cop~es-co~co":["$",".","","0",""],"clp~es-cl~cl":["$",".","","0",""],"nzd~en-nz~nz":["$",",",".","2",""],"chf~fr-ch~ch":["CHF ","\xa0",".","2",""],"twd~zh-hant-tw~tw":["NT$",",",".","2",""],"ars~es-es~ar":["$ ",".",",","2",""],"usd~en-gb~us":["$",",",".","2",""],"pen~es-pe~pe":["S/.",",",".","2",""],"idr~id~id":["Rp",".","","0",""],"eur~en-ie~ie":["\u20ac",",",".","2",""],"eur~el~gr":["",".",",","2"," \u20ac"],"eur~de-de~at":["\u20ac ",".",",","2",""],"inr~en-us~in":["\u20b9 ",",",".","2",""],"idr~en-us~id":["Rp",".","","0",""],"eur~sk~sk":["","\xa0",",","2"," \u20ac"],"zar~en-za~za":["R","\xa0",",","2",""],"vnd~en-us~vn":["\u20ab",",",".","2",""],"php~en-ph~ph":["\u20b1",",",".","2",""],"ils~he~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"sar~ar-sa~sa":["\u202a\u0631.\u0633.\u200f\u200e",",",".","2","\u202c"],"ron~ro-ro~ro":["",".",",","2"," RON"],"usd~en-ca~us":["$",",",".","2",""],"uah~ru~ua":["","\xa0",",","2"," \u20b4"],"hkd~zh-hant-hk~hk":["HK$",",",".","2",""],"usd~es-ec~ec":["$",".",",","2",""],"thb~th~th":["\u0e3f",",",".","2",""],"sgd~en-sg~sg":["SG$",",",".","2",""],"mxn~en-us~mx":["$",",",".","2",""],"uah~es-es~ua":["","\xa0",",","2"," \u20b4"],"rub~en-us~ru":["","\xa0",",","2"," \u20bd"],"usd~pt-br~us":["",".",",","2"," $"],"chf~de-de~ch":["CHF ","\'",".","2",""],"usd~en-in~us":["$",",",".","2",""],"crc~es-cr~cr":["\u20a1",".","","0",""],"eur~es-mx~es":["",".",",","2"," \u20ac"],"cny~en-us~cn":["\xa5",",",".","2",""],"hrk~hr-hr~hr":["",".",",","2"," kn"],"usd~ru~us":["",".",",","2"," $"],"cad~fr-fr~ca":["","\xa0",",","2"," $"],"brl~en-us~br":["R$",".",",","2",""],"egp~ar-eg~eg":["\u202a\u062c.\u0645.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~nl":["\u20ac ",".",",","2",""],"eur~en-us~de":["",".",",","2"," \u20ac"],"eur~sl~si":["",".",",","2"," \u20ac"],"eur~de-at~de":["",".",",","2"," \u20ac"],"nzd~en-us~nz":["$",",",".","2",""],"twd~zh-tw~tw":["NT$",",",".","2",""],"usd~zh-cn~us":["",".",",","2"," $"],"aud~en-gb~au":["$",",",".","2",""],"usd~es-us~us":["$",",",".","2",""],"cop~es-es~co":["$",".","","0",""],"myr~en-my~my":["RM",",",".","2",""],"eur~fr-fr~be":["",".",",","2"," \u20ac"],"uah~en-us~ua":["","\xa0",",","2"," \u20b4"],"eur~nl-nl~be":["\u20ac ",".",",","2",""],"idr~en-id~id":["Rp",".","","0",""],"gbp~pl~gb":["\xa3",",",".","2",""],"usd~en-us~ae":["$",",",".","2",""],"usd~es-mx~us":["",".",",","2"," $"],"eur~en-us~gr":["",".",",","2"," \u20ac"],"uah~ko~ua":["","\xa0",",","2"," \u20b4"],"uah~uk~ua":["","\xa0",",","2"," \u20b4"],"usd~ko~us":["",".",",","2"," $"],"bgn~bg~bg":["","\xa0",",","2"," \u043b\u0432."],"zar~en-us~za":["R","\xa0",",","2",""],"inr~en-gb~in":["\u20b9 ",",",".","2",""],"usd~es-ve~ve":["$",",",".","2",""],"ils~en-us~il":["\u20aa",",",".","2",""],"clp~es-es~cl":["$",".","","0",""],"eur~en-my~de":["",".",",","2"," \u20ac"],"nok~nb-no~no":["kr ","\xa0",",","2",""],"ron~en-us~ro":["",".",",","2"," RON"],"usd~vi~us":["",".",",","2"," $"],"usd~de-de~us":["",".",",","2"," $"],"php~en-us~ph":["\u20b1",",",".","2",""],"rsd~sr-latn-rs~rs":["",".","","0"," RSD"],"eur~fi-fi~fi":["","\xa0",",","2"," \u20ac"],"usd~en-au~us":["$",",",".","2",""],"usd~es-es~ve":["$",",",".","2",""],"eur~en-gb~de":["",".",",","2"," \u20ac"],"eur~en-us~fr":["","\xa0",",","2"," \u20ac"],"usd~es-es~us":["",".",",","2"," $"],"eur~et~ee":["","\xa0",",","2"," \u20ac"],"jpy~en-us~jp":["\xa5",",","","0",""],"eur~lt~lt":["","\xa0",",","2"," \u20ac"],"pen~es-es~pe":["S/.",",",".","2",""],"pkr~en-us~pk":["Rs",",","","0",""],"usd~ar-sa~us":["",".",",","2"," $"],"usd~es-gt~gt":["$",",",".","2",""],"jpy~ja-jp~jp":["\xa5",",","","0",""],"sek~en-us~se":["","\xa0",",","2"," kr"],"eur~en-us~it":["",".",",","2"," \u20ac"],"eur~en-us~ie":["\u20ac",",",".","2",""],"usd~ru~by":["$",",",".","2",""],"usd~es-uy~uy":["$",",",".","2",""],"usd~es-es~ec":["$",".",",","2",""],"eur~de-ch~de":["",".",",","2"," \u20ac"],"vnd~pt-br~vn":["\u20ab",",",".","2",""],"chf~en-us~ch":["CHF ",".",",","2",""],"usd~fa~us":["",".",",","2"," $"],"chf~it-ch~ch":["CHF ","\'",".","2",""],"jod~ar-jo~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"usd~es-do~do":["$",",",".","2",""],"uah~ru-ua~ua":["","\xa0",",","2"," \u20b4"],"usd~ar-kw~us":["",".",",","2"," $"],"eur~en-us~be":["",".",",","2"," \u20ac"],"jpy~zh-hans-cn~jp":["\xa5",",","","0",""],"myr~en-us~my":["RM",",",".","2",""],"dkk~da-dk~dk":["",".",",","2"," kr."],"iqd~ar-iq~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"nok~en-us~no":["kr ","\xa0",",","2",""],"usd~ja~us":["",".",",","2"," $"],"eur~en-gb~ie":["\u20ac",",",".","2",""],"gbp~en-in~gb":["\xa3",",",".","2",""],"eur~en-gb~nl":["\u20ac ",".",",","2",""],"dkk~en-us~dk":["",".",",","2"," kr."],"kwd~en-us~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"rsd~en-us~rs":["",".",",","2"," \u0434\u0438\u043d."],"usd~id~us":["",".",",","2"," $"],"dzd~fr-fr~dz":["","\xa0",",","2"," DA"],"eur~en-us~es":["",".",",","2"," \u20ac"],"kzt~ru~kz":["","\xa0",",","2"," \u20b8"],"bdt~en-us~bd":["",",",".","2","\u09f3"],"chf~fr-fr~ch":["CHF ","\xa0",".","2",""],"iqd~en-us~iq":["\u202a\u062f.\u0639.\u200f\u200e",",",".","2","\u202c"],"eur~en-gb~fr":["","\xa0",",","2"," \u20ac"],"bgn~en-us~bg":["","\xa0",",","2"," \u043b\u0432."],"eur~es-co~es":["",".",",","2"," \u20ac"],"pln~en-us~pl":["","\xa0",",","2"," z\u0142"],"usd~en-id~us":["$",",",".","2",""],"ars~es-419~ar":["$ ",".",",","2",""],"huf~it-it~hu":["","\xa0",",","2"," HUF"],"usd~es-sv~sv":["$",",",".","2",""],"mad~fr-fr~ma":["",".",",","2"," DH"],"rub~zh-cn~ru":["","\xa0",",","2"," \u20bd"],"ttd~en-tt~tt":["$",",",".","2",""],"eur~en-us~lt":["","\xa0",",","2"," \u20ac"],"usd~en-ph~us":["$",",",".","2",""],"usd~sv-se~us":["",".",",","2"," $"],"zar~en-gb~za":["R","\xa0",",","2",""],"eur~en-gb~es":["",".",",","2"," \u20ac"],"usd~nl-nl~us":["",".",",","2"," $"],"eur~nl-be~nl":["\u20ac ",".",",","2",""],"hrk~en-us~hr":["",".",",","2"," kn"],"nzd~en-au~nz":["$",",",".","2",""],"usd~es-es~uy":["$",",",".","2",""],"usd~ru-by~by":["$",",",".","2",""],"usd~en-us~ke":["$",",",".","2",""],"usd~es-ec~us":["",".",",","2"," $"],"eur~en-gb~pt":["","\xa0",",","2"," \u20ac"],"pkr~en-gb~pk":["Rs",",","","0",""],"pkr~en-pk~pk":["Rs",",","","0",""],"rub~ru-ru~ru":["","\xa0",",","2"," \u20bd"],"twd~en-us~tw":["NT$",",",".","2",""],"usd~zh-hans-cn~us":["",".",",","2"," $"],"czk~en-us~cz":["","\xa0",",","2"," K\u010d"],"eur~en-gb~it":["",".",",","2"," \u20ac"],"eur~en-us~pt":["","\xa0",",","2"," \u20ac"],"sek~en-gb~se":["","\xa0",",","2"," kr"],"usd~en-gb~ae":["$",",",".","2",""],"usd~en-us~lk":["$",",",".","2",""],"usd~es-pa~pa":["$",",",".","2",""],"eur~fr-ch~fr":["","\xa0",",","2"," \u20ac"],"usd~en-gb~ng":["$",",",".","2",""],"eur~en-gb~be":["",".",",","2"," \u20ac"],"eur~en-us~fi":["","\xa0",",","2"," \u20ac"],"eur~ru~de":["",".",",","2"," \u20ac"],"jod~en-us~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"pln~en-gb~pl":["","\xa0",",","2"," z\u0142"],"pln~pl-pl~pl":["","\xa0",",","2"," z\u0142"],"usd~fr-fr~re":["$",",",".","2",""],"omr~ar-sa~om":["\u0631.\u0639.\u200f\u200e ",",",".","3",""],"usd~ko-us~us":["",".",",","2"," $"],"kzt~kk-kz~kz":[""," ",",","2"," \u20b8"],"eur~de-de~lu":["",".",",","2"," \u20ac"],"uah~ru-ru~ua":[""," ",",","2"," \u20b4"],"kzt~ru-kz~kz":[""," ",",","2"," \u20b8"],"jod~ar-sa~jo":["\u202a\u062f.\u0627.\u200f\u200e",",",".","3","\u202c"],"eur~en-us~me":["",".",",","2"," \u20ac"],"eur~en-us~si":["",".",",","2"," \u20ac"],"rub~en-us~by":[""," ",",","2"," \u20bd"],"crc~es-es~cr":["\u20a1",".","","0",""],"eur~tr-tr~cy":["",".",",","2"," \u20ac"],"usd~fa-us~us":["",".",",","2"," $"],"ils~he-il~il":["\u202a\u20aa\u200e",",",".","2","\u202c"],"eur~hr-hr~hr":["",".",",","2"," \u20ac"],"mad~ar-sa~ma":["\u062f.\u0645.\u200f\u200e ",",",".","2",""],"try~tr-tr~tr":["",".",",","2"," \u20ba"],"uah~uk-ua~ua":[""," ",",","2"," \u20b4"],"eur~en-us~mt":["\u20ac",",",".","2",""],"eur~sk-sk~sk":[""," ",",","2"," \u20ac"],"qar~en-us~qa":["QAR",",",".","2",""],"eur~ru-de~de":["",".",",","2"," \u20ac"],"bgn~bg-bg~bg":[""," ",",","2"," \u043b\u0432."],"eur~en-us~sk":[""," ",",","2"," \u20ac"],"eur~en-us~ee":[""," ",",","2"," \u20ac"],"eur~el-gr~gr":["",".",",","2"," \u20ac"],"bhd~ar-sa~bh":["\u202aBD \u200f\u200e",",",".","3","\u202c"],"eur~sr-latn-rs~me":["",".",",","2"," \u20ac"],"usd~id-us~us":["",".",",","2"," $"],"eur~el-gr~cy":["",".",",","2"," \u20ac"],"krw~ko-kr~kr":["\u20a9",",","","0",""],"usd~vi-us~us":["",".",",","2"," $"],"eur~lv-lv~lv":[""," ",",","2"," \u20ac"],"uah~ko-ua~ua":[""," ",",","2"," \u20b4"],"gtq~es-es~gt":["Q",",",".","2",""],"ttd~en-us~tt":["TT$",",",".","2",""],"isk~en-us~is":["kr.",",",".","2",""],"omr~en-us~om":["",",",".","3","\u0631.\u0639."],"thb~th-th~th":["\u0e3f",",",".","2",""],"myr~ms-my~my":["RM",",",".","2",""],"mkd~en-us~mk":["\u0434\u0435\u043d ",".",",","2",""],"mkd~bg-bg~mk":["\u0434\u0435\u043d ",".",",","2",""],"tnd~fr-fr~tn":[""," ",",","3"," DT"],"usd~ja-us~us":["",".",",","2"," $"],"eur~fr-fr~lu":["",".",",","2"," \u20ac"],"krw~en-us~kr":["\u20a9",",","","0",""],"gbp~pl-gb~gb":["\xa3",",",".","2",""],"uyu~es-es~uy":["$U ",".",",","2",""],"ils~ar-sa~il":["\u20aa\u200e ",",",".","2","\u202c"],"tnd~ar-sa~tn":["\u062f.\u062a.\u200f\u200e ",",",".","3",""],"eur~sv-se~fi":[""," ",",","2"," \u20ac"],"czk~cs-cz~cz":[""," ",",","2"," K\u010d"],"vnd~vi-vn~vn":["",".",",","2"," \u20ab"],"lkr~en-us~lk":["\u0dbb\u0dd4.",",",".","2",""],"bhd~en-us~bh":["BD",",",".","3",""],"huf~hu-hu~hu":[""," ",",","2"," HUF"],"kwd~ar-sa~kw":["\u202a\u062f.\u0643.\u200f\u200e",",",".","3","\u202c"],"inr~hi-in~in":["\u20b9",",",".","2",""],"pyg~es-es~py":["\u20b2 ",".","","0",""],"usd~ru-us~us":["",".",",","2"," $"],"idr~id-id~id":["Rp",".","","0",""],"mkd~sr-latn-rs~mk":["\u0434\u0435\u043d ",".",",","2",""],"eur~et-ee~ee":[""," ",",","2"," \u20ac"],"kes~en-us~ke":["Ksh",",",".","2",""],"eur~en-us~lv":[""," ",",","2"," \u20ac"],"rub~ru-ru~by":[""," ",",","2"," \u20bd"],"eur~en-us~cy":["\u20ac",",",".","2",""],"eur~lt-lt~lt":[""," ",",","2"," \u20ac"],"eur~sl-si~si":["",".",",","2"," \u20ac"],"try~en-us~tr":["",".",",","2"," \u20ba"],"kzt~ru-ru~kz":[""," ",",","2"," \u20b8"],"eur~es-es~pa":["",".",",","2"," \u20ac"],"gtq~es-gt~gt":["Q",",",".","2",""],"ngn~en-us~ng":["\u20a6",",",".","2",""],"dzd~ar-sa~dz":["\u062f.\u062c.\u200f\u200e ",",",".","2",""],"qar~ar-sa~qa":["\u0631.\u0642.\u200f\u200e ",",",".","2",""],"eur~en-us~hr":["",".",",","2"," \u20ac"]}'),f={AUD:"AU",NZD:"NZ",TWD:"TW"},v={USD:["$",",",".","2",""],CHF:["CHF ","'",".","2",""],NZD:["$",",",".","2",""],SAR:["\u202a\u0631.\u0633.\u200f\u200e",",",".","2",""],EGP:["\u202a\u062c.\u0645.\u200f\u200e",",",".","3",""],THB:["\u0e3f",",",".","2",""],SGD:["SG$",",",".","2",""],HKD:["HK$",",",".","2",""]},_=(e,t,n)=>{if(isNaN(e))throw new Error(`Invalid price passed to format currency: ${e}`);const r=y(t,n);if(r){const t=e.toFixed(r.precision).replace(".",r.separator).replace(/\B(?=(\d{3})+(?!\d))/g,r.thousandSeparator);return r.beforePrice+t+r.afterPrice}return Intl?new Intl.NumberFormat(n.localeWithScript,{style:"currency",currency:t}).format(e):`${t} ${e}`},y=(e,t)=>{let{market:n,language:r,locale:o}=t;const a=g[`${e.toLowerCase()}~${o.toLowerCase()}~${n.toLowerCase()}`]||g[`${e.toLowerCase()}~${r.toLowerCase()}~${n.toLowerCase()}`]||v[e.toUpperCase()];if(a){if("US"!==n.toUpperCase()&&"CL"!==n.toUpperCase()){const t=f[e.toUpperCase()]||e.toUpperCase();if("USD"===t&&"$"===a[0])a[0]="USD$";else if("USD"===t&&" $"===a[4])a[4]=" $USD";else if("$"===a[0]||"$ "===a[0]){const e="CAD"===t;a[0]=t+(e?" ":"")+a[0]}else" $"===a[4]&&(a[4]=` $${t}`)}return{beforePrice:a[0],thousandSeparator:a[1],separator:a[2],precision:a[3],afterPrice:a[4]}}};var b=n(8478),C=n(69459),E=(n(31235),n(9e4),n(64925),n(74407),n(18339),n(54819),n(64903),n(74495)),S=n(35114);n(36728),n(68995),n(17368),n(24471),n(88233),n(74069),n(79727),n(34715),n(19570);const T=e=>{try{return!!(e&&JSON.parse(e.toLowerCase()))}catch(t){return!1}},A=(e,t)=>{let n=e;return t&&Object.keys(t).forEach((e=>{const r=new RegExp(`\\{${e}\\}`,"gi");n=n.replace(r,t[e]||"")})),n},w=function(e){let t=e;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(((e,n)=>{t=t.replace(new RegExp(`\\{${n}\\}`,"g"),e)})),t},k=function(e){const t=/{(\d+)}/g;let n,r=0;const a=[];let i=0;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];for(;null!==(n=t.exec(e));){a.push(o.createElement(o.Fragment,null,e.substring(r,n.index)));if(void 0===l[parseInt(n[1],10)])throw new Error("Number of input params is lesser than the format string params");a.push(l[parseInt(n[1],10)]),r=t.lastIndex,i++}if(i!==l.length)throw new Error("Number of input params is greater than the format string params");return a.push(o.createElement(o.Fragment,null,e.substring(r))),a},I=(e,t)=>{const n=[];let r,a=0;const i=[];Object.keys(t).forEach((e=>{i.push(`\\{${e}\\}`)}));const s=new RegExp(i.join("|"),"gi");for(;null!==(r=s.exec(e));){n.push(o.createElement(o.Fragment,null,e.substring(a,r.index)));const i=t[r[0].substring(1,r[0].length-1)];n.push(i),a=s.lastIndex}return n.push(o.createElement(o.Fragment,null,e.substring(a))),n},P=e=>{if(e)try{return JSON.parse(e)}catch(t){}},R=(e,t)=>{const n=new RegExp("(?:\\[\\[([0-9\\*]+)\\]([^\\]]*?)\\])"),r=new RegExp("\\[\\[\\*\\]([^\\]]*?)\\]");if(!e.match(n))return w(e,t.toString());const o=new RegExp(`\\[\\[${t}\\]([^\\]]*?)\\]`);let a=e.match(o);return a||(a=e.match(r)),a?w(a[1],t.toString()):void 0},x=(e,t)=>{if(e===`/${t}`)return"/";const n=new RegExp(`^(/${t})?(/.*)$`,"i"),r=e.match(n);return r?r[2]:e},N=e=>!e||"www.xbox.com"===e||e===window.location.host,O=(e,t)=>`${e}-${t}`,L=e=>{const t=(0,E.useSelector)(S.Yz);return x(e,t)},M=e=>e.map((e=>e.replace(/ /g,"\xa0"))),D=(e,t)=>0===t.length?"":t.reduce(((t,n,r)=>r?w(e,t,n):n),""),U=e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.filter((e=>e.toLowerCase().includes("adobe-"))).join("|"))&&void 0!==t?t:""};var F=n(48074),B=n(32017);const H=e=>e>=200&&e<400,q=e=>{let t=F.H6.Undefined;return t=(0,B.o)(e)?F.H6.Unknown:0===e?F.H6.TransportError:e>=100&&e<200?F.H6.Other:e>=200&&e<400?F.H6.Success:e>=400&&e<500?F.H6.CallerError:e>=500?F.H6.ServiceError:F.H6.Unknown,t},G=e=>e?e.trim().toUpperCase():"",z=(e,t,n)=>{let r=G(e);return t&&(r+=`/${G(t)}`,n&&(r+=`/${G(n)}`)),r},X=e=>{const t=((e,t)=>e&&0!==e.indexOf(t)?e:e?e.substr(t.length):"")(((e,t)=>e&&e.lastIndexOf(t)!==e.length-t.length?e:e?e.substr(0,e.length-t.length):"")(e,n="/"),n);var n;return t||"home"};n(82488),n(30390);var $=n(21883);const V=(e,t)=>{let n;return e.every((e=>(0,$.isNotRequested)(e)))?n=t.isNotRequested?t.isNotRequested(e):void 0:e.find((e=>(0,$.isFetching)(e)))?n=t.isFetching?t.isFetching(e.filter((e=>(0,$.isFetching)(e)))):void 0:e.find((e=>(0,$.isError)(e)))?n=t.error?t.error(e.filter((e=>(0,$.isError)(e)))):void 0:e.every((e=>(0,$.isContent)(e)))&&(n=t.content?t.content(e):void 0),n||(n=t.default?t.default(e):void 0),n};n(94908),n(6886),n(14121),n(60523);var W=n(4517);const K=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={};return e.forEach(((e,r)=>n[t?r.toLowerCase():r]=e)),n},j=(e,t)=>{let n;const r=t.toLowerCase();return e.forEach(((e,t)=>{n||r!==t.toLowerCase()||(n={value:e,originalKey:t})})),n},Z=function(e){const t={};e.forEach(((e,n)=>t[n.toLowerCase()]={value:e,originalKey:n}));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((e=>t[e.toLowerCase()]))},Y=e=>{var t;const n=(0,W.TH)(),r=new URLSearchParams(n.search);return null===(t=j(r,e))||void 0===t?void 0:t.value};var Q=n(55147);const J="https://account.microsoft.com/billing/orders",ee="https://www.microsoft.com",te="https://www.xbox.com",ne="XboxInstaller.exe",re="https://aka.ms/XboxInstaller",oe=`https://dlassets-ssl.xboxlive.com/public/content/XboxInstaller/${ne}?productId={0}`,ae="/auth/msa?action=logIn&returnUrl={returnUrl}",ie="sandboxId",se=e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=A(ae,{returnUrl:encodeURIComponent(t)});const{coBrandEnable:o,coBrandId:a,sandboxId:i,prompt:s}=n;return o&&a&&(r+=`&cobrandid=${a}`),i&&(r+=`&sandboxId=${i}`),s&&(r+=`&prompt=${s}`),e?`/${e}${r}`:r},le=e=>(t,n)=>{let r=A("/auth/msa?action=logOut&returnUrl={returnUrl}",{returnUrl:encodeURIComponent(t)});return n&&(r+=`&sandboxId=${n}`),e?`/${e}${r}`:r},ce=e=>(t,n)=>se(e)(t,{sandboxId:n}),ue=()=>{const e=(0,W.TH)(),t=(0,E.useSelector)(S.Yz),n=(0,E.useSelector)(S.Xn).origin;if(!(0,Q.N)())return window.location.href;const r=new URL(`/${t}${e.pathname}`,n);return r.search=e.search,r.toString()},de=e=>se(e),he=()=>{const e=(0,E.useSelector)(S.Yz);return de(e)},me=e=>{const t=ue(),n=Y(ie),r=(0,E.useSelector)(S.Yz);return de(r)(e||t,{sandboxId:n})},pe=e=>le(e),ge=e=>{const t=ue(),n=Y(ie),r=(0,E.useSelector)(S.Yz);return pe(r)(e||t,n)},fe=e=>{const t=ue(),n=Y(ie),r=(e=>ce(e))((0,E.useSelector)(S.Yz));return r(e||t,n)},ve="/account/signin",_e="/account/signout",ye="/accountcreation";function be(e){return"https://account.xbox.com"===e.origin&&[ve,_e,ye].includes(e.pathname.toLowerCase())}function Ce(e,t){var n,r;if(!be(e))throw new Error("URL is not a V1 auth URL.");const o=e.pathname.toLowerCase(),a=null!==(n=e.searchParams.get("sbx"))&&void 0!==n?n:void 0,i=null!==(r=e.searchParams.get("cobrandid"))&&void 0!==r?r:void 0,s=window.location.href;if(o===ve)return se(t)(s,{sandboxId:a,coBrandId:i,coBrandEnable:void 0!==i});if(o===_e)return le(t)(s,a);if(o===ye)return ce(t)(s,a);throw new Error(`Unexpected path name: "${o}"`)}var Ee;!function(e){e[e.New=0]="New",e[e.Forward=1]="Forward",e[e.Replace=2]="Replace",e[e.Back=3]="Back"}(Ee||(Ee={}));const Se=(0,o.createContext)({direction:Ee.New}),Te=()=>(0,o.useContext)(Se);var Ae=n(24923),we=n.n(Ae),ke=n(47739),Ie=n.n(ke);const Pe=e=>Object.keys(e).reduce(((t,n)=>{const r=e[n];return(0,B.o)(r)||(t[n]=r),t}),{}),Re=e=>Object.keys(e).reduce(((t,n)=>(t[n.toLowerCase()]=e[n],t)),{}),xe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Ne=(e,t)=>{const{[t]:n}=e;return we()(e,[t].map(Ie()))};var Oe=n(74990);const Le=(e,t)=>{var n;return e.formatPageId?e.formatPageId(e,t):(null===(n=e.match)||void 0===n?void 0:n.url)||"/"},Me=e=>{const t=(0,E.useSelector)(S.Tr),n=(0,E.useSelector)(S.Yz);let r;try{r=(0,Oe.o$)(e.pathname,t,void 0,n)}catch(o){}return void 0!==r?Le(r,n):e.pathname||"/"};n(73439),n(21515);const De=(e,t)=>{let n;const r=new Promise(((t,r)=>{n=setTimeout((()=>{r(new Error(`Promise timed out in ${e} ms.`))}),e)}));return Promise.race([t,r]).finally((()=>{n&&clearTimeout(n)}))},Ue=()=>new Promise(((e,t)=>t()));var Fe,Be=n(23483);!function(e){e.Idle="idle",e.Loading="loading",e.Ready="ready",e.Error="error"}(Fe||(Fe={}));const He=(e,t)=>{const[n,r]=(0,o.useState)(e?Fe.Loading:Fe.Idle);return(0,o.useEffect)((()=>{if(!e)return void r(Fe.Idle);let n=document.querySelector(`script[src="${e}"]`);if(n)r(n.getAttribute("data-status"));else{n=document.createElement("script"),t&&n.setAttribute("type","module"),n.src=e,n.async=!0,n.setAttribute("data-status","loading"),document.body.appendChild(n);const r=e=>{null===n||void 0===n||n.setAttribute("data-status","load"===e.type?Fe.Ready:Fe.Error)};n.addEventListener("load",r),n.addEventListener("error",r)}const o=t=>{r("load"===t.type?Fe.Ready:Fe.Error),"load"!==t.type&&(console.log(`${e} script failed to load`),document.body.removeChild(n))};return n.addEventListener("load",o),n.addEventListener("error",o),()=>{n&&(n.removeEventListener("load",o),n.removeEventListener("error",o))}}),[e,t]),n},qe=()=>null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase().includes("windows"),Ge=()=>{const e=null===window||void 0===window?void 0:window.navigator.userAgent.toLowerCase();return e.includes("windows 10")||e.includes("windows nt 10")||e.includes("windows 11")||e.includes("windows nt 11")};var ze=n(84338);const Xe=(e,t)=>{const n=!!(null===t||void 0===t?void 0:t.every((t=>e.consentState[t])));return!e.isConsentRequired||n}},16216:(e,t,n)=>{"use strict";n.d(t,{J6I:()=>u.J6,zHJ:()=>E.zH,Mji:()=>S.Mj,zGj:()=>E.zG,kac:()=>E.k,UVO:()=>u.UV,PJd:()=>l,pb1:()=>S.pb,lO9:()=>r.lO,vCX:()=>E.vC,Gti:()=>u.Gt,vXL:()=>u.vX,zIV:()=>u.zI,weN:()=>u.we,jmv:()=>u.jm,cP9:()=>S.cP,fEB:()=>u.fE,h7h:()=>S.h7,Hw9:()=>T.Hw,iBy:()=>r.iB,sXi:()=>S.sX,_M1:()=>u._M,$uU:()=>S.$u,H62:()=>r.H6,Q2A:()=>r.Q2,XZq:()=>S.XZ,RmD:()=>r.Rm,euC:()=>S.eu,ZOQ:()=>E.ZO,Grh:()=>E.Gr,vPf:()=>u.vP,lTi:()=>u.lT,Uim:()=>u.Ui,V9f:()=>u.V9,itn:()=>S.it,Ypc:()=>u.Yp,Lx9:()=>u.Lx,yuW:()=>u.yu,gTX:()=>S.gT,lBj:()=>S.lB,MR9:()=>u.MR,dFq:()=>u.dF,PHw:()=>S.PH,mqE:()=>S.mq,FZu:()=>S.FZ,Krg:()=>S.Kr,LG0:()=>S.LG,tVd:()=>S.tV,kTi:()=>u.kT,ehd:()=>T.eh,D65:()=>S.D6,WUZ:()=>u.WU,myw:()=>u.my,xGv:()=>u.xG,vvg:()=>u.vv,hEW:()=>S.hE,gjf:()=>S.gj,abJ:()=>S.ab,$Pr:()=>S.$P,_89:()=>S._8,DiP:()=>S.Di,UwQ:()=>S.Uw,$Zt:()=>S.$Z,oB7:()=>u.oB,$E$:()=>u.$E,Nn:()=>u.Nn,FMS:()=>i,gzb:()=>S.gz,Zws:()=>S.Zw,i9B:()=>S.i9,Jbn:()=>S.Jb,m2K:()=>S.m2,LAY:()=>S.LA,QLG:()=>S.QL,TrC:()=>S.Tr,KdS:()=>S.Kd,Yzi:()=>S.Yz,yWe:()=>S.yW,o$o:()=>T.o$,zUJ:()=>T.zU,XTy:()=>S.XT,eCV:()=>S.eC,ew0:()=>u.ew,OLU:()=>S.OL,Qij:()=>S.Qi,Sl8:()=>u.Sl,Xnf:()=>S.Xn,_B2:()=>S._B,YgT:()=>u.Yg,sQA:()=>T.sQ,PE2:()=>S.PE,WBU:()=>S.WB,NDL:()=>S.ND,fUH:()=>S.fU,Pej:()=>S.Pe,BtQ:()=>S.Bt,Xwy:()=>S.Xw,LyP:()=>S.Ly,g48:()=>S.g4,ZU_:()=>S.ZU,tdh:()=>u.td,lXB:()=>u.lX,NT7:()=>u.NT,hAT:()=>u.hA,o8e:()=>u.o8,byQ:()=>u.by,rpX:()=>u.rp,xUA:()=>u.xU,BHT:()=>u.BH,r$u:()=>u.r$,lF6:()=>u.lF,qG9:()=>u.qG,OjV:()=>u.Oj,UoI:()=>S.Uo,uQr:()=>u.uQ,VJC:()=>u.VJ,ej0:()=>S.ej,r5C:()=>u.r5,kgH:()=>u.kg,Kp2:()=>r.Kp,AvI:()=>u.Av,nvS:()=>u.nv,Nxr:()=>u.Nx,yy9:()=>u.yy,LUC:()=>u.LU,Q2j:()=>u.Q2,NqY:()=>u.Nq,NRv:()=>u.NR,asx:()=>u.as,E$u:()=>S.E$,d8j:()=>u.d8,uQd:()=>S.uQ,j4h:()=>S.j4,Cqs:()=>T.Cq,_O7:()=>u._O,upz:()=>u.up,CWW:()=>u.CW,$37:()=>u.$3,$Ft:()=>c,UDx:()=>u.UD,$wQ:()=>u.$w,IzA:()=>u.Iz,Sph:()=>T.Sp,_RZ:()=>u._R,L_O:()=>S.L_,FL2:()=>b,XY5:()=>y,s8U:()=>C,iNM:()=>p,Fsx:()=>_,WD1:()=>g,vzw:()=>u.vz,aM2:()=>u.aM,_yM:()=>T._y,Gq1:()=>u.Gq,ByS:()=>u.By,JDj:()=>u.JD,$ex:()=>S.$e,Fbb:()=>u.Fb,Nox:()=>u.No});var r=n(48074),o=(n(70063),n(20608));function*a(){return yield(0,o.getContext)(r.iB.cookies)}function i(){return(0,o.call)(a)}var s=n(2784);const l=(0,s.createContext)({}),c=()=>(0,s.useContext)(l);var u=n(98978),d=(n(77950),n(48319),n(34715),n(64925),n(26464),n(19570),n(54819),n(6886),n(92150)),h=n(9207);const m=Array.from({length:9},((e,t)=>`{${t}}`)),p=function(e,t){const n=(0,d.FC)((0,s.useContext)(h.E),[t,e]);for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];return n(o.length>0?o:m)},g=function(e){const t=(0,s.useContext)(h.E);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.map((n=>(0,d.FC)(t,[e,n])(m)))};function f(e,t){let n=e;if(n)for(const r of t){if("object"!==typeof n)return;if(n=n[r],void 0===n)return}return n}function v(e,t){return Array.isArray(e)?e:t?e.split(t):[e]}function _(e,t,n){const r=(0,s.useContext)(h.E),{locales:o,messages:a,pathSep:i}=r,l=v([e,t],i);for(var c=arguments.length,d=new Array(c>3?c-3:0),m=3;m<c;m++)d[m-3]=arguments[m];for(const s of o){const e=f(a[s],l);if(void 0!==e&&"function"===typeof e)return e(d)}return n?(0,u.WU)(n,...d):void 0}function y(e,t){return(0,d.FC)((0,s.useContext)(h.E),[e,t])}function b(e,t,n){return y(e,t)(n)}function C(e){const t=(0,s.useContext)(h.E),n={};for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return o.forEach((r=>{const o=(0,d.FC)(t,[e,r]);n[r]="function"===typeof o?o():o})),n}var E=n(20617),S=n(35114),T=n(74990)},20617:(e,t,n)=>{"use strict";var r,o;n.d(t,{zH:()=>i,zG:()=>r,k:()=>o,vC:()=>a,ZO:()=>s.Z,Gr:()=>s.G}),function(e){e[e.None=0]="None",e[e.Msa=1]="Msa",e[e.MsaAndXbox=2]="MsaAndXbox"}(r||(r={})),function(e){e[e.None=0]="None",e[e.SignedIn=1]="SignedIn"}(o||(o={}));var a;n(83001);!function(e){e.EnableTestNav="EnableTestNav",e.EnableTestTools="EnableTestTools",e.EnableTestPages="EnableTestPages",e.EnableCookieSourceDebugConsole="EnableCookieSourceDebugConsole",e.ShowStackOnError="ShowStackOnError",e.StagingFD="StagingFD",e.TestBuyNowFlights="TestBuyNowFlights",e.BuyNowExpIdTestFeatureGate="BuyNowExpIdTestFeatureGate",e.UglyUhf="UglyUhf",e.SiteThemeOverride="SiteThemeOverride",e.DisableUhfXboxCart="DisableUhfXboxCart",e.EnableUhfCache="EnableUhfCache",e.DisableUhfWcp="DisableUhfWcp",e.EnableAllLocales="EnableAllLocales",e.EnableGatedLocales="EnableGatedLocales",e.ClientErrorSampleRate="ClientErrorSampleRate",e.ServiceErrorSampleRate="ServiceErrorSampleRate",e.SentryTransactionSampleRate="SentryTransactionSampleRate",e.MCWSSentryClientSampleRate="MCWSSentryClientSampleRate",e.MCWSSentryServiceSampleRate="MCWSSentryServiceSampleRate",e.MCWSSentryTransactionSampleRate="MCWSSentryTransactionSampleRate",e.EnableServerSideUserFeatureAssignments="EnableServerSideUserFeatureAssignments",e.EnableSisuUcsSupport="EnableSisuUcsSupport",e.EnableContentPreviewTools="EnableContentPreviewTools",e.EnableAAMScript="EnableAAMScript",e.EnableBundleBuilderAdobeLaunch="EnableBundleBuilderAdobeLaunch",e.CartPreview="CartPreview",e.CheckoutPreview="CheckoutPreview",e.StorePPE="StorePPE",e.DisableErrorMessageService="DisableErrorMessageService",e.browseScoringTreatment="browseScoringTreatment",e.EnableNewSearchExperience="EnableNewSearchExperience",e.EnableNewSearchGeneralTab="EnableNewSearchGeneralTab",e.EnableStoreHomePage="EnableStoreHomePage",e.EnableStickyDesktopHeader="EnableStickyDesktopHeader",e.EnableStickyMobileHeader="EnableStickyMobileHeader",e.searchScoringTreatment="searchScoringTreatment",e.EnableBuyNowHoverButton="EnableBuyNowHoverButton",e.EnableDealXPriceText="EnableDealXPriceText",e.EnableMultiUpsellButton="EnableMultiUpsellButton",e.EnableReactCheckout="EnableReactCheckout",e.DisableGamepadNavigationOnPurchase="DisableGamepadNavigationOnPurchase",e.EnableBuyNowXboxUiExp="EnableBuyNowXboxUiExp",e.EnableBuyNowFCRedeemWithTax="EnableBuyNowFCRedeemWithTax",e.EnableMiniPDPRefreshExp="EnableMiniPDPRefreshExp",e.EnableMiniPDPSubsRefreshExp="EnableMiniPDPSubsRefreshExp",e.UsePostMessageHelper="UsePostMessageHelper",e.EnablePIDLTestHeader="EnablePIDLTestHeader",e.EnableV2MeControl="EnableV2MeControl",e.EnableReactGiftFlow="EnableReactGiftFlow",e.EnableWishlistGifting="EnableWishlistGifting",e.WishlistV2Menu="WishlistV2Menu",e.OsWishlistSharing="OsWishlistSharing",e.UsePurchasePPE="UsePurchasePPE",e.EnableLibraryPage="EnableLibraryPage",e.PIGroupingExpId="PIGroupingExpId",e.PIGroupingFlightId="PIGroupingFlightId",e.EnableRedeemCodeModal="EnableRedeemCodeModal",e.EnablePrivacyControls="EnablePrivacyControls",e.EnableLaunchpad="EnableLaunchpad",e.EnableLaunchpadDownload="EnableLaunchpadDownload",e.EnableYearInReview="EnableYearInReview",e.EnableYearInReviewMarketing="EnableYearInReviewMarketing",e.EnableRemoteInstallToPc="EnableRemoteInstallToPc",e.EnableEditionUpgradeOffer="EnableEditionUpgradeOffer",e.PurchaseSdkCartCheckout="PurchaseSdkCartCheckout",e.SkipXTokenCookies="SkipXTokenCookies",e.SkipRedirectCounter="SkipRedirectCounter",e.EnableSkipActivateStoreExp="EnableSkipActivateStoreExp",e.EnableFranchisePageLink="EnableFranchisePageLink",e.EnableXboxOneRFAccountSettings="EnableXboxOneRFAccountSettings",e.EnableMultiCloudPlayButton="EnableMultiCloudPlayButton",e.EnableXboxGamePadLite="EnableXboxGamePadLite",e.EnableXboxOneRFSetupRedirectPage="EnableXboxOneRFSetupRedirectPage",e.EnableMCWSSite="EnableMCWSSite",e.EnableUniversalMediaPlayer="EnableUniversalMediaPlayer",e.EnableApplePay="EnableApplePay",e.EnableGooglePay="EnableGooglePay",e.EnableNextPIDL="EnableNextPIDL",e.EnablePIDLFeatureEnv="EnablePIDLFeatureEnv",e.EnableDynamicFlags="EnableDynamicFlags"}(a||(a={}));var i,s=n(90431);!function(e){e.Child="Child",e.Teen="Teen",e.Adult="Adult",e.Unknown="Unknown"}(i||(i={}))},10363:(e,t,n)=>{"use strict";function r(){return{anonToken:void 0}}n.d(t,{g:()=>r})},16180:(e,t,n)=>{"use strict";n.d(t,{h7:()=>d.h,gT:()=>f,lB:()=>v,PH:()=>a,mq:()=>l,FZ:()=>i,Kr:()=>c,LG:()=>s,gj:()=>u.g,Uo:()=>h.U,$e:()=>p});var r=n(814),o=n.n(r);n(43105),n(6886);function a(e,t,n,r){return r?Object.assign((function(){const a=r(...arguments);return o()({type:e,scope:t,partner:n},a)}),{getType:()=>e,getPartner:()=>n}):Object.assign((()=>({type:e,scope:t,partner:n})),{getType:()=>e,getPartner:()=>n})}function i(e,t,n,r,a,i,s,l){return{start:Object.assign((function(){const a=r(...arguments);return o()({type:n,scope:e,partner:t},a)}),{getType:()=>n,getPartner:()=>t}),success:Object.assign((function(){const n=i(...arguments);return o()({type:a,scope:e,partner:t},n)}),{getType:()=>a,getPartner:()=>t}),error:Object.assign((function(){const n=l(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t})}}function s(e,t,n,r,a,i){const s=`${n}_START`,l=`${n}_SUCCESS`,c=`${n}_FAILURE`;return{start:Object.assign((function(){const n=r(...arguments);return o()({type:s,scope:e,partner:t},n)}),{getType:()=>s,getPartner:()=>t}),success:Object.assign((function(){const n=a(...arguments);return o()({type:l,scope:e,partner:t},n)}),{getType:()=>l,getPartner:()=>t}),error:Object.assign((function(){const n=i(...arguments);return o()({type:c,scope:e,partner:t},n)}),{getType:()=>c,getPartner:()=>t})}}const l=e=>(t,n,r)=>a(t,n,e,r),c=e=>(t,n,r,o,a,s,l)=>i(t,e,n,r,o,a,s,l);var u=n(10363),d=n(92318),h=n(88709),m=(n(36728),n(77950),n(21850),n(9e4),n(34715),n(26464),n(18339),n(19570),n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183),n(76026));function p(e,t){return{scopes:[].concat(e),reducer:t}}function g(e,t){const n=new Map,r=new Map;for(const o in e){const{scopes:t,reducer:a}=e[o];t.forEach((e=>{n.has(e)?n.get(e).push(o):n.set(e,[o])})),r.set(o,a)}return p(Array.from(n.keys()),((e,a)=>{let i=!1;if(void 0===e){const e={};return r.forEach(((t,n)=>{e[n]=t(void 0,a)})),e}if(/^(@@redux\/(INIT|REPLACE)|@@INIT)/.test(a.type)){const t=o()({},e);return r.forEach(((n,r)=>{const o=e[r];t[r]=n(o,a)})),t}const{scope:s,partner:l}=a;let c=e;const u=n.get(s);return u&&u.filter((e=>!t||(l?e===l:(0,m.W)(e)))).forEach((t=>{const n=e[t],s=r.get(t)(n,a);s!==n&&(i||(c=o()({},e)),i=!0),c[t]=s})),c}))}function f(e){return g(e,!1)}function v(e){return g(e,!0).reducer}},88709:(e,t,n)=>{"use strict";function r(e){return function(t){const n=t;return e.getType()===n.type&&e.getPartner()===n.partner}}n.d(t,{U:()=>r})},35114:(e,t,n)=>{"use strict";n.d(t,{Mj:()=>o.M,pb:()=>a.p,cP:()=>r,h7:()=>m.h7,sX:()=>s.s,$u:()=>c,XZ:()=>d.X,eu:()=>h.e,it:()=>o.i,gT:()=>m.gT,lB:()=>m.lB,PH:()=>m.PH,mq:()=>m.mq,FZ:()=>m.FZ,Kr:()=>m.Kr,LG:()=>m.LG,tV:()=>Z,D6:()=>a.D,hE:()=>W,gj:()=>m.gj,ab:()=>g,$P:()=>$,_8:()=>X,Di:()=>A,Uw:()=>j,$Z:()=>K,gz:()=>ee.g,Zw:()=>b,i9:()=>M,Jb:()=>D,m2:()=>F,LA:()=>B,QL:()=>H,Tr:()=>O,Kd:()=>f,Yz:()=>v,yW:()=>_,XT:()=>z,eC:()=>U,OL:()=>Y,Qi:()=>p.Qi,Xn:()=>y,_B:()=>C,PE:()=>G,WB:()=>E,ND:()=>p.ND,fU:()=>oe,Pe:()=>se,Bt:()=>re,Xw:()=>ie,Ly:()=>ae,g4:()=>S,ZU:()=>T,Uo:()=>m.Uo,ej:()=>l,E$:()=>u,uQ:()=>d.u,j4:()=>h.j,L_:()=>J,$e:()=>m.$e});var r,o=n(48066),a=n(25268),i=n(22229),s=n(26280);!function(e){e.LOCATION_CHANGE="@navigation/LOCATION_CHANGE",e.PAGE_DATA_REQUEST_START="@navigation/PAGE_DATA_REQUEST_START",e.PAGE_DATA_REQUEST_SUCCESS="@navigation/PAGE_DATA_REQUEST_SUCCESS",e.PAGE_DATA_REQUEST_ERROR="@navigation/PAGE_DATA_REQUEST_ERROR"}(r||(r={}));const l={navigateToPath:(0,i.P)(r.LOCATION_CHANGE,s.s.Navigation,((e,t,n)=>({newLocation:e,oldLocation:t,forceRefresh:n}))),pageDataRequest:(0,i.F)(s.s.Navigation,r.PAGE_DATA_REQUEST_START,(e=>({pageId:e})),r.PAGE_DATA_REQUEST_SUCCESS,(e=>({pageId:e})),r.PAGE_DATA_REQUEST_ERROR,((e,t)=>({pageId:e,error:t})))};var c;!function(e){e.UPDATE_PAGE_SEO_TAGS="@seo/UPDATE_PAGE_SEO_TAGS"}(c||(c={}));const u={updatePageSeoTags:(0,i.P)(c.UPDATE_PAGE_SEO_TAGS,s.s.Seo,((e,t)=>({tags:e,pageId:t})))};var d=n(45328),h=n(85527),m=n(16180),p=n(34815);const g=e=>y(e).anonToken,f=e=>_(e).locale,v=e=>_(e).localeWithScript,_=e=>(0,p.oV)(e).marketInfo,y=e=>(0,p.oV)(e).requestInfo,b=e=>(0,p.oV)(e).deviceId,C=e=>y(e).path,E=e=>(0,p.oV)(e).telemetryInfo,S=e=>(0,p.oV)(e).isPreviewMode,T=e=>(0,p.oV)(e).isReactDomHydrating,A=e=>(0,p.oV)(e).clientBootstrapInfo.initialized;var w=n(814),k=n.n(w),I=(n(36728),n(31235),n(9e4),n(74407),n(26464),n(18339),n(64903),n(97698)),P=n(21883),R=n(20617),x=n(98978);const N={},O=(0,I.createSelector)(p.Wr,(e=>{var t;return k()(k()(k()({},e.environmentFeatureGates),null!==(t=(0,P.getDataOrPrevious)(e.expFeatureGates))&&void 0!==t?t:N),e.overrideFeatureGates)})),L=e=>{var t;return null===(t=F(e))||void 0===t?void 0:t.flights},M=e=>(0,p.Wr)(e).environmentFeatureGates,D=e=>{var t;return null!==(t=(0,P.getDataOrPrevious)((0,p.Wr)(e).expFeatureGates))&&void 0!==t?t:N},U=e=>(0,p.Wr)(e).overrideFeatureGates,F=e=>(0,P.getDataOrPrevious)((0,p.Wr)(e).experimentationInfo),B=e=>(0,p.Wr)(e).experimentationInfo,H=(e,t)=>t?e[t.toLowerCase()]:void 0,q=(e,t)=>H(O(e),t),G=(e,t)=>{const n=q(e,t);if("string"===typeof n)return n},z=(e,t)=>{const n=q(e,t);if("number"===typeof n)return n},X=(e,t)=>{const n=q(e,t);if("boolean"===typeof n)return n},$=(e,t)=>{const n=O(e);return V(n,t)},V=(e,t)=>!0===H(e,t),W=e=>{const t=L(e);let n="";return t&&(n=(0,x.my)(t)),n},K=e=>{const t=L(e);let n=[];return t&&(n=t.filter((e=>e.toLowerCase().includes("sc_")))),n},j=e=>Object.values(R.vC).filter((e=>e.toLowerCase().includes("buynowexpid"))).reduce(((t,n)=>{const r=G(e,n);return r&&t.push(r),t}),[]),Z={isLoading:!1,hasContent:!1,error:void 0},Y=(e,t)=>(0,p.S)(e)[t]||Z;var Q=n(74495);const J=e=>{const t=(0,x._R)(e);return(0,Q.useSelector)((e=>((e,t)=>(0,p.dF)(e)[t])(e,t)))};var ee=n(49657),te=n(48074);const ne=(e,t)=>{var n,r;let o;switch(t){case te.Q2.Light:o=null===(n=(0,p.v3)(e).data)||void 0===n?void 0:n.light;break;case te.Q2.Dark:o=null===(r=(0,p.v3)(e).data)||void 0===r?void 0:r.dark}return o},re=(e,t)=>{var n;return null===(n=ne(e,t===te.Q2.DarkHeader?te.Q2.Dark:t))||void 0===n?void 0:n.headerHtml},oe=(e,t)=>{var n;return null===(n=ne(e,t===te.Q2.DarkHeader?te.Q2.Light:t))||void 0===n?void 0:n.footerHtml},ae=e=>$(e,R.vC.UglyUhf)?te.Q2.Light:(0,ee.g)(e),ie=e=>(0,p.v3)(e).headerMode,se=e=>(0,p.v3)(e).footerMode||R.ZO.Full},34815:(e,t,n)=>{"use strict";n.d(t,{ND:()=>l,Qi:()=>i,S:()=>a,Wr:()=>o,dF:()=>s,oV:()=>r,v3:()=>c});const r=e=>e.appContext,o=e=>e.experiments,a=e=>e.pageRequestMetadata,i=(e,t)=>e[t],s=e=>e.seo,l=e=>e.theme,c=e=>e.uhf},74990:(e,t,n)=>{"use strict";n.d(t,{Hw:()=>r.H,eh:()=>o.e,o$:()=>m,zU:()=>v,sQ:()=>p,Cq:()=>h,Sp:()=>g,_y:()=>_._});var r=n(58565),o=n(98410),a=n(814),i=n.n(a),s=(n(71372),n(6886),n(74495)),l=n(4517),c=n(20608),u=n(35114);let d=[];const h=e=>d=e,m=(e,t,n,r)=>{if(0===d.length)throw new Error("No routes have been registered. Invalid use of getMatchedRouteConfig.");for(const a of d)if((0,o.e)(a.constraint,t,r)){const t=(0,l.LX)(e,a);if(t)return i()(i()({},a),{},{isPreview:!!n,match:t})}},p=()=>d,g=e=>{const t=(0,s.useSelector)(u.Tr),n=(0,l.TH)(),r=(0,s.useSelector)(u.g4),o=(0,s.useSelector)(u.Yz),a=e||n.pathname;return m(a,t,r,o)};function*f(e){const t=yield(0,c.select)(u.Tr),n=yield(0,c.select)(u.g4),r=yield(0,c.select)(u.Yz);return yield(0,c.call)(m,e,t,n,r)}function v(e){return(0,c.call)(f,e)}var _=n(56097)},41677:(e,t,n)=>{"use strict";var r,o,a,i;n.d(t,{zc:()=>a,JS:()=>i,uZ:()=>r,GV:()=>o}),function(e){e.Browse="Browse",e.Cart="Cart",e.Checkout="Checkout",e.Error="Error",e.GenericError="GenericError",e.Library="Library",e.LocalePicker="LocalePicker",e.Overlay="Overlay",e.ProductDetailsPage="ProductDetailsPage",e.PDP="PDP",e.Retry="Retry",e.Search="Search",e.Settings="Settings",e.StoreHome="StoreHome",e.Wishlist="Wishlist"}(r||(r={})),function(e){e.Cart="CART",e.Checkout="CHECKOUT",e.PDP="PDP"}(o||(o={})),function(e){e.Button="Button",e.Link="Link",e.PageContent="PageContent"}(a||(a={})),function(e){e.CemService="CemService",e.DisplayCatalogService="DisplayCatalogService",e.EmeraldXbetService="EmeraldXbetService",e.InventoryService="InventoryService",e.GamingContext="GamingContext",e.PeopleHub="PeopleHub",e.SISU="SISU",e.StoreCartService="StoreCartService",e.XboxLiveAccountService="XboxLiveAccountService",e.Duke="Duke"}(i||(i={}))},71619:(e,t,n)=>{"use strict";n.d(t,{pC:()=>C,dz:()=>u,aR:()=>i,cH:()=>m,fs:()=>s,u_:()=>h,Xy:()=>c,SE:()=>d,Do:()=>l,TA:()=>a,Si:()=>A,I4:()=>w,wl:()=>b,Lo:()=>g,EW:()=>f,Bh:()=>v,Qc:()=>p,Fj:()=>_});n(71372);var r=n(16216),o=n(2784);const a=(0,o.createContext)({}),i=(0,o.createContext)({}),s=(0,o.createContext)({}),l=(0,o.createContext)({}),c=(0,o.createContext)({}),u=(0,o.createContext)({}),d=(0,o.createContext)({}),h=(0,o.createContext)({}),m=(0,o.createContext)({}),p=()=>(0,o.useContext)(a),g=()=>(0,o.useContext)(i),f=()=>(0,o.useContext)(s),v=()=>(0,o.useContext)(d),_=()=>p().logger(),y=(0,o.createContext)(void 0),b=()=>(0,o.useContext)(y),C=e=>{let{children:t}=e;const n=p().getCurrentPage()||void 0,a=(0,o.useRef)(n),i=_();if(void 0!==b()&&(i.error("can not nest BackingPageProvider"),"prod"!==r.xUA.DEPLOYMENT_ENV))throw new Error("can not nest BackingPageProvider");return o.createElement(y.Provider,{value:a.current},t)};var E=n(20608);function*S(){return yield(0,E.getContext)(r.iBy.telemetry)}function*T(){return(yield S()).logger()}function A(){return(0,E.call)(S)}function w(){return(0,E.call)(T)}},81690:(e,t,n)=>{"use strict";n.d(t,{iZ:()=>u,r_:()=>d,Vg:()=>f.V,Z1:()=>m,gR:()=>p.g,_d:()=>h,XP:()=>f.X,Li:()=>g.L});var r=n(24923),o=n.n(r),a=n(814),i=n.n(a),s=(n(6710),n(16216));const l=["areaName","behavior","componentName","contentName","contentType","id","productId","productName","skuId","slotNumber","templateName","videoDuration","videoId","videoName","videoPercentageComplete","videoWatchTime"];var c;!function(e){e.Sku="sku"}(c||(c={}));const u=e=>({"data-m":JSON.stringify(m(e))}),d=()=>({"data-bi-dnt":!0}),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(0,s.NqY)(e),o=(0,s.NqY)(t),a=(0,s.NqY)(n),l=i()(i()(i()({},a),o),r);return l},m=e=>{const{areaName:t,behavior:n,componentName:r,contentName:a,contentType:s,id:c,productId:u,productName:d,skuId:h,slotNumber:m,templateName:p,videoDuration:g,videoId:f,videoName:v,videoPercentageComplete:_,videoWatchTime:y}=e,b=o()(e,l);return i()({aN:t,bhvr:n,cN:a,compnm:r,cT:s,id:c,pid:u,prod:d,sku:h,sN:m,tN:p,viddur:g,vidid:f,vidnm:v,vidpct:_,vidwt:y},b)};var p=n(97339),g=n(10089),f=n(27302)},27302:(e,t,n)=>{"use strict";n.d(t,{V:()=>o,X:()=>r});const r="telemetryTags",o=e=>e.metadata&&e.metadata[r]},87342:(e,t,n)=>{"use strict";n.d(t,{Lz:()=>s.Lz,xu:()=>s.xu,pC:()=>o.pC,cg:()=>i.cg,dz:()=>o.dz,qJ:()=>l.qJ,zc:()=>r.zc,x8:()=>i.x8,JS:()=>r.JS,Mk:()=>s.Mk,aR:()=>o.aR,uZ:()=>r.uZ,DV:()=>c.D,GV:()=>r.GV,cH:()=>o.cH,OR:()=>o.fs,u_:()=>o.u_,rB:()=>s.rB,F:()=>c.F,Xy:()=>o.Xy,SE:()=>o.SE,Do:()=>o.Do,TA:()=>o.TA,Lg:()=>s.Lg,Yr:()=>b,iZ:()=>a.iZ,r_:()=>a.r_,zX:()=>C,Si:()=>o.Si,I4:()=>o.I4,gR:()=>a.gR,_d:()=>a._d,XP:()=>a.XP,Lo:()=>o.Lo,Li:()=>a.Li,EW:()=>o.EW,Bh:()=>o.Bh,Qc:()=>o.Qc,Fj:()=>o.Fj});var r=n(41677),o=n(71619),a=n(81690),i=(n(21422),n(52747)),s=n(75581),l=n(32392),c=(n(17203),n(22068)),u=n(814),d=n.n(u),h=(n(68995),n(73439),n(88233),n(6886),n(81497),n(75640),n(1871),n(14121),n(60523),n(51175)),m=n(16216),p=n(66465),g=n(92642);const f=(e,t,n)=>{var r,o,i,s,l,c;let u=0;const f=Date.now();t.metadata&&t.metadata.timeStamp&&(u=f-t.metadata.timeStamp);let v=e.cv().get(),_="";if(t.headers){const e=t.headers.get(h.HttpHeader.CorrelationVector);e&&(v=e),_=null!==(r=t.headers.get("X-MS-API-Version"))&&void 0!==r?r:""}const y=t.url&&new URL(t.url);let b,C,E,S;const T=(0,a.Vg)(t);let A,w,k,I,P,R;if(T?(C=T.dependencyName,E=T.dependencyOperationName,b=T.operationName,S=T.dependencyOperationVersion||_):y&&(C=y.hostname,E=y.pathname),n){A=n.headers,w=(0,m.hAT)(n.status),k=n.status.toString(),I=(0,m.YgT)(n.status).toString(),P=null!==(o=n.headers.get(h.HttpHeader.ContentType))&&void 0!==o?o:void 0;const e=n.headers.get(h.HttpHeader.ContentLength);e&&(R=parseInt(e,10))}else A=new Headers,w=!1,k="500",I=m.H62.TransportError.toString();const x={op:E,startTimestamp:null===(i=t.metadata)||void 0===i?void 0:i.timeStamp};if("true"!=="MISSING_ENV_VAR".RAZZLE_DISABLE_SERVER_SENTRY){const e=null===(l=null===(s=p.Gd())||void 0===s?void 0:s.getScope())||void 0===l?void 0:l.getTransaction(),t=null!==(c=null===n||void 0===n?void 0:n.status)&&void 0!==c?c:500;if(e){const n=e.startChild(x);null===n||void 0===n||n.setHttpStatus(t),null===n||void 0===n||n.finish(f)}else{const e=g.Yr(d()(d()({},x),{},{name:E}));null===e||void 0===e||e.setHttpStatus(t),null===e||void 0===e||e.finish(f)}}e.logOutgoingServiceReliability({cV:v,latencyMs:u,requestHeaders:t.headers||new Headers,requestMethod:t&&t.method&&t.method.toUpperCase(),responseHeaders:A,succeeded:w,dependencyName:C,dependencyOperationName:E,dependencyOperationVersion:S,dependencyType:"WebService",operationName:b,protocol:y&&y.protocol.toUpperCase(),protocolStatusCode:k,requestStatus:I,responseContentType:P,responseSizeBytes:R,target:t.url})};class v{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE,this.intercept=async e=>{const t=e.metadata||{};t.timeStamp=Date.now();const n=e.headers||new Headers;return n.set(h.HttpHeader.CorrelationVector,this._telemetryProvider.cv().increment()),h.InterceptedRequest.fromRequest(e,{metadata:t,additionalHeaders:n})}}}class _{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){return f(this._telemetryProvider,e,t),t}}class y{constructor(e){this._telemetryProvider=e,this.priority=Number.MAX_VALUE}async intercept(e,t){throw t instanceof h.HttpError?f(this._telemetryProvider,e,t.response):t instanceof DOMException&&f(this._telemetryProvider,e,void 0),t}}const b=(e,t)=>e.requestInterceptor(new v(t)).responseInterceptor(new _(t)).errorInterceptor(new y(t)),C=e=>({request:[new v(e)],response:[new _(e)],error:[new y(e)]})},52747:(e,t,n)=>{"use strict";n.d(t,{cg:()=>o.c,x8:()=>r,ye:()=>a.y});var r,o=n(62270);!function(e){e.LeftClick="CL",e.MiddleClick="CM",e.RightClick="CR",e.Scroll="S",e.Zoom="Z",e.Resize="R",e.KeyboardEnter="KE",e.KeyboardSpace="KS",e.GamepadA="CGA",e.GamepadMenu="CGM",e.Automatic="A",e.AutomaticTimer="AT",e.Other="O"}(r||(r={}));var a=n(11494)},56159:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(28248),o=(n(6886),n(2784)),a=n(94969);function i(e,t){return function(e,t,n){const r=(0,a.X)(),[i,s]=(0,o.useState)();return(0,o.useEffect)((()=>{function r(e){null!=n&&n(e),s(e)}return null===e||void 0===e||e.addEventListener(t,r),()=>{null===e||void 0===e||e.removeEventListener(t,r)}}),[e,t,n]),[i,(0,o.useCallback)((()=>{r.current&&s(void 0)}),[r])]}((0,r.Tv)().getAuthProvider(),e,t)}},56231:(e,t,n)=>{"use strict";n.d(t,{e:()=>i});var r=n(28248),o=n(92397),a=n(20608);function*i(){const e=(yield(0,r.le)()).getAuthProvider();if(!e.isInitialized()){const t=(0,o.eventChannel)((t=>{const n=e=>{t(e)};return e.addEventListener("initialized",n),()=>e.removeEventListener("initialized",n)}));yield(0,a.take)(t),t.close()}return e.getActiveAuthUser()}},46778:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(28248),o=n(21883),a=n(2784),i=n(56159);const s=()=>{(0,i.o)(r.S_.type),(0,i.o)(r.Nb.type);const e=(0,r.Tv)().getAuthProvider(),t=e.isInitialized(),n=e.getActiveAuthUser();return(0,a.useMemo)((()=>t?(0,o.lceContent)(n):o.LCE_IS_FETCHING),[t,n])}},59446:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});n(6886);var r=n(2784),o=n(23693);const a=e=>{let{partnerId:t,renderLoading:n,renderError:a,children:i}=e;var s;const[,{isLoading:l,isError:c,error:u}]=(0,o.y)(t);let d=null!==(s=l?n:i)&&void 0!==s?s:null;return c&&a&&(d=r.cloneElement(a,{error:u})),r.createElement(r.Fragment,null,d)}},33866:(e,t,n)=>{"use strict";n.d(t,{R:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"NavLinksPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,n.e(55547).then(n.bind(n,49783))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 49783}})},72795:(e,t,n)=>{"use strict";n.d(t,{X:()=>c});var r=n(73439),o=n.n(r),a=n(6886),i=n.n(a),s=n(61975),l=n(16216);const c=(0,s.hx)({resolved:{},chunkName:()=>"ToolsPane",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>(0,l.Fbb)(s.Ed,Promise.all([n.e(9885),n.e(49739),n.e(8805)]).then(n.bind(n,49739))),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 49739}})},49377:(e,t,n)=>{"use strict";n.d(t,{bJ:()=>o,go:()=>r,w8:()=>a});var r;n(36728),n(88233),n(6886);!function(e){e.arAE="ar-AE",e.arSA="ar-SA",e.csCZ="cs-CZ",e.daDK="da-DK",e.deAT="de-AT",e.deCH="de-CH",e.deDE="de-DE",e.elGR="el-GR",e.enAU="en-AU",e.enCA="en-CA",e.enGB="en-GB",e.enHK="en-HK",e.enIE="en-IE",e.enIN="en-IN",e.enMY="en-MY",e.enNZ="en-NZ",e.enPH="en-PH",e.enSG="en-SG",e.enUS="en-US",e.enZA="en-ZA",e.esAR="es-AR",e.esCL="es-CL",e.esCO="es-CO",e.esES="es-ES",e.esMX="es-MX",e.fiFI="fi-FI",e.frBE="fr-BE",e.frCA="fr-CA",e.frCH="fr-CH",e.frFR="fr-FR",e.heIL="he-IL",e.huHU="hu-HU",e.idID="id-ID",e.itIT="it-IT",e.jaJP="ja-JP",e.koKR="ko-KR",e.nbNO="nb-NO",e.nlBE="nl-BE",e.nlNL="nl-NL",e.plPL="pl-PL",e.ptBR="pt-BR",e.ptPT="pt-PT",e.ruRU="ru-RU",e.skSK="sk-SK",e.svSE="sv-SE",e.thTH="th-TH",e.trTR="tr-TR",e.viVN="vi-VN",e.zhCN="zh-CN",e.zhHK="zh-HK",e.zhTW="zh-TW",e.ukUA="uk-UA",e.roRO="ro-RO",e.hrHR="hr-HR",e.srLatnRS="sr-Latn-RS",e.bsLatnBA="bs-Latn-BA",e.slSI="sl-SI",e.etEE="et-EE",e.lvLV="lv-LV",e.ltLT="lt-LT",e.isIS="is-IS",e.deLI="de-LI",e.bgBG="bg-BG",e.enCY="en-CY",e.mtMT="mt-MT",e.frLU="fr-LU",e.deLU="de-LU",e.sqAL="sq-AL",e.kaGE="ka-GE",e.mkMK="mk-MK",e.roMD="ro-MD",e.ruMD="ru-MD",e.srLatnME="sr-Latn-ME",e.esBO="es-BO",e.esCR="es-CR",e.esEC="es-EC",e.esSV="es-SV",e.esGT="es-GT",e.esHN="es-HN",e.esNI="es-NI",e.esPA="es-PA",e.esPY="es-PY",e.esPE="es-PE",e.esUY="es-UY",e.arBH="ar-BH",e.arKW="ar-KW",e.arOM="ar-OM",e.arQA="ar-QA",e.arDZ="ar-DZ",e.arEG="ar-EG",e.arLY="ar-LY",e.arMA="ar-MA",e.arTN="ar-TN"}(r||(r={}));const o=[],a=(r.arSA,r.csCZ,r.daDK,r.deDE,r.elGR,r.enGB,r.esMX,r.fiFI,r.frFR,r.heIL,r.huHU,r.idID,r.itIT,r.jaJP,r.koKR,r.nbNO,r.nlNL,r.plPL,r.ptBR,r.ruRU,r.skSK,r.svSE,r.thTH,r.trTR,r.viVN,r.zhCN,e=>{const t=[];for(const n of Object.values(r))!e&&o.includes(n)||t.push(n.toString().toLowerCase());return t})},23060:(e,t,n)=>{"use strict";n.d(t,{$t:()=>o,EK:()=>r,K5:()=>i,NL:()=>s,TY:()=>l,Y$:()=>a});const r="xbcpreview",o="/auth/msa",a="/auth/msa/blank.html",i="user.read",s="29663c6d-b490-4c35-a2ab-1e1342d9fc0b",l="72f988bf-86f1-41af-91ab-2d7cd011db47"},29075:(e,t,n)=>{"use strict";n.d(t,{gV:()=>X,t8:()=>ln,lP:()=>W.lP,HR:()=>Oe,m3:()=>cn.m,a7:()=>$.a,J9:()=>Et,fP:()=>Ct,e:()=>K.e,w8:()=>dn.w8,Xt:()=>an,c:()=>Le,tP:()=>un.tP,fE:()=>j.f,NW:()=>W.NW});n(6886);var r=n(24117),o=n(4802),a=n(73844),i=n(69821),s=n(71972),l=n(61975),c=n(16216),u=n(12524),d=n.n(u),h=n(2784),m=n(18671),p=n(74495),g=(n(65103),n(24923)),f=n.n(g),v=n(814),_=n.n(v),y=(n(64925),n(54819),n(67446)),b=n(15946),C=n(4517),E=n(56958);n(77950),n(88233),n(94908),n(60523);const S=e=>h.createElement(l.SV,null,(()=>h.createElement(C.AW,_()({},e)))),T=e=>h.createElement(S,_()(_()({},e),{},{render:t=>h.createElement(A,_()(_()({},t),e))})),A=e=>{const t=new URLSearchParams(e.location.search);if(e.queryParams)for(const[n,r]of Object.entries(e.queryParams))t.append(n,r);return h.createElement(C.l_,{to:{pathname:e.redirectTo,search:t.toString()}})};var w=n(33866),k=(n(85940),n(28248)),I=n(23060),P=n(4371);const R=()=>{const e=(0,p.useSelector)(c.g48),t=(0,C.TH)(),n=(0,p.useDispatch)(),r=(0,p.useSelector)(k.mh),o=()=>{n(c.ej0.navigateToPath(t,t,!0))};return h.createElement(h.Fragment,null,r?h.createElement(h.Fragment,null,h.createElement(l.hU,{className:P.s,iconName:e?l.E0.CheckMark:l.E0.Checkbox,title:"Toggle Preview",onClick:()=>(n(c.itn.setIsPreviewMode(!e)),(0,c.d8j)({name:I.EK,value:`${!e}`}),void o())}),h.createElement(l.hU,{iconName:l.E0.Refresh,title:"Client Refresh",onClick:()=>o()}),h.createElement(l.hU,{className:P.e,iconName:l.E0.Refresh,title:"Server Refresh",onClick:()=>{window.location.reload()}})):h.createElement(l.hU,{className:P.s,iconName:l.E0.Lock,title:"Sign In to enable preview",onClick:()=>window.location.replace("/aad/login")}))};var x=n(72795),N=n(3358),O=n(38870);const L=e=>{let{htmlContent:t,className:n}=e;return t?h.createElement("div",{className:n,dangerouslySetInnerHTML:{__html:t}}):null},M=()=>{const e=(0,p.useSelector)(c.Pej);return e===c.ZOQ.Off?null:h.createElement(D,{mode:e})},D=e=>{let{mode:t}=e,n=(0,p.useSelector)(c.LyP);n=n===c.Q2A.DarkHeader?c.Q2A.Light:n;const r=(0,p.useSelector)((e=>(0,c.fUH)(e,n)));return h.createElement(N.Z,{mode:"out-in"},h.createElement(O.Z,{key:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-footer"},h.createElement(L,{htmlContent:r,className:d()("uhf-footer",{"uhf-dark":n===c.Q2A.Dark},`uhf-footer-mode-${t.toLowerCase()}`)})))};n(4173),n(16401);let U;const F=()=>{const e=(0,p.useSelector)(c.Xwy);return e===c.Grh.Off?null:h.createElement(B,{mode:e})},B=e=>{let{mode:t}=e;const n=(0,p.useSelector)(c.LyP),r=(0,p.useSelector)((e=>(0,c.BtQ)(e,n))),o=(0,h.useCallback)((()=>{U&&(U(),setTimeout((()=>{var e,t,n;(null===(e=globalThis.window)||void 0===e?void 0:e.innerWidth)<=1400&&(null===(n=null===(t=globalThis.window)||void 0===t?void 0:t.MeControl)||void 0===n?void 0:n.API.setDisplayMode)&&globalThis.window.MeControl.API.setDisplayMode("compact")}),100))}),[]);return(0,h.useEffect)((()=>{const e=setTimeout(o,100);return()=>clearTimeout(e)}),[o]),h.createElement(N.Z,{mode:"out-in"},h.createElement(O.Z,{key:n===c.Q2A.DarkHeader?c.Q2A.Dark:n,in:!0,timeout:{appear:300,enter:300,exit:100},classNames:"uhf-header",onEntered:o},h.createElement(L,{htmlContent:r,className:d()("uhf-header",{"uhf-dark":n===c.Q2A.Dark||n===c.Q2A.DarkHeader},{"static-header":n!==c.Q2A.DarkHeader},`uhf-header-mode-${t.toLowerCase()}`)})))};var H=n(3286);const q=["key","constraint","experimentBasedRedirect","theme","testConfig"],G=()=>{const[e,t]=(0,h.useState)({}),n=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableTestNav))),r=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableTestTools))),o=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableContentPreviewTools))),a=(n,r)=>{t(_()(_()({},e),{},{[n]:r}))},i=[{key:"NavLinks",glyph:l.E0.LeftNavButton,component:w.R,buttonTitle:"Navigation Links"},{key:"Tools",glyph:l.E0.Settings,component:x.X,buttonTitle:"Tools"}];return(n||r)&&h.createElement(b.FocusContainer,{id:"test-panel-root-container"},h.createElement("div",{id:"test-panel-trigger-container",className:H.G},i.map((e=>h.createElement(l.hU,{"aria-label":e.buttonTitle,iconName:e.glyph,key:e.key,onClick:()=>a(e.key,!0),title:e.buttonTitle}))),o&&h.createElement(R,null)),i.map((t=>h.createElement(t.component,{key:t.key,isOpen:!!e[t.key],onRequestClose:()=>a(t.key,!1)}))))},z=()=>{const e=(0,p.useSelector)(c.TrC),t=G(),n=(0,p.useSelector)(c.Yzi),r=(0,p.useSelector)(c.Xnf).userAgent,o=(0,y.hA)(null!==r&&void 0!==r?r:"");return h.createElement(h.Fragment,null,h.createElement(l.Db,null),h.createElement(l.ef,null),h.createElement(E.x,null),!o&&h.createElement(F,null),h.createElement("div",{role:"main",className:H._,id:"PageContent",tabIndex:-1},h.createElement(C.rs,null,(0,c.sQA)().map((t=>{let{key:r,constraint:o,experimentBasedRedirect:a,theme:i,testConfig:s}=t,l=f()(t,q);return(0,c.ehd)(o,e,n)?h.createElement(S,_()({key:r},l)):a&&!1===(0,c.QLG)(e,a.featureGate)?h.createElement(T,{key:r,path:l.path,redirectTo:a.redirect,queryParams:a.redirectQueryParams}):void 0})))),!o&&h.createElement(M,null),t)};n(73708);const X=()=>{const e=(0,p.useSelector)(c.gzb),t=e===c.Q2A.Dark,[n,u]=(0,h.useState)(s.CC.DefaultDark),[g,f]=(0,h.useState)(""),v=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.EnableCookieSourceDebugConsole)));(0,h.useEffect)((()=>{(e=>{let t;switch(e){case c.Q2A.Light:case c.Q2A.DarkHeader:t=s.CC.DefaultLight;break;case c.Q2A.Dark:default:t=s.CC.DefaultDark}(0,s.jz)(t).then((()=>{u(t)}))})(e)}),[e]);const _=(e=>{switch(e){case c.Q2A.Light:case c.Q2A.DarkHeader:return r.Q.Light;case c.Q2A.Dark:return r.Q.Dark}})(e);return(0,h.useEffect)((()=>{document.body.classList.toggle("theme-dark",t)}),[t,n]),(0,h.useEffect)((()=>{f(navigator.platform)}),[]),h.createElement(l.SV,null,(()=>h.createElement("div",{className:d()("appBackground",{"theme-dark":t})},h.createElement(o.E.Provider,{value:{theme:_,themeVersion:a.g.WebPolaris,userColors:i.I.XboxGreen}},h.createElement(m.q,null,h.createElement("html",{"data-platform":g}),v&&h.createElement("script",null,"origDescriptor = Object.getOwnPropertyDescriptor(Document.prototype, 'cookie');\n                    Object.defineProperty(document, 'cookie', {\n                      get() {\n                        return origDescriptor.get.call(this);\n                      },\n                      set(value) {\n                        let obj = {};\n                        try { Error.captureStackTrace(obj, value); }\n                        catch(e) { obj = e; } // this is needed to make it work in FF\n                        console.log(\"Cookie: \", value);\n                        console.log(\"Cookie Stack: \", obj.stack);\n                        return origDescriptor.set.call(this, value);\n                      },\n                      enumerable: true,\n                      configurable: true\n                    });"),h.createElement("body",{"data-theme":(0,s.ES)(n)})),h.createElement(l.pQ,null),h.createElement(z,null)))))};var $=n(71589),V=(n(56159),n(87342)),W=n(5866);var K=n(56231),j=n(46778),Z=(n(11017),n(71372),n(73439),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456),n(22799)),Y=n(45595),Q=n(17029),J=n(47933),ee=n(92397),te=n(88767),ne=n(31),re=n(61030);var oe=n(94840);const ae="telemetry",ie="authentication",se="cookies",le="session",ce="partners";n(34715),n(26464),n(19570);var ue=n(21883),de=n(20608),he=n(92642),me=n(77404),pe=(n(36728),n(31235),n(74069),n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183),n(48889)),ge=n(26411),fe=n(18796),ve=n(60384),_e=n(66465),ye=n(19001),be=n(2224),Ce=n(56106),Ee=n(68651),Se=n(53457),Te=n(84790),Ae=n(24113),we=n(60827),ke=n(5590),Ie=n(58326),Pe=n(64776),Re=n(33344),xe=n(68997);const Ne=Se.gE;Te._,Ae.N1,we.k,ke._,Ie.m,Pe.E,Re.g;("undefined"===typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,xe.r)();var Oe;n(17368),n(24471);!function(e){e.FullLocale="FullLocale",e.Language="Language",e.Market="Market",e.Script="Script",e.SitePath="SitePath"}(Oe||(Oe={}));Oe.Language,Oe.Script;const Le=new RegExp(`^/(?<${Oe.FullLocale}>(?<${Oe.Language}>[a-z]{2,4})-?(?<${Oe.Script}>[a-z]{4})?-(?<${Oe.Market}>[a-z]{2}|[0-9]{3}))(?<${Oe.SitePath}>[/?].*)?$`,"i");n(74407),n(64903);const Me=Object.keys("MISSING_ENV_VAR").reduce(((e,t)=>(e[t]="MISSING_ENV_VAR"[t],e)),{BUILD_BUILDNUMBER:"1.1.2407.0110"});let De=!1;const Ue=Math.random().toString();function Fe(){var e;return"true"===(null===(e=document.querySelector('meta[name="sentry-sampled"]'))||void 0===e?void 0:e.getAttribute("content"))}const Be=new Map;async function He(e,t){if((null===t||void 0===t?void 0:t.partnerId)&&Be.has(t.partnerId))return Be.get(t.partnerId);if(null===t||void 0===t?void 0:t.lazyConfig){const n=await t.lazyConfig();if(n.getSentryBrowserOptions){const r=await n.getSentryBrowserOptions(e),o=r?Ge(r):null;return Be.set(t.partnerId,o),o}}return function(e){let{environment:t,sampledOnService:n,reduxStateOnInitialNavigation:r}=e;var o;if(Be.has("default"))return Be.get("default");const a=Ge({dsn:"https://86d661e5a4214309841b65c6b52ad6c5@o741402.ingest.sentry.io/5932552",release:"1.1.2407.0110",dist:"1.1.2407.0110",attachStacktrace:!0,environment:t,debug:"production"!==t,integrations:e=>(e.push(new ge.Iq),e.push(new ve.jK.Breadcrumbs({console:!1,fetch:!1,xhr:!1})),e.push(new ve.jK.TryCatch({setInterval:!1,setTimeout:!1,requestAnimationFrame:!1,XMLHttpRequest:!0,eventTarget:!0})),e.push(new Ne),e.push(new fe.S),e),sampleRate:(null!==(o=(0,c.XTy)(r,c.vCX.ClientErrorSampleRate))&&void 0!==o?o:0)/1e5,tracesSampler:()=>n});return Be.set("default",a),a}(e)}async function qe(e,t,n){let r=t;const o=t.match(Le);if(null===o||void 0===o?void 0:o.groups){const e=o.groups[Oe.FullLocale];r=t.replace(`${e}/`,"")}const a={environment:ze(),sampledOnService:Fe(),reduxStateOnInitialNavigation:e},i=n.getPartnerConfigForPath(r),s=await He(a,i),l=_e.Gd(),c=l.getClient();c!==s&&(c&&(l.captureSession(!0),c.close()),s?(l.bindClient(s),l.startSession(),l.captureSession()):l.bindClient(void 0))}function Ge(e){return new ye.R(_()(_()({},e),{},{stackParser:be.Dt,integrations:(0,pe.m8)(e),transport:e=>Ce.f(e)}))}function ze(){const e=window.location.hostname,t=Me.SENTRY_PROD_HOST_NAME||"xbox.com",n=Me.SENTRY_INT_HOST_NAME_ID||"origin-int";return e===t||e===`www.${t}`?"production":e.includes(n)?"integration":"development"}function*Xe(){const e=yield(0,V.Si)(),t=yield(0,de.select)(k.PY),n=(0,ue.getDataOrPrevious)(t);!0===(null===n||void 0===n?void 0:n.optionalDataCollectionValue)?(e.logger().info(`[sentrySagas] Sentry is being initialized because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),yield $e()):(e.logger().info(`[sentrySagas] Sentry is being shut down because the user's ODC value is set to ${null===n||void 0===n?void 0:n.optionalDataCollectionValue}`),he.xv(0).then((function(t){t?e.logger().info("[sentrySagas] Sentry events queue flushed and closed successfully."):e.logger().warn("[sentrySagas] Sentry events queue could not be flushed within the timeout or no client is defined.")}),(function(t){e.logger().error("[sentrySagas] Failed to flush and close Sentry events queue.",t)})))}function*$e(){const e=yield(0,V.Si)();e.logger().info("[sentrySagas] initializeSentrySaga()");!async function(e,t){Me.BUILD_BUILDNUMBER&&""!==Me.BUILD_BUILDNUMBER&&(Ee.S({}),qe(e,window.location.pathname,t),he.av({id:Ue}),De=!0)}(yield(0,de.select)(),yield(0,de.getContext)(ce)),async function(e){De&&he.av({id:e})}(e.cv().initialCv)}function*Ve(){yield(0,de.takeLatest)(k.EJ.SUBMIT_CONSENT_SUCCESS,Xe),yield(0,de.takeLatest)(k.EJ.FETCH_PRIVACY_CONSENT_SUCCESS,Xe),yield(0,de.takeLatest)(me.K.INIT,$e)}n(14121);var We=n(51175),Ke=n(87995);function je(e){this.message=e}je.prototype=new Error,je.prototype.name="InvalidCharacterError";var Ze=window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new je("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,a=0,i="";r=t.charAt(a++);~r&&(n=o%4?64*n+r:r,o++%4)?i+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return i};function Ye(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Ze(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return Ze(t)}}function Qe(e){this.message=e}Qe.prototype=new Error,Qe.prototype.name="InvalidTokenError";const Je=function(e,t){if("string"!=typeof e)throw new Qe("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Ye(e.split(".")[n]))}catch(e){throw new Qe("Invalid token specified: "+e.message)}},et=(e,t)=>({text:e,link:t}),tt=e=>{const t=(0,c.upz)(),{msaUserInteractionRequiredBannerMessage:n,signInLink:r,closeBanner:o}=(0,re.y_)("msaUserInteractionRequiredBannerMessage","signInLink","closeBanner"),a=!!e.error,i=a?l.pF.Error:l.pF.Warning,s=[et(r,t)],u=(e=>({text:e,onClick:l.au.hideAllBanners}))(o),d=(0,V._d)({contentName:a?"Authentication Error Banner Alert":"Authentication Warning Banner Alert",templateName:"AuthenticationBannerAlertComponent"},e.contentTelemetry);return h.createElement(l.bZ,{level:i,text:n,actions:s,closeAction:u,contentTelemetry:d})},nt="CFQ7TTC0KGQ8";let rt,ot,at;const it=e=>{const t=window.location.pathname.toLocaleLowerCase().indexOf(nt.toLowerCase())>0?at(window.location.href):rt(window.location.href);window.location.href=t,e.preventDefault()},st=e=>{const t=ot(window.location.href);window.location.href=t,e.preventDefault()},lt=e=>{if(!e.userInfo||e.authenticationState!==c.zGj.MsaAndXbox)return{idp:"msa",authenticatedState:"3"};const{firstName:t,lastName:n,email:r,cid:o,gamerTag:a,publicGamerPic:i,accountTier:s}=e.userInfo;return{idp:"msa",authenticatedState:"1",firstName:t,lastName:n,memberName:r,cid:o,accountTier:s,nickName:a,tileUrl:i}},ct=(e,t)=>{if(t)return{type:"aad",authenticatedState:"signedIn",displayName:t.name};if(!e.userInfo||e.authenticationState!==c.zGj.MsaAndXbox)return;const{firstName:n,lastName:r,email:o,cid:a,gamerTag:i,publicGamerPic:s}=e.userInfo;return{type:"msa",authenticatedState:"signedIn",firstName:n,lastName:r,cid:a,memberName:o,pictureUrl:s,profile:{profileName:i,profilePictureUrl:s}}},ut=e=>{U=()=>{window.msCommonShell&&window.msCommonShell.load(e)},(()=>{var e,t,n,r;null===(e=window.MeControl)||void 0===e||e.API.removeEventListener("beforesignin",it),null===(t=window.MeControl)||void 0===t||t.API.removeEventListener("beforesignoutfromapp",st),null===(n=window.MeControl)||void 0===n||n.API.addEventListener("beforesignin",it),null===(r=window.MeControl)||void 0===r||r.API.addEventListener("beforesignoutfromapp",st)})()},dt=(e,t,n,r,o,a,i)=>(rt=o,ot=a,at=i,new Promise((o=>{const a=((e,t,n)=>n?{meControlOptions:{apiGeneration:"GEN2",currentAccount:ct(e,t),authProviderConfig:{type:"webMsaOnly",appSignInUrl:"https://sample.microsoft.com/auth/signIn",appSignInToUrl:"https://sample.microsoft.com/auth/signInTo",appSignOutUrl:"https://sample.microsoft.com/auth/signOut",appSwitchUrl:"https://sample.microsoft.com/auth/switch",appSwitchToUrl:"https://sample.microsoft.com/auth/signInTo",msa:{signOutAndForgetUrl:"https://login.live.com/logout.srf?ct=1544212397&rver=6.7.6631.0&id=000000&ru=https:%2F%2Fsample.microsoft.com%2F",rememberedAccountsUrl:"https://login.live.com/Me.srf?wa=wsignin1.0&rpsnv=13&ct=1544212396&rver=6.7.6631.0&wp=MBI_SSL&wreply=https:%2F%2Fsample.microsoft.com%2F&id=000000"}},appContextConfig:{commands:[{type:"link",id:"xboxprofilelink",text:"Xbox profile",ariaLabel:"Xbox profile",openInNewTab:!1,url:"https://account.xbox.com/Profile?xr=mebarnav"},{type:"link",id:"xboxsettingslink",text:"Xbox settings",ariaLabel:"Xbox settings",openInNewTab:!1,url:"https://account.xbox.com/Settings/Home/?xr=mebarnav#"},{type:"link",id:"xboxsubscriptions",text:"Subscriptions",ariaLabel:"Subscriptions",openInNewTab:!1,url:"https://account.microsoft.com/services?ref=xboxme"},{type:"link",id:"xboxredeemcode",text:"Redeem code",ariaLabel:"Redeem code",openInNewTab:!1,url:"https://redeem.microsoft.com/enter?ref=xboxcom"}]}}}:{meControlOptions:{apiGeneration:"GEN1",rpData:{msaInfo:{signInUrl:window.location.pathname.toLocaleLowerCase().indexOf(nt.toLowerCase())>0?at(window.location.href):rt(window.location.href),signOutUrl:ot(window.location.href)}},userData:lt(e)}})(e,t,r);window.msCommonShell?(window.msCommonShell.load(a),ut(a),o(!0)):window.onShellReadyToLoad=()=>{window.onShellReadyToLoad=null,window.msCommonShell?(window.msCommonShell.load(a),ut(a),o(!0)):(n.warn("Unable to find msCommonShell global object to initialize me control"),o(!1))}})));class ht extends k.j2{constructor(e){super(e.telemetryProvider.logger()),this.gamertagToGamerpicUrl=new Map,this.clientAuthProviderV3=e.clientAuthProviderV3,this.dispatch=e.dispatch,this.aadUserGetter=e.aadUserGetter,this.getAccountSignInUrl=e.getAccountSignInUrl,this.getAccountSignOutUrl=e.getAccountSignOutUrl,this.getCoBrandingSignInUrl=e.getCoBrandingSignInUrl,this.useV2MeControl=e.useV2MeControl,this.telemetryProvider=e.telemetryProvider,this.serverUserXuid=e.serverUserXuid,this.lastAuthenticationDate=this.clientAuthProviderV3.lastAuthenticationDate(),this.setupAadTokenRefresh(),this.updateUserInfoState(),this.clientAuthProviderV3.addEventListener("activeAuthUserChanged",(()=>{this.updateUserInfoState()}))}static async create(e){var t;const n=new URLSearchParams(globalThis.location.search).get("sid"),r=globalThis.parent!==globalThis.window,o=await k.Iz.create({telemetryProvider:e.telemetryProvider,locale:e.locale,defaultRedirectUrl:I.$t,silentRedirectUri:I.Y$,msaSessionId:r&&n?n:void 0,cookiesProvider:e.cookiesProvider,isSisuUcsSupportEnabled:null!==(t=e.isSisuUcsSupportEnabled)&&void 0!==t&&t,skipLoginRedirectCounter:e.skipLoginRedirectCounter});return new ht(_()(_()({},e),{},{clientAuthProviderV3:o}))}getAuthProvider(){return this.clientAuthProviderV3}startSignInWithRedirect(e,t){var n;return this.cancelAadTokenRefresh(),null===(n=this.hideMsaUserInteractionRequiredBannerAlert)||void 0===n||n.call(this),this.clientAuthProviderV3.startSignInWithRedirect({returnUrlAfterSignIn:e,prompt:null===t||void 0===t?void 0:t.prompt})}async completeSignInAfterRedirectIfNeeded(){try{const e=await this.clientAuthProviderV3.completeSignInAfterRedirectIfNeeded();return await this.updateUserInfoState(),e}catch(e){const t=(0,Z.toError)(e);if(t instanceof k.cE)return this.clientAuthProviderV3.completeSignInAfterRedirectFromSisu();throw t}}startSignOutWithRedirect(e,t){return this.dispatch(k.hI.resetUserInfo()),this.clientAuthProviderV3.startSignOutWithRedirect({returnUrlAfterSignOut:e,msaSessionId:t})}async getMsaAccessTokenSilently(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)throw new Error("getMsaAccessTokenSilently failed; user is not signed into MSA.");if(e.isFullUser())try{const o=this.clientAuthProviderV3.createMsaCorrelationId();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return await e.msaTokenProvider.getMsaAccessToken({correlationId:o,scopes:n})}catch(o){const e=(0,Z.toError)(o);throw this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in getMsaAccessTokenSilently ${e.message}`),e instanceof k.gz&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert(),o}}async isAuthenticated(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return!1;const t=(0,k.IL)();if(!e.isFullUser())return!0;try{return await Promise.all(t.map((t=>e.getOrFetchXboxToken(t)))),!0}catch(n){return!1}}isTokenExpired(e){const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return!1;const n=t.getXboxTokenLCE(e);return!!(0,ue.isContent)(n)&&(0,ue.isExpired)(n)}async refreshMeControl(e){var t,n,r;const o=this.aadUserGetter(),a=null!==e&&void 0!==e?e:await this.getUserInfoFromXboxLiveToken();dt({userInfo:a?_()(_()({},a),{},{firstName:null!==(t=a.firstName)&&void 0!==t?t:"",lastName:null!==(n=a.lastName)&&void 0!==n?n:"",email:null!==(r=a.email)&&void 0!==r?r:"",publicGamerPic:a.gamerPicUrl}):void 0,authenticationState:a?c.zGj.MsaAndXbox:c.zGj.None},o?{authenticatedState:c.kac.SignedIn,name:o.name||"",email:o.upn||""}:void 0,this._logger,this.useV2MeControl,this.getAccountSignInUrl,this.getAccountSignOutUrl,this.getCoBrandingSignInUrl)}async loadExternalTokensAndSignIn(e,t,n){await this.clientAuthProviderV3.signInWithExternalMsaTokens({serverAuthorizationTokenResponse:e,requestTimestamp:t})}createMsaCorrelationId(){return Promise.resolve(this.clientAuthProviderV3.createMsaCorrelationId())}__unstable__dev_tools(){return{showExpiredBanner:()=>this.showMsaUserInteractionRequiredBannerAlert()}}getCachedTokensInternal(){const e=this.clientAuthProviderV3.getActiveAuthUser();if(!e)return{};const t={};return Object.values(k.Q7).forEach((n=>{const r=e.getXboxTokenLCE(n),o=(0,ue.getUnexpiredDataOrPrevious)(r);if(o){const{tokenData:e}=o;t[n]={token:e.token,expires:e.expiration,userHash:e.userHash,privileges:e.userPrivileges}}})),t}async acquireTokenAsyncInternal(e){if(!(0,k.p5)().includes(e))throw new Error("[ClientAuthenticationProviderV2BackCompat] Attempt to acquire token for unknown relying party.");const t=this.clientAuthProviderV3.getActiveAuthUser();if(t&&t.isFullUser())try{const{tokenData:n}=await t.getOrFetchXboxToken(e);return{token:n.token,expires:n.expiration,userHash:n.userHash,privileges:n.userPrivileges}}catch(n){const e=(0,Z.toError)(n);return this._logger.verbose(`[ClientAuthenticationProviderV2BackCompat] Error in acquireTokenAsyncInternal ${e.message}`),void(e instanceof k.gz&&e.requiresInteraction&&this.showMsaUserInteractionRequiredBannerAlert())}}async updateUserInfoState(){try{await this.clientAuthProviderV3.attemptV2ToV3UserTransition();const e=await this.getUserInfoFromXboxLiveToken();if(!e){const e=this.clientAuthProviderV3.getActiveAuthUser();return e&&e.isSessionUser()?void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] User is a session user, so not going to resetUserInfo. Exiting early"):(this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No user info found in updateUserInfoState. Going to clear userInfo"),this.dispatch(k.hI.setUserInfo(!1,{userInfo:void 0,isDefaultUserAgeGatingInfo:!0})),void await this.refreshMeControl())}if(this.serverUserXuid&&this.serverUserXuid!==e.xuid){this._logger.warn("[ClientAuthenticationProviderV2BackCompat] - Server user XUID does not match client user XUID. Handling mismatch.");const e=this.clientAuthProviderV3.getActiveAuthUser();null===e||void 0===e||e.destroy();const t=new URL("/auth/clean-up",window.location.origin),n=new URL(window.location.href),r=new URLSearchParams(n.search);n.search=r.toString();const o=new URLSearchParams;throw o.set("returnUrl",n.toString()),t.search=o.toString(),window.location.href=t.toString(),await new Promise((e=>{setTimeout(e,5e3)})),new Error("Server user xuid does not match client user xuid")}this.dispatch(k.hI.setUserInfo(!0,{userInfo:e,isDefaultUserAgeGatingInfo:!e})),await this.refreshMeControl(e)}catch(e){const t=(0,Z.toError)(e);this._logger.error("[ClientAuthenticationProviderV2BackCompat] Error in updateUserInfoState",t)}}async getUserInfoFromXboxLiveToken(){var e;const t=this.clientAuthProviderV3.getActiveAuthUser();if(!t)return;const n=t.getXboxTokenLCE(k.Q7.XboxLive),r=(0,ue.getDataOrPrevious)(n);if(!r)return void this._logger.verbose("[ClientAuthenticationProviderV2BackCompat] No XboxLive token found in getUserInfoFromXboxLiveToken.");const o=r.tokenData;if(!o.userXuid||!o.userGamertag)return void this._logger.warn("[ClientAuthenticationProviderV2BackCompat] No userXuid or userGamertag found in XboxLive token in getUserInfoFromXboxLiveToken.");let a="",i="";t.isFullUser()&&(a=null!==(e=t.msaName)&&void 0!==e?e:"",i=t.msaUsername);const s=await this.getOrFetchGamerpic(o.userGamertag);return s||this._logger.warn("[ClientAuthenticationProviderV2BackCompat] Failed to getOrFetchGamerpic for gamertag"),{firstName:a,lastName:"",email:i,xuid:o.userXuid,gamerTag:o.userGamertag,ageGroup:o.userAgeGroup?c.zHJ[o.userAgeGroup]:void 0,privileges:o.userPrivileges,gamerPicUrl:s}}setupAadTokenRefresh(){this.cancelAadTokenRefresh(),this.refreshAadTimeout=setInterval((async()=>{await this.fetchUpdatedAadToken()}),9e5)}cancelAadTokenRefresh(){this.refreshAadTimeout&&clearInterval(this.refreshAadTimeout)}async fetchUpdatedAadToken(){const e=this.aadUserGetter();try{if(e){const t=await fetch("/aad/refresh");if(!t.ok)throw this._logger.error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed."),new Error("[ClientAuthenticationProviderV2BackCompat] Token refresh failed.");const n=await t.text(),r=Je(n),o=_()(_()({},e),{},{exp:r.exp});this.dispatch(k.hI.updateAadUser(o,n))}}catch(t){this.dispatch(k.hI.updateAadUser(void 0,void 0))}}async getOrFetchGamerpic(e){var t;const n=this.gamertagToGamerpicUrl.get(e);if(n)return n;const r=(0,Ke.mm)(this.telemetryProvider),o=this.telemetryProvider.cv().increment(),a=encodeURIComponent(e),i=We.RequestFactory.withBaseUrl("https://peoplehub-public.xboxlive.com").setCommonHeaders({[We.HttpHeader.ContentType]:"application/json",[We.HttpHeader.XXBLContractVersion]:"1"}).setCommonMetadataValue(V.XP,{dependencyName:V.JS.PeopleHub,dependencyOperationName:"people/gt"}).setCommonMaxRetries(We.DEFAULT_MAX_RETRIES);try{const n=await r.execute(i.get(`people/gt(${a})`,{headers:{"ms-cv":o,[We.HttpHeader.ContentType]:"application/json",[We.HttpHeader.XXBLContractVersion]:"3",[We.HttpHeader.AcceptLanguage]:"*","x-xbl-client-name":"xbox.com","x-xbl-client-type":"web"}})),s=null===(t=n.data.people[0])||void 0===t?void 0:t.displayPicRaw;if(!s)return;return this.gamertagToGamerpicUrl.set(e,s),s}catch(s){const t=(0,Z.toError)(s);return void this._logger.error(`[ClientAuthenticationProviderV2BackCompat] Failed to fetch gamerpic for gamertag: ${e}`,t)}}showMsaUserInteractionRequiredBannerAlert(){globalThis.location.pathname.includes(I.$t)||this.hideMsaUserInteractionRequiredBannerAlert||(this.hideMsaUserInteractionRequiredBannerAlert=l.au.displayBanner((()=>h.createElement(tt,null))))}}function*mt(){const e=yield(0,de.call)(gt),t=yield(0,V.Si)();e?(t.logger().info("[authSaga] Fetching privacy consent"),yield(0,de.all)([(0,de.take)([k.hI.fetchPrivacyConsent.success,k.hI.fetchPrivacyConsent.error]),(0,de.put)(k.hI.fetchPrivacyConsent.start(!1))])):t.logger().info("[authSaga] User is not an adult user, skipping consent fetch")}function*pt(e){yield(0,de.all)([(0,de.take)([c.pb1.FETCH_EXPERIMENT_DATA_ERROR,c.pb1.FETCH_EXPERIMENT_DATA_SUCCESS]),(0,de.put)(c.D65.requestExperimentDataFetch(e))])}function*gt(){const e=yield(0,k.le)(),t=e instanceof k.Iz?e:e instanceof ht?e.clientAuthProviderV3:void 0;if(!t)return!1;const n=t.getActiveAuthUser();if(!n)return!1;const r=n.getXboxTokenLCE(k.Q7.XboxLive),o=(0,ue.getDataOrPrevious)(r);return o&&o.tokenData.userAgeGroup===c.zHJ.Adult}const ft=function*(){const e=yield(0,k.le)(),t=e instanceof k.Iz?e:e instanceof ht?e.clientAuthProviderV3:void 0;if(t){if(!t.initialized){const e=(0,ee.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("initialized",n),()=>t.removeEventListener("initialized",n)}));yield(0,de.take)(e),e.close()}t.getActiveAuthUser()?(yield(0,de.call)(mt),yield(0,de.call)(pt,c.lO9.SilentSignIn)):yield(0,de.call)(pt,c.lO9.SignInUnavailable),yield(0,de.put)(c.itn.setBootstrapInitialized());const e=(0,ee.eventChannel)((e=>{const n=t=>{e(t)};return t.addEventListener("activeAuthUserChanged",n),()=>t.removeEventListener("activeAuthUserChanged",n)}));yield(0,de.takeEvery)(e,(function*(e){e.authStateChange!==k.qX.SignInUnavailable&&(yield(0,de.call)(mt)),yield(0,de.put)(c.D65.requestExperimentDataFetch((e=>{switch(e){case k.qX.DeviceCodeSignIn:return c.lO9.DeviceCodeSignIn;case k.qX.InteractiveSignIn:return c.lO9.InteractiveSignIn;case k.qX.SignInUnavailable:return c.lO9.SignInUnavailable;case k.qX.SilentSignIn:return c.lO9.SilentSignIn}return c.lO9.Unknown})(e.authStateChange)))}))}else yield(0,de.put)(c.itn.setBootstrapInitialized())};async function vt(e){let{locale:t,clientIp:n,telemetryProvider:r,authenticationProvider:o,isStaging:a,anonToken:i,deviceId:s,platform:l}=e;const u=function(e){let{deviceId:t,locale:n,clientIp:r,platform:o}=e;const a=new URLSearchParams;return t&&a.append("deviceId",t),r&&a.append("clientIp",r),o&&a.append("platform",o),a.append("appVersion",c.xUA.BUILD_VERSION),a.append("env",c.xUA.DEPLOYMENT_ENV),a.append("locale",n),`experimentation?${a.toString()}`}({deviceId:s,locale:t,clientIp:n,platform:l});try{const e=await(0,Ke.S)(u,{addAuthorization:!0,isRequired:!1},r,o,{anonToken:i},{aadToken:"",isMandatory:!1},{dependencyName:V.JS.EmeraldXbetService,dependencyOperationName:"Experimentation"},a,{[Ke.zF.MsApiVersion]:"2.0"});if(!(0,c.hAT)(e.status)||!e.data)throw new Ke.C("Failed to get data for experimentation",e.status);return e.data.exp}catch(d){const e=(0,Z.toError)(d);return void r.logger().error("Experimentation info fetch failed.",e)}}function*_t(e){const t=(yield(0,c.FMS)()).get(c.jmv),n=yield(0,k.le)(),r=yield(0,de.call)([n,n.isAuthenticated]),o=yield(0,de.select)(c.LAY);((0,ue.isError)(o)||r||t)&&(yield(0,de.put)(c.D65.setExperimentDataToLoading()),yield function*(e,t,n){try{const r=yield(0,k.le)(),o=yield(0,de.select)(c.yWe),a=yield(0,de.select)(c.Xnf),i=yield(0,de.select)(c.$Pr,c.vCX.StagingFD),s=yield(0,V.Si)(),l=new y.LK(null===a||void 0===a?void 0:a.userAgent),u=yield(0,de.call)(vt,{locale:o.localeWithScript,clientIp:a.forwardedIp,telemetryProvider:s,authenticationProvider:r,anonToken:a.anonToken,isStaging:i,deviceId:n,platform:l.osName});if(!u)throw new Error("Failed to fetch experimentation data");{yield(0,de.put)(c.D65.fetchExperimentDataSuccess(u));const r=yield(0,de.select)(k.PY);s.logExperimentationSnapshot(u,_()({experimentDataUpdateReason:e},(0,ue.getDataOrPrevious)(r)),!!n,!!t)}}catch(r){const e=(0,Z.toError)(r);yield(0,de.put)(c.D65.fetchExperimentDataError(e))}}(e.assignmentUpdateTrigger,r,t))}function*yt(){yield(0,de.takeLatest)(c.pb1.REQUEST_EXPERIMENT_DATA_FETCH,_t)}function*bt(e){const t=yield(0,de.select)(c.LAY);(0,ue.isFetching)(t)&&(yield(0,de.take)([c.pb1.FETCH_EXPERIMENT_DATA_SUCCESS,c.pb1.FETCH_EXPERIMENT_DATA_ERROR]));const n=yield(0,de.select)(c.TrC);return(0,c.QLG)(n,e)}function*Ct(e){const t=yield(0,de.call)(bt,e);if("string"===typeof t)return t}function*Et(e){const t=yield(0,de.call)(bt,e);if("boolean"===typeof t)return t}var St=n(93706);function*Tt(e){var t;let n;const r=new URLSearchParams(e);if(n=null===(t=(0,c.oB7)(r,Ke.cG.ThemeOverride))||void 0===t?void 0:t.value,n||(n=yield(0,de.select)(c.PE2,c.vCX.SiteThemeOverride)),n)switch(n.toLowerCase()){case"light":return c.Q2A.Light;case"dark":return c.Q2A.Dark}}const At=(e,t,n)=>{n?e.set(c.RmD,n,{essential:!0}):e.delete(c.RmD)};function*wt(e,t,n,r){const o=yield(0,de.call)(Tt,t),a=yield(0,c.FMS)();if(o)return yield(0,de.put)(c.uQd.setTheme(o)),void(yield(0,de.call)(At,a,e,o));let i,s=null===n||void 0===n?void 0:n.theme;if(!s&&(null===n||void 0===n?void 0:n.lazyConfig)){s=(yield(0,de.call)(n.lazyConfig)).theme}if(s&&n){const t=s;t&&(i=(e=>"function"===typeof e)(t)?yield(0,de.select)((r=>t(r,e,n))):t),i?(yield(0,de.put)(c.uQd.setTheme(i)),yield(0,de.call)(At,a,e,i)):r||(yield(0,de.put)(c.uQd.resetTheme()),yield(0,de.call)(At,a,e,void 0))}else{const e=a.get(c.RmD);let t;e&&(t=e in c.Q2A?c.Q2A[e]:void 0),t?yield(0,de.put)(c.uQd.setTheme(t)):yield(0,de.put)(c.uQd.resetTheme())}}function*kt(e,t,n,r){if(!e||!e.lazyConfig)return;const o=yield(0,de.call)(e.lazyConfig);if(o.fetchDataSaga&&(!e.requiresNewRequest||e.requiresNewRequest(e.path,t,n)||r)){const n=yield(0,de.select)(c.Yzi),r=yield(0,V.I4)(),a=yield(0,k.le)(),i=(0,c.ew0)(e,n);yield(0,de.put)(c.ej0.pageDataRequest.start(i));try{yield(0,de.call)(o.fetchDataSaga,e,t),yield(0,de.put)(c.ej0.pageDataRequest.success(i));let n=null===e||void 0===e?void 0:e.uhfConfig;if((0,St.a)(n)){n=yield(0,de.call)(n)}(null===n||void 0===n?void 0:n.headerMode)!==c.Grh.None&&(null===n||void 0===n?void 0:n.headerMode)!==c.Grh.Hidden&&a.refreshMeControl()}catch(je){const n=(0,Z.toError)(je);r.error(`Failed to fetch page data for path: ${t.pathname}`,n),yield(0,de.put)(c.ej0.pageDataRequest.error(i,n))}}}function*It(e,t,n){const r=yield(0,c.zUJ)(e.pathname),o=yield(0,de.getContext)(ce);yield(0,de.call)(o.loadConfigurationForPath,e.pathname),yield(0,de.call)(wt,e.pathname,e.search,r,!0),yield(0,de.call)(kt,r,e,t,n),yield(0,de.call)(wt,e.pathname,e.search,r,!1)}function*Pt(e){var t,n,r,o;const a=yield(0,c.zUJ)(e.newLocation.pathname);if(null===a||void 0===a?void 0:a.isServerOnly)(null===(n=null===(t=e.oldLocation)||void 0===t?void 0:t.pathname)||void 0===n?void 0:n.toLowerCase())!==(null===(o=null===(r=e.newLocation)||void 0===r?void 0:r.pathname)||void 0===o?void 0:o.toLowerCase())&&globalThis.location.reload();else{const t=yield(0,de.select)(),n=yield(0,de.getContext)(ce);yield(0,de.call)(qe,t,e.newLocation.pathname,n),yield(0,de.call)(It,e.newLocation,e.oldLocation,e.forceRefresh)}}function*Rt(){yield(0,de.takeEvery)(c.cP9.LOCATION_CHANGE,Pt)}function*xt(){(yield(0,V.Si)()).resetAuthenticationState()}function*Nt(){yield(0,de.takeEvery)(k.EJ.RESET_USER_INFO,xt)}function*Ot(){var e;const t=yield(0,de.select)(c.Yzi),n=yield(0,V.Si)(),r=yield(0,c.gjf)(),o=null!==(e=null===c.xUA||void 0===c.xUA?void 0:c.xUA.UHF_TARGETING_ID)&&void 0!==e?e:"Xbox_Com",a=yield(0,de.select)(c.$Pr,c.vCX.StagingFD),i=yield(0,de.select)(c.$Pr,c.vCX.DisableUhfWcp),s=yield(0,de.call)(Ke.Z0,`uhf?locale=${t}&targeting=${o}&cookieComplianceEnabled=${!i}`,n,r,{dependencyName:V.JS.EmeraldXbetService,dependencyOperationName:"UHF"},a,void 0,void 0,{timeout:15e3});if(!(0,c.hAT)(s.status)||!s.data)throw new Error("No data found from uhf response");return s.data}function*Lt(e){try{const e=yield(0,de.call)(Ot);if(!e)throw new Error("Failed to fetch metadata for UHF");yield(0,de.put)(c.j4h.fetchUhf.success(e))}catch(je){const t=(0,Z.toError)(je);console.error(t),yield(0,de.put)(c.j4h.fetchUhf.error(t))}}function*Mt(e){const t=yield(0,c.zUJ)(e);let n=null===t||void 0===t?void 0:t.uhfConfig;if((0,St.a)(n)){n=yield(0,de.call)(n)}const r=null===n||void 0===n?void 0:n.headerMode;r?yield(0,de.put)(c.j4h.setHeaderMode(r)):yield(0,de.put)(c.j4h.resetHeaderMode());const o=null===n||void 0===n?void 0:n.footerMode;o?yield(0,de.put)(c.j4h.setFooterMode(o)):yield(0,de.put)(c.j4h.resetFooterMode())}function*Dt(e){yield(0,de.call)(Mt,e.newLocation.pathname)}function*Ut(){yield(0,de.takeEvery)(c.euC.FETCH_UHF_START,Lt),yield(0,de.takeEvery)(c.cP9.LOCATION_CHANGE,Dt)}n(6710);var Ft=n(79730);function*Bt(e,t){const n=yield(0,V.Si)(),r=yield(0,k.le)();let o;try{o=yield(0,de.call)([r,r.getMsaAccessTokenSilently],e)}catch(s){const e=(0,Z.toError)(s);n.logger().error(`[userConsentServiceSagas] Error acquiring MSA \n    token to authenticate UCS calls: ${e.message}`)}const a={getToken:()=>Promise.resolve(o?{token:`Bearer ${o}`}:null)},i=yield(0,de.select)(c.yWe);return new Ft.UnifiedConsentService(a,(()=>Promise.resolve(i.localeWithScript)),(()=>{const e=n.cv().increment();return Promise.resolve(e)}),(0,V.zX)(n),t)}function Ht(e){let{id:t,values:n,modelType:r,consentSurface:o}=e;return function*(){const e=yield(0,V.Si)(),a=yield(0,de.call)(Bt,k.i4,o);try{e.logger().info(`[userConsentServiceSagas] Submitting privacy consent id: ${t}, values: ${JSON.stringify(n)}`),yield a.submitConsent({id:t,values:n,consentSurface:o}),yield(0,de.put)(k.hI.submitConsent.success({id:t,values:n,modelType:r})),yield(0,de.call)(Xt)}catch(i){yield(0,de.put)(k.hI.submitConsent.error((0,Z.toError)(i),r))}}()}function qt(e){let{consentSurface:t}=e;return function*(){const e=yield(0,V.Si)(),n=yield(0,de.call)(Bt,k.i4,t);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent ui details");const r=yield n.getPrivacyConsentUiDetails();yield(0,de.put)(k.hI.fetchPrivacyConsentUiDetails.success(r,t))}catch(r){const n=(0,Z.toError)(r);e.logger().error(`[userConsentServiceSagas] Error: ${n.message}`),yield(0,de.put)(k.hI.fetchPrivacyConsentUiDetails.error(n,t))}}()}function Gt(e){let{shouldSendSnapshot:t}=e;return function*(){const e=yield(0,V.Si)(),n=yield(0,de.call)(Bt,k.t2);try{e.logger().info("[userConsentServiceSagas] Fetching privacy consent");const r=yield n.getPrivacyConsent();yield(0,de.put)(k.hI.fetchPrivacyConsent.success(r)),t&&(yield(0,de.call)(Xt))}catch(r){const t=(0,Z.toError)(r);e.logger().info(`[userConsentServiceSagas] Error: ${t.message}`),yield(0,de.put)(k.hI.fetchPrivacyConsent.error(t))}}()}function*zt(){const e=yield(0,de.select)(k.PY);if((0,ue.isContent)(e)&&e.cacheTimeInMS){const t=yield(0,V.Si)(),n=6e5,r=e.cacheTimeInMS-(Date.now()-e.lastFetchedMS)-n;if(r<=0)throw new Error("[userConsentServiceSagas] timeMSUntilExpiration is negative, aborting");const o=Math.floor(r/36e5),a=Math.floor(r%36e5/6e4),i=Math.floor(r%6e4/1e3);t.logger().info(`[userConsentServiceSagas] Starting privacy consent data refetch delay for: ${o} hours, ${a} minutes and ${i} seconds`),yield(0,de.delay)(r),t.logger().info("[userConsentServiceSagas] Cached privacy consent data is about to expire in 10 minutes, attempting to refresh"),yield(0,de.put)(k.hI.fetchPrivacyConsent.start())}}function*Xt(){const e=yield(0,V.Si)(),t=yield(0,de.select)(k.PY),n=(0,ue.getDataOrPrevious)(t);if(n){const t=(yield(0,c.FMS)()).get(c.jmv),r=yield(0,k.le)(),o=yield(0,de.call)([r,r.isAuthenticated]),a=yield(0,de.select)(c.m2K);e.logger().info(`[userConsentServiceSagas] Logging experiment snapshot with updated consent values: ${JSON.stringify(n)}`),e.logExperimentationSnapshot(a,_()({experimentDataUpdateReason:c.lO9.ConsentValuesUpdated},n),!!t,!!o)}}function*$t(){yield(0,de.takeEvery)(k.EJ.SUBMIT_CONSENT,Ht),yield(0,de.takeEvery)(k.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS,qt),yield(0,de.takeEvery)(k.EJ.FETCH_PRIVACY_CONSENT,Gt),yield(0,de.takeLatest)([k.EJ.FETCH_PRIVACY_CONSENT_SUCCESS,k.EJ.FETCH_PRIVACY_CONSENT_UI_DETAILS_SUCCESS,k.EJ.SUBMIT_CONSENT_SUCCESS],zt)}var Vt=n(86671);const Wt=e=>{let{configManager:t,children:n}=e;const{subscribe:r,getClientState:o,getServerState:a,loadPartner:i,getPartnerConfigForPath:s}=t,l=(0,h.useSyncExternalStore)(r,o,a),c=t.getPartnerConfigMap(),u=(0,h.useMemo)((()=>({partnerLoadingState:l,loadPartner:i,partnerConfigs:c,getPartnerConfigForPath:s})),[l,i,c,s]);return h.createElement(Vt.H.Provider,{value:u},n)};var Kt=n(52034),jt=n.n(Kt);class Zt{constructor(){0}get(e){return jt().get(e)}getAll(){return jt().get()}set(e,t,n){const r=this.createCookieOptionsWithDefaults(n);if(r.essential||(0,c.MR9)((0,c.Nn)(this.get(c.weN)),r.categories)){if(!r.sessionOnly){const e="number"===typeof r.maxAgeMilliseconds?r.maxAgeMilliseconds:3888e6;r.expires=r.expires||new Date((new Date).getTime()+e)}return delete r.maxAgeMilliseconds,delete r.categories,delete r.essential,jt().set(e,t,r)}}delete(e,t){jt().remove(e,this.createCookieOptionsWithDefaults(t))}createCookieOptionsWithDefaults(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _()(_()({sameSite:"lax",path:"/",secure:!0,domain:window.location.hostname},e),{},{essential:!0})}}n(59086),n(87659);var Yt=n(18717),Qt=n(31451),Jt=n(83273),en=n(60388),tn=n(13568);const nn=(0,Jt.SS)();let rn=!1;new WeakSet;var on=n(59406);const an=e=>{(0,Y.TA)().then((async()=>{var t,n,r;const o=new oe.k,a=o.setPartnerPackages(e.partnerConfigurations),i=new Set(e.clientRelyingParties||[]),s=new Set(e.requiredCookieRelyingParties||[]);for(const e of a)if(e.serverRelyingParties)for(const t of e.serverRelyingParties)s.add(t),i.add(t);(0,k.ey)(Array.from(i)),(0,k.Jf)(Array.from(s));const{store:u}=(()=>{const e=window.__PRELOADED_STATE__;return delete window.__PRELOADED_STATE__,{store:(0,tn.W)(en.R,e,(0,Qt.U)((0,Yt.applyMiddleware)(nn.enhancer))),preloadedState:e}})(),d=u.dispatch;d(c.itn.setIsReactDomHydrating(!0));const m=u.getState(),g=(0,c.yWe)(m),f=(0,c.TrC)(m),v=(0,c.g48)(m),y=()=>(0,k.nY)(u.getState()).aadUser,b=(0,c.$Pr)(m,c.vCX.EnableV2MeControl),C=(0,on.lJ)(u.getState),E=new Zt;let S=E.get(c.jmv);"undefined"===(null===S||void 0===S?void 0:S.toLowerCase())&&(E.delete(c.jmv),S=void 0);const T=null!==S&&void 0!==S?S:(0,te.Z)().replace(/-/g,"").toUpperCase();let A;S||E.set(c.jmv,T,{maxAgeMilliseconds:31536e6,sameSite:"none",domain:".xbox.com",essential:!1}),d(c.itn.setDeviceId(T));const w=null!==(t=(0,c.$Pr)(m,c.vCX.SkipRedirectCounter))&&void 0!==t&&t,I=g.localeWithScript,P=(0,c.r$u)(I),R=(0,c.lF6)(I),x=(0,c.qG9)(I),N=null===(n=(0,k.bG)(m))||void 0===n?void 0:n.xuid;if(e.customAuthProvider)A=e.customAuthProvider;else{const e=null!==(r=(0,c._89)(m,c.vCX.EnableSisuUcsSupport))&&void 0!==r&&r;A=await ht.create({telemetryProvider:C,aadUserGetter:y,dispatch:d,getAccountSignInUrl:P,getAccountSignOutUrl:R,getCoBrandingSignInUrl:x,useV2MeControl:b,serverUserXuid:N,locale:I,cookiesProvider:E,isSisuUcsSupportEnabled:e,skipLoginRedirectCounter:w}),C.logAuthAction({name:"XboxInitializedAuthVersion",version:"v3"})}const O=((e,t,n,r,o)=>({[ae]:e,[ie]:t,[se]:n,[le]:r,[ce]:o}))(C,A,E,null,o),L=(e=>{rn&&console.warn("Double configuration of saga middleware detected. Ignoring.");const t=(0,ee.default)({context:e,onError:e=>{he.Tb(e)}});return nn.addMiddleware(t),rn=!0,t})(O),M=(0,c.Sl8)(window.location.pathname,I);o.setSagaMiddleware(L),o.setStore(u),o.setTelemetryProvider(C),await o.initialize(),await o.loadConfigurationForPath(M);const D=(0,c.o$o)(M,f,v,I);if(D&&D.lazyConfig){const{bootstrapClientEnvironmentSaga:e}=await D.lazyConfig();if(e)try{await L.run(e).toPromise()}catch(z){z instanceof Error?C.logger().error("bootstrapClientEnvironmentSaga error",z):C.logger().error("unknown bootstrapClientEnvironmentSaga error")}}const U=u.getState();var F;F=L,[Ut,Nt,Rt,yt,$t,Ve,ft].forEach((e=>{F.run(e)}));const B=await(async(e,t,n)=>{const r=n?await n(e):await(0,re.gI)(e);return e=>{const n=(0,V.Fj)();(0,h.useSyncExternalStore)(t.subscribe,t.getClientState,t.getServerState);const o=t.getPartnerResources(),a=(0,h.useMemo)((()=>_()({baseStrings:r},o)),[o]),i=(0,h.useCallback)((e=>(n.error(e.message),()=>e.path.join("."))),[n]);return h.createElement(ne.x,_()({messages:a,onError:i},e))}})(g,o,e.getResourceStringsAsync),H=(0,c.m2K)(U);function q(){return(0,h.useEffect)((()=>{d(c.itn.setIsReactDomHydrating(!1))}),[]),h.createElement(l.xe,{cV:C.cv().get()},(()=>h.createElement(p.Provider,{store:u,serverState:U},h.createElement(c.PJd.Provider,{value:E},h.createElement(V.TA.Provider,{value:C},h.createElement(k.zC.Provider,{value:A},h.createElement(B,null,h.createElement(J.BrowserRouter,{basename:I},h.createElement(Wt,{configManager:o},h.createElement(e.app,null))))))))))}C.logExperimentationSnapshot(H,{experimentDataUpdateReason:c.lO9.AppLoad},!!E.get(c.jmv),!!N);const G=document.getElementById("root");(0,Q.a)(G,h.createElement(q,null),{onRecoverableError:async function(e){const t=(0,c.Sl8)(window.location.pathname,g.localeWithScript),n=o.getPartnerConfigForPath(t);if(n&&n.lazyConfig)try{const{onRecoverableReactErrorSaga:t}=await n.lazyConfig();t&&await(0,ee.runSaga)({getState:u.getState.bind(u),dispatch:u.dispatch.bind(u),context:O},t,e).toPromise()}catch(e){C.logger().error(`onRecoverableError error from partner: ${n.partnerId}`,(0,Z.toError)(e))}}})}))};n(21850);const sn=/^(\/[^/]+)?\/store\/(cart|buy)(\/)?(\?.*)?$/i,ln=e=>{const t=(0,C.k6)(),n=(0,p.useSelector)(c.Yzi),r=(0,p.useSelector)(c.TrC),o=(0,c.Sph)(),a=(0,p.useSelector)((e=>(0,c.$Pr)(e,c.vCX.DisableUhfXboxCart))),i=(0,V.Fj)(),s=!a&&!!o&&o.enableXboxCart,l=(0,p.useSelector)(c.gzb)===c.Q2A.Dark,u=(0,h.useCallback)((e=>{const o=(e=>{let t=e,n=0;for(;t&&"A"!==t.nodeName&&n<10;)t=t.nodeName?t.parentElement:null,++n;return t||void 0})(e.target);if(!o)return;if(o.target&&"_self"!==o.target)return;if(!o.href)return;if(0===(o.getAttribute("href")||"").indexOf("#")||0===o.href.replace(window.location.origin+window.location.pathname,"").indexOf("#"))return;const a=new URL(o.href,window.location.origin);let u,d=!1;if((0,c.rpX)(a.host)){const e=(0,c.Sl8)(a.pathname,n),t=(0,c.o$o)(e,r,void 0,n);t&&(u={pathname:e,search:a.search,hash:a.hash},d=!t.isServerOnly)}else if(s&&("https://www.microsoft.com"===(h=a).origin&&sn.test(h.pathname)))l&&a.searchParams.append(Ke.cG.ThemeOverride,"dark"),u={pathname:"/cart",search:a.search};else if((0,c.byQ)(a)){const e=(0,c.dFq)(a,void 0),t=new URL(e,window.location.origin);u={pathname:t.pathname,search:t.search}}var h;if(u)try{d&&(e.preventDefault(),t.location.pathname!==u.pathname&&t.push(u))}catch(m){i.error("Error occurred while trying to navigate to target location",m)}}),[t,n,s,l,r,i]);return h.createElement("div",{onClick:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||0!==e.button||u(e)},onKeyPress:e=>{e.defaultPrevented||e.metaKey||e.ctrlKey||e.shiftKey||u(e)}},e.children)};var cn=n(59446),un=(n(2638),n(80082),n(35599)),dn=(n(55292),n(49377))},94840:(e,t,n)=>{"use strict";n.d(t,{k:()=>T});var r=n(24923),o=n.n(r),a=n(814),i=n.n(a),s=(n(71372),n(36728),n(6710),n(73439),n(52356),n(48166),n(34715),n(64925),n(52856),n(26464),n(45162),n(19570),n(54819),n(57610),n(95682),n(21045),n(17244),n(42068),n(75519),n(39432),n(73574),n(33619),n(53862),n(26881),n(35359),n(98208),n(13608),n(75676),n(5993),n(74456),n(7236),n(3331),n(6886),n(22799)),l=n(16216),c=n(4517),u=n(2784),d=n(21883),h=n(87995),m=n(61975),p=n(6365),g=n(23060),f=n(66497);const v={headerMode:l.Grh.None,footerMode:l.ZOQ.None},_=[{key:"ChangeLocale",path:"/Shell/ChangeLocale",component:f.f,exact:!0,testConfig:{title:"Change Locale"}},{key:"MsaLogin",path:g.$t,component:p.m,uhfConfig:v},{key:"HealthCheck",path:"/servicestatus/health",exact:!0,uhfConfig:v,hideUHF:!0,isServerOnly:!0,render:()=>u.createElement("div",null,"OK")}],y=[{key:"404",render:()=>u.createElement(m.mf,{error:new Error("Page not found."),statusCode:h.WE.NotFound})}];n(67526),n(86668),n(33354),n(25870),n(10930),n(40574),n(94116),n(43267),n(74614),n(19852),n(44306),n(26077),n(71072),n(50183);const b=new class{constructor(){this.factoriesMap=new Map,this.resolvedMap=new Map,this.lazyFactoriesMap=new Map,this.lazyResolvedMap=new Map,this.resolve=e=>{let t=this.resolvedMap.get(e);if(!t){const n=this.factoriesMap.get(e);n&&(t=n(),this.resolvedMap.set(e,t))}if(!t)throw new Error(`ServiceLocator.resolve: serviceId: ${e} not found`);return t},this.resolveLazy=e=>{let t=this.lazyResolvedMap.get(e);if(!t){const n=this.lazyFactoriesMap.get(e);n&&(t=n(),this.lazyResolvedMap.set(e,t))}if(!t)throw new Error(`ServiceLocator.resolve: serviceId: ${e} not found`);return t},this.register=(e,t)=>{if(this.factoriesMap.has(e))throw new Error(`ServiceLocator.register: serviceId: ${e} already exists`);this.factoriesMap.set(e,t)},this.registerLazy=(e,t)=>{if(this.lazyFactoriesMap.has(e))throw new Error(`ServiceLocator.register: serviceId: ${e} already exists`);this.lazyFactoriesMap.set(e,t)},this.clear=()=>{this.factoriesMap.clear(),this.resolvedMap.clear(),this.lazyFactoriesMap.clear(),this.lazyResolvedMap.clear()}}};var C=n(59446);const E=["component","redirectComponent"],S=["routes"];class T{constructor(){this._partnerConfigurations={},this._routeConfigs=[],this._partnersResourceStringsDict={},this._partnerComponents=new WeakMap,this._subscriptions=new Set,this._partnerState={},this._partnerLoadingPromises={},this.getPartnerRouteConfigs=()=>[...this._routeConfigs],this.getPartnerResources=()=>this._partnersResourceStringsDict,this.getPartnerConfigForPath=e=>this._getPartnerConfigs().find((t=>{var n;return null===(n=t.routes)||void 0===n?void 0:n.some((t=>(0,c.LX)(e,t)))})),this.getClientState=()=>this._partnerState,this.getServerState=()=>this._partnerState,this.subscribe=e=>(this._subscriptions.add(e),()=>this._subscriptions.delete(e)),this.loadConfigurationForPath=async e=>{var t,n;const r=this.getPartnerConfigForPath(e);if(r)try{await this._loadPartnerConfigIfReady(r)}catch(o){const e=(0,s.toError)(o);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${r.partnerId}`,e),this._setPartnerState(r.partnerId,(0,d.lceError)(e))}else null===(t=this._telemetryProvider)||void 0===t||t.logger().error(`Failed to find matching config for path: ${e}`)},this.loadPartner=async e=>{var t,n;const r=this._partnerConfigurations[e];if(!r){const n=new Error(`Partner config with id '${e}' not registered before attempting to load`);throw null===(t=this._telemetryProvider)||void 0===t||t.logger().error(n.message,n),this._setPartnerState(e,(0,d.lceError)(n)),n}try{await this._loadPartnerConfigIfReady(r)}catch(o){const t=(0,s.toError)(o);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner configuration ${e}`,t),this._setPartnerState(r.partnerId,(0,d.lceError)(t))}}}setPartnerPackages(e){var t;return this._validatePartnerConfigs(e),this._processConfigs(e),t=this._routeConfigs,(0,l.Cqs)([..._,...t,...y]),Object.values(this._partnerConfigurations)}setStore(e){this._store=e}setSagaMiddleware(e){this._middleware=e}setTelemetryProvider(e){this._telemetryProvider=e}getPartnerConfigMap(){return this._partnerConfigurations}async initialize(){this._getPartnerConfigs().forEach((e=>{this._partnerState[e.partnerId]=(0,d.lceNotRequested)()})),this._partnerLoadingPromises={},b.clear(),await this.initializeAllPartnersAsync(),await this._loadAllConfigs()}async initializeAllPartnersAsync(){this._registerPartnerDependencies(),await Promise.all(this._getPartnerConfigs().map((e=>e.initializeAsync?e.initializeAsync(b):Promise.resolve())))}_getPartnerConfigs(){return Object.values(this._partnerConfigurations)}_registerPartnerDependencies(){for(const e of this._getPartnerConfigs())e.registerDependencies&&e.registerDependencies(b)}_validatePartnerConfigs(e){if(0===e.length)throw new Error("No partners configured");if(!e.some((e=>{var t;return((null===(t=e.routes)||void 0===t?void 0:t.length)||0)>0})))throw new Error("No routes configured");const t=e.map((e=>e.partnerId)),n=new Set(t);if(t.length!==n.size)throw new Error(`Duplicate partner name found. Partners Configured: ${JSON.stringify(t)}`)}_processConfigs(e){const t={},n=[];this._partnerState={},e.forEach((e=>{const r=this._mapPartnerConfig(e);r.routes&&n.push(...r.routes),t[e.partnerId]=r,this._partnerState[e.partnerId]=d.LCE_NOT_REQUESTED})),this._routeConfigs=n,this._partnerConfigurations=t}async _loadPartnerConfigIfReady(e){var t,n,r,o,a;const{partnerId:i}=e;switch(this._getPartnerLce(i)){case d.LCEType.Content:break;case d.LCEType.Fetching:{const e=this._partnerLoadingPromises[i];e?(null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${i}' - Waiting on loading promise`),await e,null===(n=this._telemetryProvider)||void 0===n||n.logger().info(`[PartnerConfigManager] ${Date.now()} Done waiting on promise '${i}'`)):null===(r=this._telemetryProvider)||void 0===r||r.logger().info(`[PartnerConfigManager] ${Date.now()} Already Loading Partner Config '${i}' - No loading promise`);break}case d.LCEType.Error:null===(o=this._telemetryProvider)||void 0===o||o.logger().info(`[PartnerConfigManager] ${Date.now()} Partner Config '${i}'`);break;case d.LCEType.NotRequested:{null===(a=this._telemetryProvider)||void 0===a||a.logger().info(`[PartnerConfigManager] ${Date.now()} Loading Partner Config '${i}'`);const t=this._loadPartnerConfig(e);this._partnerLoadingPromises[i]=t,await t,this._partnerLoadingPromises[i]=void 0;break}}}async _loadPartnerConfig(e){var t,n;const{partnerId:r}=e;this._setPartnerState(r,(0,d.lceFetching)());try{if(e.lazyConfig&&this._store){const{redux:t,getResourceStrings:n}=await e.lazyConfig();if(t){const{reducer:e,sagas:n}=t;if(e&&this._store&&this._store.injectReducer(r,e),n&&this._middleware){const e=this._middleware;n.forEach((t=>e.run(t)))}}if(n){const e=this._store.getState(),t=(0,l.yWe)(e);this._partnersResourceStringsDict[r]=await n(t),this._partnersResourceStringsDict=i()({},this._partnersResourceStringsDict)}}null===(t=this._telemetryProvider)||void 0===t||t.logger().info(`[PartnerConfigManager] Loaded Partner Config '${r}'`),this._setPartnerState(r,(0,d.lceContent)(e))}catch(o){const e=(0,s.toError)(o);null===(n=this._telemetryProvider)||void 0===n||n.logger().error(`Failed to load partner ${r}`,e),this._setPartnerState(r,(0,d.lceError)(e))}}async _loadAllConfigs(){for(const e of this._getPartnerConfigs())await this._loadPartnerConfigIfReady(e)}_setPartnerState(e,t){this._partnerState[e]=t,this._partnerState=i()({},this._partnerState),this._subscriptions.forEach((t=>t(e)))}_processPartnerRoute(e,t){const{partnerId:n}=t,{component:r,redirectComponent:a}=e,s=o()(e,E);let l;if(a)l=a;else if(r){const e=this._partnerComponents.get(r);if(e)l=e;else{const e=e=>u.createElement(C.m,{partnerId:n},u.createElement(r,i()({},e)));this._partnerComponents.set(r,e),l=e}}return i()(i()({},s),{},{key:`${n}_${s.key}`,component:l})}_mapPartnerConfig(e){const{routes:t}=e,n=o()(e,S);if(!n.lazyConfig&&!t)return n;const r=n;return t&&(r.routes=t.map((t=>this._processPartnerRoute(t,e)))),r}_getPartnerLce(e){var t,n;return null!==(n=null===(t=this._partnerState[e])||void 0===t?void 0:t.type)&&void 0!==n?n:d.LCEType.NotRequested}}},71602:(e,t,n)=>{"use strict";function r(e,t){return function(n){return()=>e().then((e=>t(e)[n]))}}n.d(t,{t:()=>r})},23693:(e,t,n)=>{"use strict";n.d(t,{X:()=>i,y:()=>s});var r=n(21883),o=n(2784),a=n(86671);function i(){return(0,o.useContext)(a.H)}function s(e){const t=i(),n=t.loadPartner,a=t.partnerLoadingState[e],s=t.partnerConfigs[e];return a.type===r.LCEType.NotRequested&&n(e),(0,o.useMemo)((()=>{const e=a.type===r.LCEType.NotRequested||a.type===r.LCEType.Fetching&&!a.previousContent,t={lce:a.type===r.LCEType.NotRequested?(0,r.lceFetching)():a,isLoading:e,isFetching:a.type===r.LCEType.Fetching||a.type===r.LCEType.NotRequested,isError:a.type===r.LCEType.Error,error:a.type===r.LCEType.Error?a.error:void 0};return[s,t]}),[s,a])}},35599:(e,t,n)=>{"use strict";n.d(t,{Xf:()=>r.X,tP:()=>o.t});var r=n(23693),o=(n(94840),n(71602))},77404:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});var r,o=n(16216);!function(e){e.INIT="@sentry/init"}(r||(r={}));(0,o.PHw)(r.INIT,o.sXi.AppContext,"",(()=>({})))},93706:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"===typeof e}n.d(t,{a:()=>r})},3963:(e,t,n)=>{"use strict";var r=n(814).default;n(73439),n(6886);const o=n(59228),a=async(e,t,n)=>{let a;(n=r({delayRejection:!0},n)).delayRejection&&(e=e.catch((e=>{a=e})));const i=await Promise.all([e,o(t)]);return a?Promise.reject(a):i[0]};e.exports=a,e.exports.default=a},33127:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>s});var r=n(37101),o=!1,a=!1;try{var i={get passive(){return o=!0},get once(){return a=o=!0}};r.Z&&(window.addEventListener("test",i,i),window.removeEventListener("test",i,!0))}catch(l){}const s=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!a){var i=r.once,s=r.capture,l=n;!a&&i&&(l=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=l),e.addEventListener(t,l,o?r:s)}e.addEventListener(t,n,r)}},37101:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=!(!window.document||!window.document.createElement)},8258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(48968);function o(e,t){return function(e){var t=(0,r.Z)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var a=/([A-Z])/g;var i=/^ms-/;function s(e){return function(e){return e.replace(a,"-$1").toLowerCase()}(e).replace(i,"-ms-")}var l=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const c=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(s(t))||o(e).getPropertyValue(s(t));Object.keys(t).forEach((function(o){var a=t[o];a||0===a?!function(e){return!(!e||!l.test(e))}(o)?n+=s(o)+": "+a+";":r+=o+"("+a+") ":e.style.removeProperty(s(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}},72487:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(33127),o=n(88555);const a=function(e,t,n,a){return(0,r.ZP)(e,t,n,a),function(){(0,o.Z)(e,t,n,a)}}},48968:(e,t,n)=>{"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:()=>r})},88555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}},30268:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8258),o=n(72487);function a(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)}),t+n),i=(0,o.Z)(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),i()}}function i(e,t,n,i){null==n&&(n=function(e){var t=(0,r.Z)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var s=a(e,n,i),l=(0,o.Z)(e,"transitionend",t);return function(){s(),l()}}},47677:e=>{"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,i,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},52034:(e,t,n)=>{var r,o;!function(a){if(void 0===(o="function"===typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=a(),!!0){var i=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=i,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function a(t,n,a){if("undefined"!==typeof document){"number"===typeof(a=e({path:"/"},o.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var i=JSON.stringify(n);/^[\{\[]/.test(i)&&(n=i)}catch(c){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in a)a[l]&&(s+="; "+l,!0!==a[l]&&(s+="="+a[l].split(";")[0]));return document.cookie=t+"="+n+s}}function i(e,n){if("undefined"!==typeof document){for(var o={},a=document.cookie?document.cookie.split("; "):[],i=0;i<a.length;i++){var s=a[i].split("="),l=s.slice(1).join("=");n||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=t(s[0]);if(l=(r.read||r)(l,c)||t(l),n)try{l=JSON.parse(l)}catch(u){}if(o[c]=l,e===c)break}catch(u){}}return e?o[e]:o}}return o.set=a,o.get=function(e){return i(e,!1)},o.getJSON=function(e){return i(e,!0)},o.remove=function(t,n){a(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},89971:(e,t,n)=>{"use strict";n.r(t)},91841:(e,t,n)=>{"use strict";n.d(t,{CD:()=>c,GE:()=>w,Hs:()=>p,MM:()=>l,OJ:()=>A,QD:()=>d,RL:()=>y,S5:()=>T,Sv:()=>C,UV:()=>k,Vl:()=>i,XP:()=>N,Xv:()=>r,Y1:()=>b,_0:()=>f,eA:()=>L,eG:()=>E,gg:()=>v,ht:()=>_,kI:()=>m,kr:()=>o,o9:()=>u,oI:()=>g,p:()=>s,pD:()=>a,qT:()=>R,qg:()=>h,ri:()=>O,sH:()=>x,tG:()=>M,vv:()=>P,x:()=>I,x2:()=>S});var r="Button-module__basicBorderRadius___TaX9J",o="Button-module__buttonBase___olICK",a="Button-module__buttonIcon___540Jm",i="Button-module__buttonSwitch___+Tn3u",s="Button-module__callToAction___mSaZg",l="Button-module__decoratedButton___-YJyr",c="Button-module__defaultBase___c7wIT",u="Button-module__heroLargeBorderRadius___u9CMS",d="Button-module__heroMediumBorderRadius___dUTPQ",h="Button-module__heroSmallBorderRadius___ywhQ0",m="Button-module__heroXSmallBorderRadius___tyver",p="Button-module__iconButtonBase___uzoKc",g="Button-module__marginLeft___Bqq-9",f="Button-module__noMargin___5UbzU",v="Button-module__overlayModeAcrylic___QnjAv",_="Button-module__overlayModeSemiTransparent___mcpLM",y="Button-module__overlayModeSolid___v6EcO",b="Button-module__secondarySwitchBackplate___E47IF",C="Button-module__sizeIconButtonLarge___tb4rx",E="Button-module__sizeIconButtonMedium___WJrxo",S="Button-module__sizeIconButtonSmall___gTDbb",T="Button-module__sizeIconButtonXSmall___sYhWs",A="Button-module__sizeLarge___Jsfxn",w="Button-module__sizeMedium___T+8s+",k="Button-module__sizeSmall___9uKpA",I="Button-module__sizeXSmall___TGAST",P="Button-module__textNoUnderline___kHdUB",R="Button-module__textUnderline___JSRLr",x="Button-module__typeBrand___MMuct",N="Button-module__typePrimary___0WI8b",O="Button-module__typeSecondary___Cid02",L="Button-module__typeTertiary___wNh6R",M="Button-module__typeUserAccent___lK-yy"},89172:(e,t,n)=>{"use strict";n.d(t,{KZ:()=>r,OU:()=>a,Pt:()=>s,Xs:()=>i,f8:()=>l,nA:()=>o});var r="commonStyles-module__basicButton___go-bX",o="commonStyles-module__basicContainer___8Vx5e",a="commonStyles-module__basicIcon___qnovY",i="commonStyles-module__basicLink___V+0u7",s="commonStyles-module__featureListStyle___8SVho",l="commonStyles-module__shimmer___toyTH"},40959:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="AdsOptOutSync-module__syncFrame___vfV8q"},11372:(e,t,n)=>{"use strict";n.r(t),n.d(t,{col:()=>r,col1:()=>o,col10:()=>a,col11:()=>i,col12:()=>s,col2:()=>l,col3:()=>c,col4:()=>u,col5:()=>d,col6:()=>h,col7:()=>m,col8:()=>p,col9:()=>g,colLg1:()=>f,colLg10:()=>v,colLg11:()=>_,colLg12:()=>y,colLg2:()=>b,colLg3:()=>C,colLg4:()=>E,colLg5:()=>S,colLg6:()=>T,colLg7:()=>A,colLg8:()=>w,colLg9:()=>k,colMd1:()=>I,colMd10:()=>P,colMd11:()=>R,colMd12:()=>x,colMd2:()=>N,colMd3:()=>O,colMd4:()=>L,colMd5:()=>M,colMd6:()=>D,colMd7:()=>U,colMd8:()=>F,colMd9:()=>B,colSm1:()=>H,colSm10:()=>q,colSm11:()=>G,colSm12:()=>z,colSm2:()=>X,colSm3:()=>$,colSm4:()=>V,colSm5:()=>W,colSm6:()=>K,colSm7:()=>j,colSm8:()=>Z,colSm9:()=>Y,large:()=>Q,medium:()=>J,small:()=>ee});var r="ModuleColumn-module__col___StJzB",o="ModuleColumn-module__col1___9CP2u",a="ModuleColumn-module__col10___TX1Lb",i="ModuleColumn-module__col11___rbXSV",s="ModuleColumn-module__col12___A-hSt",l="ModuleColumn-module__col2___+utbQ",c="ModuleColumn-module__col3___OU8x+",u="ModuleColumn-module__col4___ZaRrg",d="ModuleColumn-module__col5___TL7I1",h="ModuleColumn-module__col6___ArD0N",m="ModuleColumn-module__col7___XCnrm",p="ModuleColumn-module__col8___yCVp5",g="ModuleColumn-module__col9___K8Gw9",f="ModuleColumn-module__colLg1___LYmyz",v="ModuleColumn-module__colLg10___5d7-E",_="ModuleColumn-module__colLg11___gRE3U",y="ModuleColumn-module__colLg12___NygNf",b="ModuleColumn-module__colLg2___JJuMl",C="ModuleColumn-module__colLg3___UTVTa",E="ModuleColumn-module__colLg4___dTHnc",S="ModuleColumn-module__colLg5___-hnQ+",T="ModuleColumn-module__colLg6___rr8Po",A="ModuleColumn-module__colLg7___BVit9",w="ModuleColumn-module__colLg8___d2TZv",k="ModuleColumn-module__colLg9___IlWd5",I="ModuleColumn-module__colMd1___bXH3p",P="ModuleColumn-module__colMd10___gg77z",R="ModuleColumn-module__colMd11___uATnk",x="ModuleColumn-module__colMd12___TNRxj",N="ModuleColumn-module__colMd2___f0ZrV",O="ModuleColumn-module__colMd3___M8p2g",L="ModuleColumn-module__colMd4___+BB+4",M="ModuleColumn-module__colMd5___w7599",D="ModuleColumn-module__colMd6___BTAdb",U="ModuleColumn-module__colMd7___MoAAG",F="ModuleColumn-module__colMd8___LTRxa",B="ModuleColumn-module__colMd9___RMntd",H="ModuleColumn-module__colSm1___CR0--",q="ModuleColumn-module__colSm10___lxTzQ",G="ModuleColumn-module__colSm11___txDMG",z="ModuleColumn-module__colSm12___K5Kqp",X="ModuleColumn-module__colSm2___tcLDV",$="ModuleColumn-module__colSm3___O-F8K",V="ModuleColumn-module__colSm4___H5Viy",W="ModuleColumn-module__colSm5___LkfGI",K="ModuleColumn-module__colSm6___0g1hF",j="ModuleColumn-module__colSm7___hiK+f",Z="ModuleColumn-module__colSm8___GXtwd",Y="ModuleColumn-module__colSm9___PjjRH",Q="1084px",J="860px",ee="540px"},4945:(e,t,n)=>{"use strict";n.d(t,{Oj:()=>a,nC:()=>r,oH:()=>o});var r="ModuleContainer-module__container___pkhPl",o="ModuleContainer-module__informationModuleContainer___nGoBj",a="ModuleContainer-module__sectionBackground___1iE6r"},5672:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="ModuleRow-module__row___N1V3E"},29934:(e,t,n)=>{"use strict";n.d(t,{Cg:()=>r,al:()=>o,oP:()=>a});var r="PageBanner-module__bannerContainer___YuHV3",o="PageBanner-module__hidden___MkKJW",a="PageBanner-module__visible___Q3bC3"},72256:(e,t,n)=>{"use strict";n.d(t,{O:()=>o,t:()=>r});var r="RetryPage-module__retryContainerRow___fzOuX",o="RetryPage-module__retryIcon___4Kokq"},82676:(e,t,n)=>{"use strict";n.d(t,{F2:()=>s,Gt:()=>c,ik:()=>i,mC:()=>r,pd:()=>o,pr:()=>l,x2:()=>a});var r="BooleanSetting-module__loadingSwitch___ltmPH",o="BooleanSetting-module__settingContainer___tCDWo",a="BooleanSetting-module__settingDescription___3elfm",i="BooleanSetting-module__settingError___v2hGp",s="BooleanSetting-module__settingHeaderSection___aorPg",l="BooleanSetting-module__switchOverrides___-U3MZ",c="BooleanSetting-module__titleAndSwitch___C4vCJ"},13750:(e,t,n)=>{"use strict";n.d(t,{CM:()=>r,WB:()=>s,g3:()=>a,jW:()=>i,nC:()=>o});var r="ListTransformGroupButton-module__chevronContainer___NjCRD",o="ListTransformGroupButton-module__container___Dp2sx",a="ListTransformGroupButton-module__countBlock___YZTB+",i="ListTransformGroupButton-module__titleContainer___iYD2x",s="ListTransformGroupButton-module__titleText___G3nI8"},95235:(e,t,n)=>{"use strict";n.d(t,{Hz:()=>r});var r="ProductPlacementCarousel-module__carouselArrowIcons___LAX5D"},76200:(e,t,n)=>{"use strict";n.d(t,{ro:()=>r,xw:()=>o});var r="Image-module__imageBackground___fwLda",o="Image-module__xboxLogoGlyphIcon___M8Rlv"},8564:(e,t,n)=>{"use strict";n.d(t,{Dk:()=>s,Y9:()=>r,d9:()=>a,fL:()=>l,lr:()=>c,nC:()=>o,p4:()=>i});var r="ShowMoreShowLess-module__baseLineText___OTuYW",o="ShowMoreShowLess-module__container___CyBM4",a="ShowMoreShowLess-module__less___gikrN",i="ShowMoreShowLess-module__link___K7wez",s="ShowMoreShowLess-module__more___oXPB7",l="ShowMoreShowLess-module__text___jt826",c="ShowMoreShowLess-module__withLineBreak___r04p2"},43143:(e,t,n)=>{"use strict";n.r(t),n.d(t,{col:()=>r,col1:()=>o,col10:()=>a,col11:()=>i,col12:()=>s,col2:()=>l,col3:()=>c,col4:()=>u,col5:()=>d,col6:()=>h,col7:()=>m,col8:()=>p,col9:()=>g,colLg1:()=>f,colLg10:()=>v,colLg11:()=>_,colLg12:()=>y,colLg2:()=>b,colLg3:()=>C,colLg4:()=>E,colLg5:()=>S,colLg6:()=>T,colLg7:()=>A,colLg8:()=>w,colLg9:()=>k,colMd1:()=>I,colMd10:()=>P,colMd11:()=>R,colMd12:()=>x,colMd2:()=>N,colMd3:()=>O,colMd4:()=>L,colMd5:()=>M,colMd6:()=>D,colMd7:()=>U,colMd8:()=>F,colMd9:()=>B,colSm1:()=>H,colSm10:()=>q,colSm11:()=>G,colSm12:()=>z,colSm2:()=>X,colSm3:()=>$,colSm4:()=>V,colSm5:()=>W,colSm6:()=>K,colSm7:()=>j,colSm8:()=>Z,colSm9:()=>Y,colXl1:()=>Q,colXl10:()=>J,colXl11:()=>ee,colXl12:()=>te,colXl2:()=>ne,colXl3:()=>re,colXl4:()=>oe,colXl5:()=>ae,colXl6:()=>ie,colXl7:()=>se,colXl8:()=>le,colXl9:()=>ce,large:()=>ue,medium:()=>de,small:()=>he,xLarge:()=>me});var r="Column-module__col___mOeNS",o="Column-module__col1___XXcI0",a="Column-module__col10___s964a",i="Column-module__col11___Uh7+X",s="Column-module__col12___sxfOP",l="Column-module__col2___OlEJ-",c="Column-module__col3___IFvIt",u="Column-module__col4___-t5gI",d="Column-module__col5___nSfBH",h="Column-module__col6___keGm9",m="Column-module__col7___fhwYq",p="Column-module__col8___pUvtU",g="Column-module__col9___kKhk6",f="Column-module__colLg1___QuGQm",v="Column-module__colLg10___dXcqn",_="Column-module__colLg11___oicvM",y="Column-module__colLg12___YOWIg",b="Column-module__colLg2___I+Joj",C="Column-module__colLg3___ztYKR",E="Column-module__colLg4___LWebc",S="Column-module__colLg5___3UaUR",T="Column-module__colLg6___Y1blc",A="Column-module__colLg7___mLOMs",w="Column-module__colLg8___5Xh-h",k="Column-module__colLg9___6uDDw",I="Column-module__colMd1___CUOzo",P="Column-module__colMd10___UCb5m",R="Column-module__colMd11___TV+Ag",x="Column-module__colMd12___ZtPH5",N="Column-module__colMd2___G-H1w",O="Column-module__colMd3___ScYa2",L="Column-module__colMd4___1igtZ",M="Column-module__colMd5___YP72R",D="Column-module__colMd6___STeQo",U="Column-module__colMd7___JtRxR",F="Column-module__colMd8___krfS1",B="Column-module__colMd9___xAbEe",H="Column-module__colSm1___r7nek",q="Column-module__colSm10___7hEDc",G="Column-module__colSm11___q0sV0",z="Column-module__colSm12___8QJif",X="Column-module__colSm2___CYTvw",$="Column-module__colSm3___+5hFq",V="Column-module__colSm4___yJPHf",W="Column-module__colSm5___mIATz",K="Column-module__colSm6___hvA0z",j="Column-module__colSm7___FQC4X",Z="Column-module__colSm8___F57F2",Y="Column-module__colSm9___+O4yq",Q="Column-module__colXl1___6+t+g",J="Column-module__colXl10___P+klB",ee="Column-module__colXl11___avtXX",te="Column-module__colXl12___NpkIG",ne="Column-module__colXl2___RpBZz",re="Column-module__colXl3___LQvlk",oe="Column-module__colXl4___nPfLK",ae="Column-module__colXl5___gjax7",ie="Column-module__colXl6___h3OZ3",se="Column-module__colXl7___aEAhp",le="Column-module__colXl8___HqxD8",ce="Column-module__colXl9___oOfI2",ue="1084px",de="860px",he="540px",me="1400px"},78070:(e,t,n)=>{"use strict";n.d(t,{n:()=>r});var r="Container-module__container___YTczU"},30032:(e,t,n)=>{"use strict";n.d(t,{Mv:()=>a,Nl:()=>r,jK:()=>o,o0:()=>i});var r="ExpandingListContainer-module__contentArea___XxGhi",o="ExpandingListContainer-module__expandSeparator___eln3F",a="ExpandingListContainer-module__footer___blbJp",i="ExpandingListContainer-module__moreButton___leR3H"},64514:(e,t,n)=>{"use strict";n.d(t,{O:()=>r});var r="Row-module__row___iFfSz"},78489:(e,t,n)=>{"use strict";n.d(t,{DK:()=>r,IA:()=>o});var r="linkCommonStyles-module__linkButton___yK8-x",o="linkCommonStyles-module__linkIconOverrides___OYA+9"},89872:(e,t,n)=>{"use strict";n.d(t,{$c:()=>g,A9:()=>o,AW:()=>v,D3:()=>m,F$:()=>F,Gg:()=>I,HX:()=>a,Km:()=>N,Lt:()=>f,O8:()=>s,Q:()=>l,Qc:()=>b,RH:()=>u,RO:()=>P,S7:()=>x,TH:()=>i,ZN:()=>E,_S:()=>y,a2:()=>D,af:()=>S,bS:()=>O,cN:()=>L,d7:()=>T,ef:()=>H,f7:()=>p,fe:()=>C,gC:()=>B,hO:()=>U,jG:()=>c,lO:()=>r,ll:()=>d,q2:()=>_,tE:()=>h,uo:()=>R,vM:()=>M,yy:()=>k,z1:()=>w,zD:()=>q,zO:()=>A});var r="typography-module__badgeText___Pt0Ti",o="typography-module__browseAllGamesDesktopTitle___bZQr4",a="typography-module__browseAllGamesMobileLandscapeTitle___NkIkM",i="typography-module__browseAllGamesMobileSubTitle___h+8KD",s="typography-module__browseAllGamesMobileTitle___CGeCx",l="typography-module__featuredContentDesktopTitle___aSQ8E",c="typography-module__featuredContentMobileTitle___HRmee",u="typography-module__featuredContentSubtitle___dox6v",d="typography-module__launchpadBody___bAczf",h="typography-module__launchpadCtaExtraText___CUcKt",m="typography-module__launchpadHeader___skM2v",p="typography-module__launchpadlearningLinkWindowsText___cN1Ul",g="typography-module__notes___tC1Jo",f="typography-module__searchGamesTitle___RVAyR",v="typography-module__segoeCaption___2bWwO",_="typography-module__segoeParagraph___Grscl",y="typography-module__segoeSubtitle___zyouH",b="typography-module__segoeTitle___FFISB",C="typography-module__snoByrdButtonLabel___TE3oM",E="typography-module__spotLightSubtitlePortrait___RB7M0",S="typography-module__spotlightSubtitleLandscape___F5WdR",T="typography-module__spotlightTitleLandscape___9qmEz",A="typography-module__spotlightTitlePortrait___Wz0y7",w="typography-module__wishlistButtonFont___FW-gq",k="typography-module__wishlistProductItem___voqNk",I="typography-module__xdsBody1___+TQLW",P="typography-module__xdsBody2___RNdGY",R="typography-module__xdsButtonText___T7YHc",x="typography-module__xdsCaption___RlQY3",N="typography-module__xdsCaption2___9GItG",O="typography-module__xdsH1___7oFBA",L="typography-module__xdsH2___AvVH4",M="typography-module__xdsH3___kw4Hq",D="typography-module__xdsH5___XwldZ",U="typography-module__xdsH6___c1AoA",F="typography-module__xdsSubTitle1___N02-X",B="typography-module__xdsSubTitle2___6d6Da",H="typography-module__xdsSubTitle3___MaN9J",q="typography-module__xdsTag3___87dP9"},4371:(e,t,n)=>{"use strict";n.d(t,{e:()=>o,s:()=>r});var r="PreviewControls-module__previewToggleButton___-e6--",o="PreviewControls-module__serverRefreshButton___+PKti"},3286:(e,t,n)=>{"use strict";n.d(t,{G:()=>o,_:()=>r});var r="Shell-module__shellContainer___YmZHe",o="Shell-module__testPanelTriggerContainer___+Cu59"},22736:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(7896),o=n(31461),a=n(12524),i=n.n(a),s=n(2784),l=n(20267),c=n(27452),u=n(29658),d=n(58370),h=n(30016),m=n(46879),p=n(89023),g=n(8917),f=["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"],v=(0,m.Z)("h4");v.displayName="DivStyledAsH4";var _=(0,p.Z)("alert-heading",{Component:v}),y=(0,p.Z)("alert-link",{Component:g.Z}),b={show:!0,transition:d.Z,closeLabel:"Close alert"},C=s.forwardRef((function(e,t){var n=(0,l.Ch)(e,{show:"onClose"}),a=n.bsPrefix,m=n.show,p=n.closeLabel,g=n.className,v=n.children,_=n.variant,y=n.onClose,b=n.dismissible,C=n.transition,E=(0,o.Z)(n,f),S=(0,u.vE)(a,"alert"),T=(0,c.Z)((function(e){y&&y(!1,e)})),A=!0===C?d.Z:C,w=s.createElement("div",(0,r.Z)({role:"alert"},A?void 0:E,{ref:t,className:i()(g,S,_&&S+"-"+_,b&&S+"-dismissible")}),b&&s.createElement(h.Z,{onClick:T,label:p}),v);return A?s.createElement(A,(0,r.Z)({unmountOnExit:!0},E,{ref:void 0,in:m}),w):m?w:null}));C.displayName="Alert",C.defaultProps=b,C.Link=y,C.Heading=_;const E=C},84272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>L});var r=n(7896),o=n(31461),a=n(27452),i=n(2784);const s=function(e,t){var n=(0,i.useRef)(!0);(0,i.useEffect)((function(){if(!n.current)return e();n.current=!1}),t)};var l=n(90759),c=n(56876),u=n(22364),d=Math.pow(2,31)-1;function h(e,t,n){var r=n-Date.now();e.current=r<=d?setTimeout(t,r):setTimeout((function(){return h(e,t,n)}),d)}function m(){var e=(0,c.Z)(),t=(0,i.useRef)();return(0,u.Z)((function(){return clearTimeout(t.current)})),(0,i.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,o){void 0===o&&(o=0),e()&&(n(),o<=d?t.current=setTimeout(r,o):h(t,r,Date.now()+o))},clear:n}}),[])}var p=n(12524),g=n.n(p),f=n(14657),v=n(13980),_=n.n(v),y=n(20267);const b=(0,n(89023).Z)("carousel-caption");var C=n(29658),E=["as","bsPrefix","children","className"],S=i.forwardRef((function(e,t){var n=e.as,a=void 0===n?"div":n,s=e.bsPrefix,l=e.children,c=e.className,u=(0,o.Z)(e,E),d=g()(c,(0,C.vE)(s,"carousel-item"));return i.createElement(a,(0,r.Z)({ref:t},u,{className:d}),l)}));S.displayName="CarouselItem";const T=S;function A(e,t){var n=0;return i.Children.map(e,(function(e){return i.isValidElement(e)?t(e,n++):e}))}var w=n(8917),k=n(22037),I=n(4102),P=["as","bsPrefix","slide","fade","controls","indicators","activeIndex","onSelect","onSlide","onSlid","interval","keyboard","onKeyDown","pause","onMouseOver","onMouseOut","wrap","touch","onTouchStart","onTouchMove","onTouchEnd","prevIcon","prevLabel","nextIcon","nextLabel","className","children"],R={bsPrefix:_().string,as:_().elementType,slide:_().bool,fade:_().bool,controls:_().bool,indicators:_().bool,activeIndex:_().number,onSelect:_().func,onSlide:_().func,onSlid:_().func,interval:_().number,keyboard:_().bool,pause:_().oneOf(["hover",!1]),wrap:_().bool,touch:_().bool,prevIcon:_().node,prevLabel:_().string,nextIcon:_().node,nextLabel:_().string},x={slide:!0,fade:!1,controls:!0,indicators:!0,defaultActiveIndex:0,interval:5e3,keyboard:!0,pause:"hover",wrap:!0,touch:!0,prevIcon:i.createElement("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:"Previous",nextIcon:i.createElement("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:"Next"};function N(e,t){var n=(0,y.Ch)(e,{activeIndex:"onSelect"}),c=n.as,u=void 0===c?"div":c,d=n.bsPrefix,h=n.slide,p=n.fade,v=n.controls,_=n.indicators,b=n.activeIndex,E=n.onSelect,S=n.onSlide,T=n.onSlid,R=n.interval,x=n.keyboard,N=n.onKeyDown,O=n.pause,L=n.onMouseOver,M=n.onMouseOut,D=n.wrap,U=n.touch,F=n.onTouchStart,B=n.onTouchMove,H=n.onTouchEnd,q=n.prevIcon,G=n.prevLabel,z=n.nextIcon,X=n.nextLabel,$=n.className,V=n.children,W=(0,o.Z)(n,P),K=(0,C.vE)(d,"carousel"),j=(0,i.useRef)(null),Z=(0,i.useState)("next"),Y=Z[0],Q=Z[1],J=(0,i.useState)(!1),ee=J[0],te=J[1],ne=(0,i.useState)(!1),re=ne[0],oe=ne[1],ae=(0,i.useState)(b||0),ie=ae[0],se=ae[1];re||b===ie||(j.current?Q(j.current):Q((b||0)>ie?"next":"prev"),h&&oe(!0),se(b||0)),(0,i.useEffect)((function(){j.current&&(j.current=null)}));var le,ce=0;!function(e,t){var n=0;i.Children.forEach(e,(function(e){i.isValidElement(e)&&t(e,n++)}))}(V,(function(e,t){++ce,t===b&&(le=e.props.interval)}));var ue=(0,l.Z)(le),de=(0,i.useCallback)((function(e){if(!re){var t=ie-1;if(t<0){if(!D)return;t=ce-1}j.current="prev",E&&E(t,e)}}),[re,ie,E,D,ce]),he=(0,a.Z)((function(e){if(!re){var t=ie+1;if(t>=ce){if(!D)return;t=0}j.current="next",E&&E(t,e)}})),me=(0,i.useRef)();(0,i.useImperativeHandle)(t,(function(){return{element:me.current,prev:de,next:he}}));var pe=(0,a.Z)((function(){!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;var t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(me.current)&&he()})),ge="next"===Y?"left":"right";s((function(){h||(S&&S(ie,ge),T&&T(ie,ge))}),[ie]);var fe=K+"-item-"+Y,ve=K+"-item-"+ge,_e=(0,i.useCallback)((function(e){(0,I.Z)(e),S&&S(ie,ge)}),[S,ie,ge]),ye=(0,i.useCallback)((function(){oe(!1),T&&T(ie,ge)}),[T,ie,ge]),be=(0,i.useCallback)((function(e){if(x&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void de(e);case"ArrowRight":return e.preventDefault(),void he(e)}N&&N(e)}),[x,N,de,he]),Ce=(0,i.useCallback)((function(e){"hover"===O&&te(!0),L&&L(e)}),[O,L]),Ee=(0,i.useCallback)((function(e){te(!1),M&&M(e)}),[M]),Se=(0,i.useRef)(0),Te=(0,i.useRef)(0),Ae=m(),we=(0,i.useCallback)((function(e){Se.current=e.touches[0].clientX,Te.current=0,"hover"===O&&te(!0),F&&F(e)}),[O,F]),ke=(0,i.useCallback)((function(e){e.touches&&e.touches.length>1?Te.current=0:Te.current=e.touches[0].clientX-Se.current,B&&B(e)}),[B]),Ie=(0,i.useCallback)((function(e){if(U){var t=Te.current;Math.abs(t)>40&&(t>0?de(e):he(e))}"hover"===O&&Ae.set((function(){te(!1)}),R||void 0),H&&H(e)}),[U,O,de,he,Ae,R,H]),Pe=null!=R&&!ee&&!re,Re=(0,i.useRef)();(0,i.useEffect)((function(){var e,t;if(Pe)return Re.current=window.setInterval(document.visibilityState?pe:he,null!=(e=null!=(t=ue.current)?t:R)?e:void 0),function(){null!==Re.current&&clearInterval(Re.current)}}),[Pe,he,ue,R,pe]);var xe=(0,i.useMemo)((function(){return _&&Array.from({length:ce},(function(e,t){return function(e){E&&E(t,e)}}))}),[_,ce,E]);return i.createElement(u,(0,r.Z)({ref:me},W,{onKeyDown:be,onMouseOver:Ce,onMouseOut:Ee,onTouchStart:we,onTouchMove:ke,onTouchEnd:Ie,className:g()($,K,h&&"slide",p&&K+"-fade")}),_&&i.createElement("ol",{className:K+"-indicators"},A(V,(function(e,t){return i.createElement("li",{key:t,className:t===ie?"active":void 0,onClick:xe?xe[t]:void 0})}))),i.createElement("div",{className:K+"-inner"},A(V,(function(e,t){var n=t===ie;return h?i.createElement(f.ZP,{in:n,onEnter:n?_e:void 0,onEntered:n?ye:void 0,addEndListener:k.Z},(function(t){return i.cloneElement(e,{className:g()(e.props.className,n&&"entered"!==t&&fe,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&ve)})})):i.cloneElement(e,{className:g()(e.props.className,n&&"active")})}))),v&&i.createElement(i.Fragment,null,(D||0!==b)&&i.createElement(w.Z,{className:K+"-control-prev",onClick:de},q,G&&i.createElement("span",{className:"sr-only"},G)),(D||b!==ce-1)&&i.createElement(w.Z,{className:K+"-control-next",onClick:he},z,X&&i.createElement("span",{className:"sr-only"},X))))}var O=i.forwardRef(N);O.displayName="Carousel",O.propTypes=R,O.defaultProps=x,O.Caption=b,O.Item=T;const L=O},30016:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7896),o=n(31461),a=n(13980),i=n.n(a),s=n(2784),l=n(12524),c=n.n(l),u=["label","onClick","className"],d={label:i().string.isRequired,onClick:i().func},h=s.forwardRef((function(e,t){var n=e.label,a=e.onClick,i=e.className,l=(0,o.Z)(e,u);return s.createElement("button",(0,r.Z)({ref:t,type:"button",className:c()("close",i),onClick:a},l),s.createElement("span",{"aria-hidden":"true"},"\xd7"),s.createElement("span",{className:"sr-only"},n))}));h.displayName="CloseButton",h.propTypes=d,h.defaultProps={label:"Close"};const m=h},58370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o=n(7896),a=n(31461),i=n(12524),s=n.n(i),l=n(2784),c=n(14657),u=n(22037),d=n(4102),h=["className","children"],m=((r={})[c.d0]="show",r[c.cn]="show",r),p=l.forwardRef((function(e,t){var n=e.className,r=e.children,i=(0,a.Z)(e,h),p=(0,l.useCallback)((function(e){(0,d.Z)(e),i.onEnter&&i.onEnter(e)}),[i]);return l.createElement(c.ZP,(0,o.Z)({ref:t,addEndListener:u.Z},i,{onEnter:p}),(function(e,t){return l.cloneElement(r,(0,o.Z)({},t,{className:s()("fade",n,r.props.className,m[e])}))}))}));p.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},p.displayName="Fade";const g=p},3299:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(7896),o=n(31461),a=n(12524),i=n.n(a),s=n(2784),l=n(13980),c=n.n(l),u=n(29658),d=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],h=(c().string,c().bool,c().bool,c().bool,c().bool,s.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,l=e.fluid,c=e.rounded,h=e.roundedCircle,m=e.thumbnail,p=(0,o.Z)(e,d);n=(0,u.vE)(n,"img");var g=i()(l&&n+"-fluid",c&&"rounded",h&&"rounded-circle",m&&n+"-thumbnail");return s.createElement("img",(0,r.Z)({ref:t},p,{className:i()(a,g)}))})));h.displayName="Image",h.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};const m=h},89023:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(7896),o=n(31461),a=n(12524),i=n.n(a),s=/-(.)/g;var l=n(2784),c=n(29658),u=["className","bsPrefix","as"],d=function(e){return e[0].toUpperCase()+function(e){return e.replace(s,(function(e,t){return t.toUpperCase()}))}(e).slice(1)};function h(e,t){var n=void 0===t?{}:t,a=n.displayName,s=void 0===a?d(e):a,h=n.Component,m=n.defaultProps,p=l.forwardRef((function(t,n){var a=t.className,s=t.bsPrefix,d=t.as,m=void 0===d?h||"div":d,p=(0,o.Z)(t,u),g=(0,c.vE)(s,e);return l.createElement(m,(0,r.Z)({ref:n,className:i()(a,g)},p))}));return p.defaultProps=m,p.displayName=s,p}},46879:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(7896),o=n(2784),a=n(12524),i=n.n(a);const s=function(e){return o.forwardRef((function(t,n){return o.createElement("div",(0,r.Z)({},t,{ref:n,className:i()(t.className,e)}))}))}},22037:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(8258),o=n(30268);function a(e,t){var n=(0,r.Z)(e,t)||"",o=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*o}function i(e,t){var n=a(e,"transitionDuration"),r=a(e,"transitionDelay"),i=(0,o.Z)(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}},4102:(e,t,n)=>{"use strict";function r(e){e.offsetHeight}n.d(t,{Z:()=>r})},47933:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BrowserRouter:()=>u,HashRouter:()=>d,Link:()=>v,MemoryRouter:()=>r.VA,NavLink:()=>b,Prompt:()=>r.NL,Redirect:()=>r.l_,Route:()=>r.AW,Router:()=>r.F0,StaticRouter:()=>r.gx,Switch:()=>r.rs,generatePath:()=>r.Gn,matchPath:()=>r.LX,useHistory:()=>r.k6,useLocation:()=>r.TH,useParams:()=>r.UO,useRouteMatch:()=>r.$B,withRouter:()=>r.EN});var r=n(4517),o=n(36981),a=n(2784),i=n(70809),s=n(7896),l=n(31461),c=n(61898),u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,i.lX)(t.props),t}return(0,o.Z)(t,e),t.prototype.render=function(){return a.createElement(r.F0,{history:this.history,children:this.props.children})},t}(a.Component);var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=(0,i.q_)(t.props),t}return(0,o.Z)(t,e),t.prototype.render=function(){return a.createElement(r.F0,{history:this.history,children:this.props.children})},t}(a.Component);var h=function(e,t){return"function"===typeof e?e(t):e},m=function(e,t){return"string"===typeof e?(0,i.ob)(e,null,null,t):e},p=function(e){return e},g=a.forwardRef;"undefined"===typeof g&&(g=p);var f=g((function(e,t){var n=e.innerRef,r=e.navigate,o=e.onClick,i=(0,l.Z)(e,["innerRef","navigate","onClick"]),c=i.target,u=(0,s.Z)({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||c&&"_self"!==c||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return u.ref=p!==g&&t||n,a.createElement("a",u)}));var v=g((function(e,t){var n=e.component,o=void 0===n?f:n,u=e.replace,d=e.to,v=e.innerRef,_=(0,l.Z)(e,["component","replace","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=e.history,r=m(h(d,e.location),e.location),l=r?n.createHref(r):"",f=(0,s.Z)({},_,{href:l,navigate:function(){var t=h(d,e.location),r=(0,i.Ep)(e.location)===(0,i.Ep)(m(t));(u||r?n.replace:n.push)(t)}});return p!==g?f.ref=t||v:f.innerRef=v,a.createElement(o,f)}))})),_=function(e){return e},y=a.forwardRef;"undefined"===typeof y&&(y=_);var b=y((function(e,t){var n=e["aria-current"],o=void 0===n?"page":n,i=e.activeClassName,u=void 0===i?"active":i,d=e.activeStyle,p=e.className,g=e.exact,f=e.isActive,b=e.location,C=e.sensitive,E=e.strict,S=e.style,T=e.to,A=e.innerRef,w=(0,l.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(r.s6.Consumer,null,(function(e){e||(0,c.Z)(!1);var n=b||e.location,i=m(h(T,n),n),l=i.pathname,k=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),I=k?(0,r.LX)(n.pathname,{path:k,exact:g,sensitive:C,strict:E}):null,P=!!(f?f(I,n):I),R="function"===typeof p?p(P):p,x="function"===typeof S?S(P):S;P&&(R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(R,u),x=(0,s.Z)({},x,d));var N=(0,s.Z)({"aria-current":P&&o||null,className:R,style:x,to:i},w);return _!==y?N.ref=t||A:N.innerRef=A,a.createElement(v,N)}))}))},38870:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(7896),o=n(31461),a=n(36981);function i(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(2784),l=n(14657),c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=i(n.className,r):n.setAttribute("class",i(n.className&&n.className.baseVal||"",r)));var n,r}))},u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1];t.removeClasses(o,"exit"),t.addClass(o,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.addClass(o,a,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],a=r[1]?"appear":"enter";t.removeClasses(o,a),t.addClass(o,a,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,o=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}(0,a.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,a=n.done;this.appliedClasses[t]={},r&&c(e,r),o&&c(e,o),a&&c(e,a)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.Z)(e,["classNames"]));return s.createElement(l.ZP,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);u.defaultProps={classNames:""},u.propTypes={};const d=u},3358:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r,o,a=n(36981),i=n(2784),s=n(14657),l=n(77008);var c="out-in",u="in-out",d=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},h=((r={})[c]=function(e){var t=e.current,n=e.changeState;return i.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){n(s.d0,null)}))})},r[u]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,i.cloneElement(r,{in:!0,onEntered:d(r,"onEntered",(function(){n(s.d0)}))})]},r),m=((o={})[c]=function(e){var t=e.children,n=e.changeState;return i.cloneElement(t,{in:!0,onEntered:d(t,"onEntered",(function(){n(s.cn,i.cloneElement(t,{in:!0}))}))})},o[u]=function(e){var t=e.current,n=e.children,r=e.changeState;return[i.cloneElement(t,{in:!1,onExited:d(t,"onExited",(function(){r(s.cn,i.cloneElement(n,{in:!0}))}))}),i.cloneElement(n,{in:!0})]},o),p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).state={status:s.cn,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}(0,a.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===s.d0&&e.mode===u?{status:s.d0}:!t.current||(n=t.current,r=e.children,n===r||i.isValidElement(n)&&i.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:i.cloneElement(e.children,{in:!0})}:{status:s.Ix};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,o=this.state,a=o.status,c=o.current,u={children:n,current:c,changeState:this.changeState,status:a};switch(a){case s.d0:e=m[r](u);break;case s.Ix:e=h[r](u);break;case s.cn:e=c}return i.createElement(l.Z.Provider,{value:{isMounting:!this.appeared}},e)},t}(i.Component);p.propTypes={},p.defaultProps={mode:c};const g=p},14657:(e,t,n)=>{"use strict";n.d(t,{cn:()=>h,d0:()=>d,Ix:()=>m,ZP:()=>f});var r=n(31461),o=n(36981),a=n(2784),i=n(28316);const s=!1;var l=n(77008),c="unmounted",u="exited",d="entering",h="entered",m="exiting",p=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=u,r.appearStatus=d):o=h:o=t.unmountOnExit||t.mountOnEnter?c:u,r.state={status:o},r.nextCallback=null,r}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:u}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==h&&(t=d):n!==d&&n!==h||(t=m)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===d?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===u&&this.setState({status:c})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[i.findDOMNode(this),r],a=o[0],l=o[1],c=this.getTimeouts(),u=r?c.appear:c.enter;!e&&!n||s?this.safeSetState({status:h},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,l),this.safeSetState({status:d},(function(){t.props.onEntering(a,l),t.onTransitionEnd(u,(function(){t.safeSetState({status:h},(function(){t.props.onEntered(a,l)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!s?(this.props.onExit(r),this.safeSetState({status:m},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:u},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:u},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],s=o[1];this.props.addEndListener(a,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(l.Z.Provider,{value:null},"function"===typeof n?n(e,o):a.cloneElement(a.Children.only(n),o))},t}(a.Component);function g(){}p.contextType=l.Z,p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:g,onEntering:g,onEntered:g,onExit:g,onExiting:g,onExited:g},p.UNMOUNTED=c,p.EXITED=u,p.ENTERING=d,p.ENTERED=h,p.EXITING=m;const f=p},77008:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(2784).createContext(null)},97698:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSelector:()=>l,createSelectorCreator:()=>s,createStructuredSelector:()=>c,defaultEqualityCheck:()=>o,defaultMemoize:()=>a});var r="NOT_FOUND";var o=function(e,t){return e===t};function a(e,t){var n="object"===typeof t?t:{equalityCheck:t},a=n.equalityCheck,i=void 0===a?o:a,s=n.maxSize,l=void 0===s?1:s,c=n.resultEqualityCheck,u=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}}(i),d=1===l?function(e){var t;return{get:function(n){return t&&e(t.key,n)?t.value:r},put:function(e,n){t={key:e,value:n}},getEntries:function(){return t?[t]:[]},clear:function(){t=void 0}}}(u):function(e,t){var n=[];function o(e){var o=n.findIndex((function(n){return t(e,n.key)}));if(o>-1){var a=n[o];return o>0&&(n.splice(o,1),n.unshift(a)),a.value}return r}return{get:o,put:function(t,a){o(t)===r&&(n.unshift({key:t,value:a}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(l,u);function h(){var t=d.get(arguments);if(t===r){if(t=e.apply(null,arguments),c){var n=d.getEntries(),o=n.find((function(e){return c(e.value,t)}));o&&(t=o.value)}d.put(arguments,t)}return t}return h.clearCache=function(){return d.clear()},h}function i(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a,s=0,l={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(l=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=l,d=u.memoizeOptions,h=void 0===d?n:d,m=Array.isArray(h)?h:[h],p=i(r),g=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(m)),f=e((function(){for(var e=[],t=p.length,n=0;n<t;n++)e.push(p[n].apply(null,arguments));return a=g.apply(null,e)}));return Object.assign(f,{resultFunc:c,memoizedResultFunc:g,dependencies:p,lastResult:function(){return a},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),f};return o}var l=s(a),c=function(e,t){if(void 0===t&&(t=l),"object"!==typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e),r=t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}));return r}},57302:function(e,t){var n;!function(r){let o;function a(e,t){const n=e.charCodeAt(t);if(isNaN(n))throw new RangeError("Index "+t+' out of range for string "'+e+'"; please open an issue at https://github.com/Trott/slug/issues/new');if(n<55296||n>57343)return[e.charAt(t),t];if(n>=55296&&n<=56319){if(e.length<=t+1)return[" ",t];const n=e.charCodeAt(t+1);return n<56320||n>57343?[" ",t]:[e.charAt(t)+e.charAt(t+1),t+1]}if(0===t)return[" ",t];const r=e.charCodeAt(t-1);if(r<55296||r>56319)return[" ",t];throw new Error('String "'+e+'" reaches code believed to be unreachable; please open an issue at https://github.com/Trott/slug/issues/new')}function i(e,t){let n=l(e,t);if(""===n){let r="";for(let t=0;t<e.length;t++){const n=a(e,t);t=n[1],r+=n[0]}n=l(o(r),t)}return n}o=window.btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){const t=unescape(encodeURIComponent(e+""));let n="";for(let r,o,a=0,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.charAt(0|a)||(i="=",a%1);n+=i.charAt(63&r>>8-a%1*8)){if(o=t.charCodeAt(a+=3/4),o>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return n},"function"!==typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){"use strict";if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");const n=Object(e);for(let o=1;o<arguments.length;o++){const e=arguments[o];if(null!==e&&void 0!==e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},writable:!0,configurable:!0});const s={bg:{"\u0419":"Y","\u0439":"y",X:"H",x:"h","\u0426":"Ts","\u0446":"ts","\u0429":"Sht","\u0449":"sht","\u042a":"A","\u044a":"a","\u042c":"Y","\u044c":"y"},de:{"\xc4":"AE","\xe4":"ae","\xd6":"OE","\xf6":"oe","\xdc":"UE","\xfc":"ue"},sr:{"\u0111":"dj","\u0110":"DJ"},uk:{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"}};function l(e,t){if("string"!==typeof e)throw new Error("slug() requires a string argument, received "+typeof e);"string"===typeof t&&(t={replacement:t}),(t=t?Object.assign({},t):{}).mode=t.mode||i.defaults.mode;const n=i.defaults.modes[t.mode],r=["replacement","multicharmap","charmap","remove","lower","trim"];for(let i,s=0,u=r.length;s<u;s++)i=r[s],t[i]=i in t?t[i]:n[i];const o=s[t.locale]||{};let a=[];for(let i in t.multicharmap){if(!Object.prototype.hasOwnProperty.call(t.multicharmap,i))continue;const e=i.length;-1===a.indexOf(e)&&a.push(e)}a=a.sort((function(e,t){return t-e}));const l="rfc3986"===t.mode?/[^\w\s\-.~]/:/[^A-Za-z0-9\s]/;let c="";for(let i,s=0,u=e.length;s<u;s++){i=e[s];let n=!1;for(let r=0;r<a.length;r++){const o=a[r],l=e.substr(s,o);if(t.multicharmap[l]){s+=o-1,i=t.multicharmap[l],n=!0;break}}n||(i=o[i]?o[i]:t.charmap[i]?t.charmap[i]:i.includes(t.replacement)?i.replace(t.replacement," "):i.replace(l,"")),c+=i}return t.remove&&(c=c.replace(t.remove,"")),t.trim&&(c=c.trim()),c=c.replace(/\s+/g,t.replacement),t.lower&&(c=c.toLowerCase()),c}const c={"\u092b\u093c":"Fi","\u0917\u093c":"Ghi","\u0916\u093c":"Khi","\u0915\u093c":"Qi","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u05d1\u05b4\u05d9":"i","\u05d1\u05b5":"e","\u05d1\u05b5\u05d9":"e","\u05d1\u05b6":"e","\u05d1\u05b7":"a","\u05d1\u05b8":"a","\u05d1\u05b9":"o","\u05d5\u05b9":"o","\u05d1\u05bb":"u","\u05d5\u05bc":"u","\u05d1\u05bc":"b","\u05db\u05bc":"k","\u05da\u05bc":"k","\u05e4\u05bc":"p","\u05e9\u05c1":"sh","\u05e9\u05c2":"s","\u05d1\u05b0":"e","\u05d7\u05b1":"e","\u05d7\u05b2":"a","\u05d7\u05b3":"o","\u05d1\u05b4":"i"},u={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xc6":"AE","\xc7":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\u0150":"O","\xd8":"O","\u014c":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\u0170":"U","\xdd":"Y","\xde":"TH","\xdf":"ss","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\u0151":"o","\xf8":"o","\u014d":"o","\u0152":"OE","\u0153":"oe","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\u0171":"u","\xfd":"y","\xfe":"th","\xff":"y","\u1e9e":"SS","\u03b1":"a","\u03b2":"b","\u03b3":"g","\u03b4":"d","\u03b5":"e","\u03b6":"z","\u03b7":"h","\u03b8":"8","\u03b9":"i","\u03ba":"k","\u03bb":"l","\u03bc":"m","\u03bd":"n","\u03be":"3","\u03bf":"o","\u03c0":"p","\u03c1":"r","\u03c3":"s","\u03c4":"t","\u03c5":"y","\u03c6":"f","\u03c7":"x","\u03c8":"ps","\u03c9":"w","\u03ac":"a","\u03ad":"e","\u03af":"i","\u03cc":"o","\u03cd":"y","\u03ae":"h","\u03ce":"w","\u03c2":"s","\u03ca":"i","\u03b0":"y","\u03cb":"y","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039a":"K","\u039b":"L","\u039c":"M","\u039d":"N","\u039e":"3","\u039f":"O","\u03a0":"P","\u03a1":"R","\u03a3":"S","\u03a4":"T","\u03a5":"Y","\u03a6":"F","\u03a7":"X","\u03a8":"PS","\u03a9":"W","\u0386":"A","\u0388":"E","\u038a":"I","\u038c":"O","\u038e":"Y","\u0389":"H","\u038f":"W","\u03aa":"I","\u03ab":"Y","\u015f":"s","\u015e":"S","\u0131":"i","\u0130":"I","\u011f":"g","\u011e":"G","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0451":"yo","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044a":"u","\u044b":"y","\u044c":"","\u044d":"e","\u044e":"yu","\u044f":"ya","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0401":"Yo","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041a":"K","\u041b":"L","\u041c":"M","\u041d":"N","\u041e":"O","\u041f":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042a":"U","\u042b":"Y","\u042c":"","\u042d":"E","\u042e":"Yu","\u042f":"Ya","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0490":"G","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0491":"g","\u010d":"c","\u010f":"d","\u011b":"e","\u0148":"n","\u0159":"r","\u0161":"s","\u0165":"t","\u016f":"u","\u017e":"z","\u010c":"C","\u010e":"D","\u011a":"E","\u0147":"N","\u0158":"R","\u0160":"S","\u0164":"T","\u016e":"U","\u017d":"Z","\u013e":"l","\u013a":"l","\u0155":"r","\u013d":"L","\u0139":"L","\u0154":"R","\u0105":"a","\u0107":"c","\u0119":"e","\u0142":"l","\u0144":"n","\u015b":"s","\u017a":"z","\u017c":"z","\u0104":"A","\u0106":"C","\u0118":"E","\u0141":"L","\u0143":"N","\u015a":"S","\u0179":"Z","\u017b":"Z","\u0101":"a","\u0113":"e","\u0123":"g","\u012b":"i","\u0137":"k","\u013c":"l","\u0146":"n","\u016b":"u","\u0100":"A","\u0112":"E","\u0122":"G","\u012a":"I","\u0136":"K","\u013b":"L","\u0145":"N","\u016a":"U","\u0623":"a","\u0625":"i","\u0628":"b","\u062a":"t","\u062b":"th","\u062c":"g","\u062d":"h","\u062e":"kh","\u062f":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"d","\u0637":"t","\u0638":"th","\u0639":"aa","\u063a":"gh","\u0641":"f","\u0642":"k","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"o","\u064a":"y","\u0621":"aa","\u0629":"a","\u0622":"a","\u0627":"a","\u067e":"p","\u0698":"zh","\u06af":"g","\u0686":"ch","\u06a9":"k","\u06cc":"i","\u0117":"e","\u012f":"i","\u0173":"u","\u0116":"E","\u012e":"I","\u0172":"U","\u021b":"t","\u021a":"T","\u0163":"t","\u0162":"T","\u0219":"s","\u0218":"S","\u0103":"a","\u0102":"A","\u1ea0":"A","\u1ea2":"A","\u1ea6":"A","\u1ea4":"A","\u1eac":"A","\u1ea8":"A","\u1eaa":"A","\u1eb0":"A","\u1eae":"A","\u1eb6":"A","\u1eb2":"A","\u1eb4":"A","\u1eb8":"E","\u1eba":"E","\u1ebc":"E","\u1ec0":"E","\u1ebe":"E","\u1ec6":"E","\u1ec2":"E","\u1ec4":"E","\u1eca":"I","\u1ec8":"I","\u0128":"I","\u1ecc":"O","\u1ece":"O","\u1ed2":"O","\u1ed0":"O","\u1ed8":"O","\u1ed4":"O","\u1ed6":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee2":"O","\u1ede":"O","\u1ee0":"O","\u1ee4":"U","\u1ee6":"U","\u0168":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1ef0":"U","\u1eec":"U","\u1eee":"U","\u1ef2":"Y","\u1ef4":"Y","\u1ef6":"Y","\u1ef8":"Y","\u0110":"D","\u1ea1":"a","\u1ea3":"a","\u1ea7":"a","\u1ea5":"a","\u1ead":"a","\u1ea9":"a","\u1eab":"a","\u1eb1":"a","\u1eaf":"a","\u1eb7":"a","\u1eb3":"a","\u1eb5":"a","\u1eb9":"e","\u1ebb":"e","\u1ebd":"e","\u1ec1":"e","\u1ebf":"e","\u1ec7":"e","\u1ec3":"e","\u1ec5":"e","\u1ecb":"i","\u1ec9":"i","\u0129":"i","\u1ecd":"o","\u1ecf":"o","\u1ed3":"o","\u1ed1":"o","\u1ed9":"o","\u1ed5":"o","\u1ed7":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee3":"o","\u1edf":"o","\u1ee1":"o","\u1ee5":"u","\u1ee7":"u","\u0169":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1ef1":"u","\u1eed":"u","\u1eef":"u","\u1ef3":"y","\u1ef5":"y","\u1ef7":"y","\u1ef9":"y","\u0111":"d","\u04d8":"AE","\u04d9":"ae","\u0492":"GH","\u0493":"gh","\u049a":"KH","\u049b":"kh","\u04a2":"NG","\u04a3":"ng","\u04ae":"UE","\u04af":"ue","\u04b0":"U","\u04b1":"u","\u04ba":"H","\u04bb":"h","\u04e8":"OE","\u04e9":"oe","\u0452":"dj","\u0458":"j","\u0459":"lj","\u045a":"nj","\u045b":"c","\u045f":"dz","\u0402":"Dj","\u0408":"j","\u0409":"Lj","\u040a":"Nj","\u040b":"C","\u040f":"Dz","\u01cc":"nj","\u01c9":"lj","\u01cb":"NJ","\u01c8":"LJ","\u0905":"a","\u0906":"aa","\u090f":"e","\u0908":"ii","\u090d":"ei","\u090e":"ae","\u0910":"ai","\u0907":"i","\u0913":"o","\u0911":"oi","\u0912":"oii","\u090a":"uu","\u0914":"ou","\u0909":"u","\u092c":"B","\u092d":"Bha","\u091a":"Ca","\u091b":"Chha","\u0921":"Da","\u0922":"Dha","\u092b":"Fa","\u0917":"Ga","\u0918":"Gha","\u0917\u093c":"Ghi","\u0939":"Ha","\u091c":"Ja","\u091d":"Jha","\u0915":"Ka","\u0916":"Kha","\u0916\u093c":"Khi","\u0932":"L","\u0933":"Li","\u090c":"Li","\u0934":"Lii","\u0961":"Lii","\u092e":"Ma","\u0928":"Na","\u0919":"Na","\u091e":"Nia","\u0923":"Nae","\u0929":"Ni","\u0950":"oms","\u092a":"Pa","\u0915\u093c":"Qi","\u0930":"Ra","\u090b":"Ri","\u0960":"Ri","\u0931":"Ri","\u0938":"Sa","\u0936":"Sha","\u0937":"Shha","\u091f":"Ta","\u0924":"Ta","\u0920":"Tha","\u0926":"Tha","\u0925":"Tha","\u0927":"Thha","\u0921\u093c":"ugDha","\u0922\u093c":"ugDhha","\u0935":"Va","\u092f":"Ya","\u092f\u093c":"Yi","\u091c\u093c":"Za","\u0259":"e","\u018f":"E","\u10d0":"a","\u10d1":"b","\u10d2":"g","\u10d3":"d","\u10d4":"e","\u10d5":"v","\u10d6":"z","\u10d7":"t","\u10d8":"i","\u10d9":"k","\u10da":"l","\u10db":"m","\u10dc":"n","\u10dd":"o","\u10de":"p","\u10df":"zh","\u10e0":"r","\u10e1":"s","\u10e2":"t","\u10e3":"u","\u10e4":"p","\u10e5":"k","\u10e6":"gh","\u10e7":"q","\u10e8":"sh","\u10e9":"ch","\u10ea":"ts","\u10eb":"dz","\u10ec":"ts","\u10ed":"ch","\u10ee":"kh","\u10ef":"j","\u10f0":"h","\u05d1":"v","\u05d2\u05bc":"g","\u05d2":"g","\u05d3":"d","\u05d3\u05bc":"d","\u05d4":"h","\u05d5":"v","\u05d6":"z","\u05d7":"h","\u05d8":"t","\u05d9":"y","\u05db":"kh","\u05da":"kh","\u05dc":"l","\u05de":"m","\u05dd":"m","\u05e0":"n","\u05df":"n","\u05e1":"s","\u05e4":"f","\u05e3":"f","\u05e5":"ts","\u05e6":"ts","\u05e7":"k","\u05e8":"r","\u05ea\u05bc":"t","\u05ea":"t"};i.charmap=Object.assign({},u),i.multicharmap=Object.assign({},c),i.defaults={charmap:i.charmap,mode:"pretty",modes:{rfc3986:{replacement:"-",remove:null,lower:!0,charmap:i.charmap,multicharmap:i.multicharmap,trim:!0},pretty:{replacement:"-",remove:null,lower:!0,charmap:i.charmap,multicharmap:i.multicharmap,trim:!0}},multicharmap:i.multicharmap},i.reset=function(){i.defaults.modes.rfc3986.charmap=i.defaults.modes.pretty.charmap=i.charmap=i.defaults.charmap=Object.assign({},u),i.defaults.modes.rfc3986.multicharmap=i.defaults.modes.pretty.multicharmap=i.multicharmap=i.defaults.multicharmap=Object.assign({},c)},i.extend=function(e){const t=Object.keys(e),n={},r={};for(let o=0;o<t.length;o++)t[o].length>1?n[t[o]]=e[t[o]]:r[t[o]]=e[t[o]];Object.assign(i.charmap,r),Object.assign(i.multicharmap,n)},void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},20267:(e,t,n)=>{"use strict";n.d(t,{Ch:()=>l});var r=n(7896),o=n(31461),a=n(2784);n(47677);function i(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function l(e,t){return Object.keys(t).reduce((function(n,l){var c,u=n,d=u[i(l)],h=u[l],m=(0,o.Z)(u,[i(l),l].map(s)),p=t[l],g=function(e,t,n){var r=(0,a.useRef)(void 0!==e),o=(0,a.useState)(t),i=o[0],s=o[1],l=void 0!==e,c=r.current;return r.current=l,!l&&c&&i!==t&&s(t),[l?e:i,(0,a.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(h,d,e[p]),f=g[0],v=g[1];return(0,r.Z)({},m,((c={})[l]=f,c[p]=v,c))}),e)}function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function u(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function d(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}c.__suppressDeprecationWarning=!0,u.__suppressDeprecationWarning=!0,d.__suppressDeprecationWarning=!0},99829:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/manifest-icon-dev-512.55747289.png"},425:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/loading-dark.5ecfc863.gif"},96587:(e,t,n)=>{"use strict";e.exports=n.p+"static/media/loading-light.e12a8d19.gif"},26388:(e,t,n)=>{"use strict";n.d(t,{L:()=>u});var r=n(806),o=n(44287),a=n(40361),i=n(49845);class s{static loggerCallback(e,t){switch(e){case r.i.Error:return void console.error(t);case r.i.Info:return void console.info(t);case r.i.Verbose:return void console.debug(t);case r.i.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment=!0,this.config=(0,o._7)(e,this.browserEnvironment);try{t=window[i.Ix.SessionStorage]}catch(h){}const n=t?.getItem(i.bg),l=t?.getItem(i.PK)?.toLowerCase(),c="true"===l||"false"!==l&&void 0,u={...this.config.system.loggerOptions},d=n&&Object.keys(r.i).includes(n)?r.i[n]:void 0;d&&(u.loggerCallback=s.loggerCallback,u.logLevel=d),void 0!==c&&(u.piiLoggingEnabled=c),this.logger=new r.Y(u,a.u,a.i),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class l extends s{getModuleName(){return l.MODULE_NAME}getId(){return l.ID}async initialize(){return this.available=!0,this.available}}l.MODULE_NAME="",l.ID="StandardOperatingContext";var c=n(97664);class u{static async createPublicClientApplication(e){const t=await async function(e){const t=new l(e);return await t.initialize(),(await Promise.resolve().then(n.bind(n,97664))).StandardController.createController(t)}(e);return new u(e,t)}constructor(e,t){if(t)this.controller=t;else{const t=new l(e);this.controller=new c.StandardController(t)}}async initialize(){return this.controller.initialize()}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e){return this.controller.addEventCallback(e)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}},56051:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});class r{constructor(){this.cache=new Map}getItem(e){return this.cache.get(e)||null}setItem(e,t){this.cache.set(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}},44287:(e,t,n)=>{"use strict";n.d(t,{Is:()=>C,_7:()=>E});var r=n(3062),o=n(49273),a=n(28514),i=n(806),s=n(37656),l=n(95493),c=n(28847);const u={sendGetRequestAsync:()=>Promise.reject((0,l.zP)(c.M2)),sendPostRequestAsync:()=>Promise.reject((0,l.zP)(c.M2))};var d=n(80367);class h{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class m{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:d.$L.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new h}}startPerformanceMeasurement(){return new h}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}var p=n(34032),g=n(13420),f=n(49845),v=n(27694),_=n(75258),y=n(87162);class b{async sendGetRequestAsync(e,t){let n;try{n=await fetch(e,{method:f.EC.GET,headers:this.getFetchHeaders(t)})}catch(r){throw window.navigator.onLine?(0,_.Z_)(y.C8):(0,_.Z_)(y.Mq)}try{return{headers:this.getHeaderDict(n.headers),body:await n.json(),status:n.status}}catch(r){throw(0,_.Z_)(y.w6)}}async sendPostRequestAsync(e,t){const n=t&&t.body||r.gT.EMPTY_STRING;let o;try{o=await fetch(e,{method:f.EC.POST,headers:this.getFetchHeaders(t),body:n})}catch(a){throw window.navigator.onLine?(0,_.Z_)(y.Dc):(0,_.Z_)(y.Mq)}try{return{headers:this.getHeaderDict(o.headers),body:await o.json(),status:o.status}}catch(a){throw(0,_.Z_)(y.w6)}}getFetchHeaders(e){const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.keys(n).forEach((e=>{t.append(e,n[e])})),t}getHeaderDict(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}}const C=1e4;function E({auth:e,cache:t,system:n,telemetry:l},c){const d={clientId:r.gT.EMPTY_STRING,authority:`${r.gT.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:r.gT.EMPTY_STRING,authorityMetadata:r.gT.EMPTY_STRING,redirectUri:r.gT.EMPTY_STRING,postLogoutRedirectUri:r.gT.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:o.A.AAD,OIDCOptions:{serverResponseType:r.rg.FRAGMENT,defaultScopes:[r.gT.OPENID_SCOPE,r.gT.PROFILE_SCOPE,r.gT.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:a.z.None,tenant:r.gT.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1},h={cacheLocation:f.Ix.SessionStorage,temporaryCacheLocation:f.Ix.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!t||t.cacheLocation!==f.Ix.LocalStorage),claimsBasedCachingEnabled:!1},_={loggerCallback:()=>{},logLevel:i.i.Info,piiLoggingEnabled:!1},y={...{...s.z,loggerOptions:_,networkClient:c?new b:u,navigationClient:new v.d,loadFrameTimeout:0,windowHashTimeout:n?.loadFrameTimeout||6e4,iframeHashTimeout:n?.loadFrameTimeout||C,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowNativeBroker:!1,nativeBrokerHandshakeTimeout:n?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:f.qx.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:n?.loggerOptions||_},E={application:{appName:r.gT.EMPTY_STRING,appVersion:r.gT.EMPTY_STRING},client:new m};if(e?.protocolMode!==o.A.OIDC&&e?.OIDCOptions){new i.Y(y.loggerOptions).warning(JSON.stringify((0,p.ei)(g.qz)))}if(e?.protocolMode&&e.protocolMode!==o.A.AAD&&y?.allowNativeBroker)throw(0,p.ei)(g.Ol);return{auth:{...d,...e,OIDCOptions:{...d.OIDCOptions,...e?.OIDCOptions}},cache:{...h,...t},system:y,telemetry:{...E,...l}}}},97664:(e,t,n)=>{"use strict";n.r(t),n.d(t,{StandardController:()=>ct});var r=n(24698),o=n(65231),a=n(56845);var i=n(59575),s=n(95493),l=n(3062),c=n(20718),u=n(34032),d=n(49273),h=n(28514);var m=n(80367);const p=(e,t,n,r,o)=>(...a)=>{n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);try{const r=e(...a);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(s){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(s))}catch(s){n.trace("Unable to print error message.")}throw i?.end({success:!1}),s}},g=(e,t,n,r,o)=>(...a)=>{n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);return r?.setPreQueueTime(t,o),e(...a).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1}),e}))};class f{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(m.Ak.RegionDiscoveryDetectRegion,this.correlationId);let n=e;if(n)t.region_source=l.W.ENVIRONMENT_VARIABLE;else{const e=f.IMDS_OPTIONS;try{const r=await g(this.getRegionFromIMDS.bind(this),m.Ak.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(l.gT.IMDS_VERSION,e);if(r.status===l.YY.httpSuccess&&(n=r.body,t.region_source=l.W.IMDS),r.status===l.YY.httpBadRequest){const r=await g(this.getCurrentVersion.bind(this),m.Ak.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=l.W.FAILED_AUTO_DETECTION,null;const o=await g(this.getRegionFromIMDS.bind(this),m.Ak.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===l.YY.httpSuccess&&(n=o.body,t.region_source=l.W.IMDS)}}catch(r){return t.region_source=l.W.FAILED_AUTO_DETECTION,null}}return n||(t.region_source=l.W.FAILED_AUTO_DETECTION),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(m.Ak.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${l.gT.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,l.gT.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(m.Ak.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${l.gT.IMDS_ENDPOINT}?format=json`,e);return t.status===l.YY.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}f.IMDS_OPTIONS={headers:{Metadata:"true"}};var v=n(42815),_=n(8516),y=n(28847),b=n(13420);class C{constructor(e,t,n,r,o,a,i){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=a,this.correlationId=i,this.regionDiscovery=new f(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(l.gT.CIAM_AUTH_URL))return a.a.Ciam;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case l.gT.ADFS:return a.a.Adfs;case l.gT.DSTS:return a.a.Dsts}return a.a.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new i.G(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw(0,s.zP)(y.HO)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw(0,s.zP)(y.HO)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw(0,s.zP)(y.HO)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw(0,s.zP)(y.ig);return this.replacePath(this.metadata.end_session_endpoint)}throw(0,s.zP)(y.HO)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw(0,s.zP)(y.HO)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw(0,s.zP)(y.HO)}canReplaceTenant(e){return 1===e.PathSegments.length&&!C.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===a.a.Default&&this.protocolMode===d.A.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new i.G(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let a=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new i.G(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];a!==e&&(this.logger.verbose(`Replacing tenant domain name ${a} with id ${e}`),a=e)}e!==a&&(t=t.replace(`/${a}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===a.a.Adfs||this.protocolMode!==d.A.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(m.Ak.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await g(this.updateCloudDiscoveryMetadata.bind(this),m.Ak.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await g(this.updateEndpointMetadata.bind(this),m.Ak.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n})}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:(0,_.Rw)(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==l.pQ.CACHE&&n?.source!==l.pQ.CACHE&&(e.expiresAt=(0,_.Rw)(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(m.Ak.AuthorityUpdateEndpointMetadata,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===l.pQ.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){const n=await g(this.updateMetadataWithRegionalInformation.bind(this),m.Ak.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata);(0,_.xc)(e,n,!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await g(this.getEndpointMetadataFromNetwork.bind(this),m.Ak.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await g(this.updateMetadataWithRegionalInformation.bind(this),m.Ak.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n)),(0,_.xc)(e,n,!0),l.pQ.NETWORK;throw(0,s.zP)(y.Ce,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),(0,_.xc)(e,t,!1),{source:l.pQ.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return(0,_.xc)(e,t,!1),{source:l.pQ.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=(0,_.k5)(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:l.pQ.CACHE}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new i.G(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw(0,u.ei)(b.zx)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(m.Ak.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.canonicalAuthority in c.Qh?c.Qh[this.canonicalAuthority]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(m.Ak.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==l.gT.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=l.ki.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,C.replaceWithRegionalInformation(e,t);const n=await g(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),m.Ak.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=l.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=n,C.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=l.ki.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(m.Ak.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await g(this.getCloudDiscoveryMetadataFromNetwork.bind(this),m.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(n)return(0,_.Cd)(e,n,!0),l.pQ.NETWORK;throw(0,u.ei)(b.o_)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||l.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||l.gT.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||l.gT.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),(0,_.Cd)(e,t,!1),l.pQ.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(0,c.ix)(this.hostnameAndPort);if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),(0,_.Cd)(e,t,!1),l.pQ.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const n=(0,_.k5)(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),l.pQ.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===a.a.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),C.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=(0,c.eM)(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),(0,u.ei)(b.E)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),C.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(m.Ak.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${l.gT.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,a;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,a=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===l.gT.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=(0,c.eM)(a,this.hostnameAndPort)}catch(r){if(r instanceof v.l4)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=C.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&i.G.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==h.z.None){const e=t.tenant?t.tenant:l.gT.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw(0,s.zP)(y.HO)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return c.wn.has(e)}static isPublicCloudAuthority(e){return l.gT.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new i.G(e);r.validateAsUri();const o=r.getUrlComponents();let a=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(a=`${t}.${l.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=i.G.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:a}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=C.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=C.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=C.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new i.G(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(l.gT.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${l.gT.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function E(e){return e.endsWith(l.gT.FORWARD_SLASH)?e:`${e}${l.gT.FORWARD_SLASH}`}C.reservedTenantDomains=new Set(["{tenant}","{tenantid}",l.Nb.COMMON,l.Nb.CONSUMERS,l.Nb.ORGANIZATIONS]);var S=n(83355),T=n(72361),A=n(92233),w=n(93741),k=n(30303);class I{static setRequestState(e,t,n){const r=I.generateLibraryState(e,n);return t?`${r}${l.gT.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw(0,s.zP)(y.QL);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw(0,s.zP)(y.QL);if(!t)throw(0,s.zP)(y.r8);try{const n=t.split(l.gT.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(l.gT.RESOURCE_DELIM):l.gT.EMPTY_STRING,a=e.base64Decode(r),i=JSON.parse(a);return{userRequestState:o||l.gT.EMPTY_STRING,libraryState:i}}catch(n){throw(0,s.zP)(y.r8)}}}const P="home_account_id",R="UPN";var x=n(48280);class N{constructor(e,t,n,r,o){this.account=e||null,this.idToken=t||null,this.accessToken=n||null,this.refreshToken=r||null,this.appMetadata=o||null}}var O=n(75258),L=n(49845);const M="storage_not_supported",D="stubbed_public_client_application_called",U="in_mem_redirect_unavailable",F={[M]:"Given storage configuration option was not supported.",[D]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[U]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class B extends v.l4{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,B.prototype)}}function H(e){return new B(e,F[e])}class q{constructor(e){this.validateWindowStorage(e),this.windowStorage=window[e]}validateWindowStorage(e){if(e!==L.Ix.LocalStorage&&e!==L.Ix.SessionStorage||!window[e])throw H(M)}getItem(e){return this.windowStorage.getItem(e)}setItem(e,t){this.windowStorage.setItem(e,t)}removeItem(e){this.windowStorage.removeItem(e)}getKeys(){return Object.keys(this.windowStorage)}containsKey(e){return this.windowStorage.hasOwnProperty(e)}}var G=n(56051);function z(e,t){if(!t)return null;try{return I.parseRequestState(e,t).libraryState.meta}catch(n){throw(0,s.zP)(y.r8)}}var X=n(14080),$=n(7773),V=n(87162);class W extends w.L{constructor(e,t,n,r,o){super(e,n,r,o),this.COOKIE_LIFE_MULTIPLIER=864e5,this.cacheConfig=t,this.logger=r,this.internalStorage=new G.k,this.browserStorage=this.setupBrowserStorage(this.cacheConfig.cacheLocation),this.temporaryCacheStorage=this.setupTemporaryCacheStorage(this.cacheConfig.temporaryCacheLocation,this.cacheConfig.cacheLocation),t.cacheMigrationEnabled&&(this.migrateCacheEntries(),this.createKeyMaps())}setupBrowserStorage(e){switch(e){case L.Ix.LocalStorage:case L.Ix.SessionStorage:try{return new q(e)}catch(t){this.logger.verbose(t);break}}return this.cacheConfig.cacheLocation=L.Ix.MemoryStorage,new G.k}setupTemporaryCacheStorage(e,t){switch(t){case L.Ix.LocalStorage:case L.Ix.SessionStorage:try{return new q(e||L.Ix.SessionStorage)}catch(n){return this.logger.verbose(n),this.internalStorage}case L.Ix.MemoryStorage:default:return this.internalStorage}}migrateCacheEntries(){const e=`${l.gT.CACHE_PREFIX}.${l.Vi.ID_TOKEN}`,t=`${l.gT.CACHE_PREFIX}.${l.Vi.CLIENT_INFO}`,n=`${l.gT.CACHE_PREFIX}.${l.Vi.ERROR}`,r=`${l.gT.CACHE_PREFIX}.${l.Vi.ERROR_DESC}`,o=[this.browserStorage.getItem(e),this.browserStorage.getItem(t),this.browserStorage.getItem(n),this.browserStorage.getItem(r)];[l.Vi.ID_TOKEN,l.Vi.CLIENT_INFO,l.Vi.ERROR,l.Vi.ERROR_DESC].forEach(((e,t)=>this.migrateCacheEntry(e,o[t])))}migrateCacheEntry(e,t){t&&this.setTemporaryCache(e,t,!0)}createKeyMaps(){this.logger.trace("BrowserCacheManager - createKeyMaps called.");const e=this.getItem(L.Oq.ACCOUNT_KEYS),t=this.getItem(`${L.Oq.TOKEN_KEYS}.${this.clientId}`);if(e&&t)return void this.logger.verbose("BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.");this.browserStorage.getKeys().forEach((e=>{if(this.isCredentialKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);if(n&&n.hasOwnProperty("credentialType"))switch(n.credentialType){case l.d3.ID_TOKEN:if(_.Bq(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,l.d3.ID_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${e}`);break;case l.d3.ACCESS_TOKEN:case l.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:if(_.Om(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,l.d3.ACCESS_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${e}`);break;case l.d3.REFRESH_TOKEN:if(_.x4(n)){this.logger.trace("BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${e} found, saving key to token key map`);const t=n,r=this.updateCredentialCacheKey(e,t);return void this.addTokenKey(r,l.d3.REFRESH_TOKEN)}this.logger.trace("BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping."),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${e}`)}}}if(this.isAccountKey(e)){const t=this.getItem(e);if(t){const n=this.validateAndParseJson(t);n&&T.r.isAccountEntity(n)&&(this.logger.trace("BrowserCacheManager:createKeyMaps - account found, saving key to account key map"),this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${e} found, saving key to account key map`),this.addAccountKeyToMap(e))}}}))}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getItem(e){return this.browserStorage.getItem(e)}setItem(e,t){this.browserStorage.setItem(e,t)}getAccount(e,t){this.logger.trace("BrowserCacheManager.getAccount called");const n=this.getCachedAccountEntity(e);return this.updateOutdatedCachedAccount(e,n,t)}getCachedAccountEntity(e){const t=this.getItem(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&T.r.isAccountEntity(n)?w.L.toObject(new T.r,n):(this.removeAccountKeyFromMap(e),null)}setAccount(e){this.logger.trace("BrowserCacheManager.setAccount called");const t=e.generateAccountKey();this.setItem(t,JSON.stringify(e)),this.addAccountKeyToMap(t)}getAccountKeys(){this.logger.trace("BrowserCacheManager.getAccountKeys called");const e=this.getItem(L.Oq.ACCOUNT_KEYS);return e?JSON.parse(e):(this.logger.verbose("BrowserCacheManager.getAccountKeys - No account keys found"),[])}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();-1===t.indexOf(e)?(t.push(e),this.setItem(L.Oq.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added")):this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map")}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.setItem(L.Oq.ACCOUNT_KEYS,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}removeOutdatedAccount(e){this.removeItem(e),this.removeAccountKeyFromMap(e)}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,l.d3.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,l.d3.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,l.d3.REFRESH_TOKEN)}getTokenKeys(){this.logger.trace("BrowserCacheManager.getTokenKeys called");const e=this.getItem(`${L.Oq.TOKEN_KEYS}.${this.clientId}`);if(e){const t=this.validateAndParseJson(e);if(t&&t.hasOwnProperty("idToken")&&t.hasOwnProperty("accessToken")&&t.hasOwnProperty("refreshToken"))return t;this.logger.error("BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.")}else this.logger.verbose("BrowserCacheManager.getTokenKeys - No token keys found");return{idToken:[],accessToken:[],refreshToken:[]}}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case l.d3.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case l.d3.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case l.d3.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),(0,s.zP)(y.cy)}this.setItem(`${L.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case l.d3.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case l.d3.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case l.d3.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const a=n.refreshToken.indexOf(e);a>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(a,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),(0,s.zP)(y.cy)}this.setItem(`${L.Oq.TOKEN_KEYS}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,l.d3.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&_.Bq(n)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,l.d3.ID_TOKEN),null)}setIdTokenCredential(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const t=_.Mk(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,l.d3.ID_TOKEN)}getAccessTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,l.d3.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&_.Om(n)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,l.d3.ACCESS_TOKEN),null)}setAccessTokenCredential(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const t=_.Mk(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,l.d3.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,l.d3.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&_.x4(n)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,l.d3.REFRESH_TOKEN),null)}setRefreshTokenCredential(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const t=_.Mk(e);this.setItem(t,JSON.stringify(e)),this.addTokenKey(t,l.d3.REFRESH_TOKEN)}getAppMetadata(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&_.ZL(e,n)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=_.Ox(e);this.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&_.Js(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&_.FK(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(L.Bs.WRAPPER_SKU,e),this.internalStorage.setItem(L.Bs.WRAPPER_VER,t)}getWrapperMetadata(){return[this.internalStorage.getItem(L.Bs.WRAPPER_SKU)||l.gT.EMPTY_STRING,this.internalStorage.getItem(L.Bs.WRAPPER_VER)||l.gT.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(l.Vi.ACTIVE_ACCOUNT_FILTERS),t=this.getItem(e);if(!t){this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema");const e=this.generateCacheKey(l.Vi.ACTIVE_ACCOUNT),t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null;const n=this.getAccountInfoFilteredBy({localAccountId:t});return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Legacy active account cache schema found"),this.logger.trace("BrowserCacheManager.getActiveAccount: Adding active account filters cache schema"),this.setActiveAccount(n),n):null}const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(l.Vi.ACTIVE_ACCOUNT_FILTERS),n=this.generateCacheKey(l.Vi.ACTIVE_ACCOUNT);if(e){this.logger.verbose("setActiveAccount: Active account set");const r={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(r)),this.browserStorage.setItem(n,e.localAccountId)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t),this.browserStorage.removeItem(n)}getThrottlingCache(e){const t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&_.VQ(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.getItemCookie(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===L.Ix.LocalStorage){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(r,t))}removeItem(e){this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e))}containsKey(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)}getKeys(){return[...this.browserStorage.getKeys(),...this.temporaryCacheStorage.getKeys()]}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.getKeys().forEach((e=>{!this.browserStorage.containsKey(e)&&!this.temporaryCacheStorage.containsKey(e)||-1===e.indexOf(l.gT.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e){e.addQueueMeasurement(m.Ak.ClearTokensAndKeysWithClaims);const t=this.getTokenKeys(),n=[];t.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&n.push(this.removeAccessToken(e))})),await Promise.all(n),n.length>0&&this.logger.warning(`${n.length} access tokens with claims in the cache keys have been removed from the cache.`)}setItemCookie(e,t,n){let r=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=Lax;`;if(n){r+=`expires=${this.getCookieExpirationTime(n)};`}this.cacheConfig.secureCookies&&(r+="Secure;"),document.cookie=r}getItemCookie(e){const t=`${encodeURIComponent(e)}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let e=n[r];for(;" "===e.charAt(0);)e=e.substring(1);if(0===e.indexOf(t))return decodeURIComponent(e.substring(t.length,e.length))}return l.gT.EMPTY_STRING}clearMsalCookies(){const e=`${l.gT.CACHE_PREFIX}.${this.clientId}`;document.cookie.split(";").forEach((t=>{for(;" "===t.charAt(0);)t=t.substring(1);if(0===t.indexOf(e)){const e=t.split("=")[0];this.clearItemCookie(e)}}))}clearItemCookie(e){this.setItemCookie(e,l.gT.EMPTY_STRING,-1)}getCookieExpirationTime(e){const t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()}getCache(){return this.browserStorage}setCache(){}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):k.x.startsWith(e,l.gT.CACHE_PREFIX)||k.x.startsWith(e,l.Vi.ADAL_ID_TOKEN)?e:`${l.gT.CACHE_PREFIX}.${this.clientId}.${e}`}generateAuthorityKey(e){const{libraryState:{id:t}}=I.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${L.c4.AUTHORITY}.${t}`)}generateNonceKey(e){const{libraryState:{id:t}}=I.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${L.c4.NONCE_IDTOKEN}.${t}`)}generateStateKey(e){const{libraryState:{id:t}}=I.parseRequestState(this.cryptoImpl,e);return this.generateCacheKey(`${L.c4.REQUEST_STATE}.${t}`)}getCachedAuthority(e){const t=this.generateStateKey(e),n=this.getTemporaryCache(t);if(!n)return null;const r=this.generateAuthorityKey(n);return this.getTemporaryCache(r)}updateCacheEntries(e,t,n,r,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");const a=this.generateStateKey(e);this.setTemporaryCache(a,e,!1);const i=this.generateNonceKey(e);this.setTemporaryCache(i,t,!1);const s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,n,!1),o){const e={credential:o.homeAccountId,type:P};this.setTemporaryCache(L.c4.CCS_CREDENTIAL,JSON.stringify(e),!0)}else if(r){const e={credential:r,type:R};this.setTemporaryCache(L.c4.CCS_CREDENTIAL,JSON.stringify(e),!0)}}resetRequestCache(e){this.logger.trace("BrowserCacheManager.resetRequestCache called"),e&&(this.getKeys().forEach((t=>{-1!==t.indexOf(e)&&this.removeItem(t)})),this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(L.c4.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(L.c4.ORIGIN_URI)),this.removeItem(this.generateCacheKey(L.c4.URL_HASH)),this.removeItem(this.generateCacheKey(L.c4.CORRELATION_ID)),this.removeItem(this.generateCacheKey(L.c4.CCS_CREDENTIAL)),this.removeItem(this.generateCacheKey(L.c4.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cleanRequestByState(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){const t=this.generateStateKey(e),n=this.temporaryCacheStorage.getItem(t);this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n||l.gT.EMPTY_STRING)}this.clearMsalCookies()}cleanRequestByInteractionType(e){this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((t=>{if(-1===t.indexOf(L.c4.REQUEST_STATE))return;const n=this.temporaryCacheStorage.getItem(t);if(!n)return;const r=z(this.cryptoImpl,n);r&&r.interactionType===e&&(this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${n}`),this.resetRequestCache(n))})),this.clearMsalCookies(),this.setInteractionInProgress(!1)}cacheCodeRequest(e){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");const t=(0,$.h$)(JSON.stringify(e));this.setTemporaryCache(L.c4.REQUEST_PARAMS,t,!0)}getCachedRequest(e){this.logger.trace("BrowserCacheManager.getCachedRequest called");const t=this.getTemporaryCache(L.c4.REQUEST_PARAMS,!0);if(!t)throw(0,O.Z_)(V.QO);let n;try{n=JSON.parse((0,X.t)(t))}catch(r){throw this.logger.errorPii(`Attempted to parse: ${t}`),this.logger.error(`Parsing cached token request threw with error: ${r}`),(0,O.Z_)(V.e$)}if(this.removeItem(this.generateCacheKey(L.c4.REQUEST_PARAMS)),!n.authority){const t=this.generateAuthorityKey(e),r=this.getTemporaryCache(t);if(!r)throw(0,O.Z_)(V.dT);n.authority=r}return n}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(L.c4.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress();return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${l.gT.CACHE_PREFIX}.${L.c4.INTERACTION_STATUS_KEY}`;return this.getTemporaryCache(e,!1)}setInteractionInProgress(e){const t=`${l.gT.CACHE_PREFIX}.${L.c4.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw(0,O.Z_)(V.Ck);this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeItem(t)}getLegacyLoginHint(){const e=this.getTemporaryCache(l.Vi.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(l.Vi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));const t=this.getTemporaryCache(l.Vi.ID_TOKEN,!0);t&&(this.removeItem(this.generateCacheKey(l.Vi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));const n=t||e;if(n){const e=x.Z_(n,X.t);if(e.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),e.preferred_username;if(e.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),e.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null}updateCredentialCacheKey(e,t){const n=_.Mk(t);if(e!==n){const r=this.getItem(e);if(r)return this.removeItem(e),this.setItem(n,r),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),n;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}getRedirectRequestContext(){return this.getTemporaryCache(L.c4.REDIRECT_CONTEXT,!0)}setRedirectRequestContext(e){this.setTemporaryCache(L.c4.REDIRECT_CONTEXT,e,!0)}async hydrateCache(e,t){const n=_.Md(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o=_.Ds(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?.getTime()||0,e.extExpiresOn?.getTime()||0,X.t,void 0,e.tokenType,void 0,t.sshKid,t.claims,r),a=new N(void 0,n,o);return this.saveCacheRecord(a)}}function K(){return window.parent!==window}function j(){return window.location.href.split("?")[0].split("#")[0]}function Z(){if(i.G.hashContainsKnownProperties(window.location.hash)&&K())throw(0,O.Z_)(V.xO)}function Y(){if(window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${L.qx.POPUP_NAME_PREFIX}.`))throw(0,O.Z_)(V.bj)}function Q(e){if(!e)throw(0,O.Z_)(V.al)}function J(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}var ee=n(74887),te=n(8786),ne=n(25029);class re{static generateThrottlingStorageKey(e){return`${l.bb.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t){const n=re.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new ne.n(r.errorCodes?.join(" ")||l.gT.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(re.checkResponseStatus(n)||re.checkResponseForRetryAfter(n)){const r={throttleTime:re.calculateThrottleTime(parseInt(n.headers[l.SZ.RETRY_AFTER])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(re.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(l.SZ.RETRY_AFTER)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||l.bb.DEFAULT_THROTTLE_TIME_SECONDS),n+l.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,n,r){const o={clientId:t,authority:n.authority,scopes:n.scopes,homeAccountIdentifier:r,claims:n.claims,authenticationScheme:n.authenticationScheme,resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,sshKid:n.sshKid},a=this.generateThrottlingStorageKey(o);e.removeItem(a)}}var oe=n(37656);class ae{constructor(e,t){this.networkClient=e,this.cacheManager=t}async sendPostRequest(e,t,n){let r;re.preProcess(this.cacheManager,e);try{r=await this.networkClient.sendPostRequestAsync(t,n)}catch(o){throw o instanceof v.l4?o:(0,s.zP)(y.EF)}return re.postProcess(this.cacheManager,e,r),r}}var ie=n(806),se=n(80594),le=n(60997),ce=n(49314);class ue{static async createDiscoveredInstance(e,t,n,r,o,a,i){a?.addQueueMeasurement(m.Ak.AuthorityFactoryCreateDiscoveredInstance,i);const l=C.transformCIAMAuthority(E(e)),c=ue.createInstance(l,t,n,r,o,a,i);try{return await g(c.resolveEndpointsAsync.bind(c),m.Ak.AuthorityResolveEndpointsAsync,o,a,i)(),c}catch(u){throw(0,s.zP)(y.HO)}}static createInstance(e,t,n,r,o,a,i){if(!e)throw(0,u.ei)(b.To);return new C(e,t,n,r,o,a,i)}}class de{constructor(e,t){this.config=(0,oe.j6)(e),this.logger=new ie.Y(this.config.loggerOptions,se.u,se.i),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new ae(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[l.SZ.CONTENT_TYPE]=l.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case P:try{const n=(0,le.j)(e.credential);t[l.SZ.CCS_HEADER]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case R:t[l.SZ.CCS_HEADER]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,a){a&&this.performanceClient?.addQueueMeasurement(a,o);const i=await this.networkManager.sendPostRequest(r,e,{body:t,headers:n});return this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:i.headers?.[l.SZ.X_MS_HTTP_VERSION]||""},o),this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(m.Ak.UpdateTokenEndpointAuthority,t);const n=`https://${e}/${this.authority.tenant}/`,r=await ue.createDiscoveredInstance(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,this.performanceClient,t);this.authority=r}createTokenQueryParameters(e){const t=new ce.H;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()}}var he=n(83363),me=n(91164),pe=n(75178);const ge="sw";class fe{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(m.Ak.PopTokenGenerateCnf,e.correlationId);const n=await g(this.generateKid.bind(this),m.Ak.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64Encode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r,reqCnfHash:await this.cryptoUtils.hashString(r)}}async generateKid(e){this.performanceClient?.addQueueMeasurement(m.Ak.PopTokenGenerateKid,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:ge}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:a,shrClaims:s,shrNonce:l,shrOptions:c}=n,u=(a?new i.G(a):void 0)?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:pe.I.nowSeconds(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:s||void 0,...r},t,c,n.correlationId)}}class ve{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}var _e=n(59926),ye=n(95956);class be{constructor(e,t,n,r,o,a,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=a,this.performanceClient=i}validateServerAuthorizationCodeResponse(e,t){if(!e.state||!t)throw e.state?(0,s.zP)(y.LV,"Cached State"):(0,s.zP)(y.LV,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw(0,s.zP)(y.r8,e.state)}try{r=decodeURIComponent(t)}catch(o){throw(0,s.zP)(y.r8,e.state)}if(n!==r)throw(0,s.zP)(y.Tu);if(e.error||e.error_description||e.suberror){if((0,S.Cf)(e.error,e.error_description,e.suberror))throw new S.Yo(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"");throw new ne.n(e.error||"",e.error_description,e.suberror)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`${e.error_codes} - [${e.timestamp}]: ${e.error_description} - Correlation ID: ${e.correlation_id} - Trace ID: ${e.trace_id}`,r=new ne.n(e.error,n,e.suberror);if(t&&e.status&&e.status>=l.oj.SERVER_ERROR_RANGE_START&&e.status<=l.oj.SERVER_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${r}`);if(t&&e.status&&e.status>=l.oj.CLIENT_ERROR_RANGE_START&&e.status<=l.oj.CLIENT_ERROR_RANGE_END)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${r}`);if((0,S.Cf)(e.error,e.error_description,e.suberror))throw new S.Yo(e.error,e.error_description,e.suberror,e.timestamp||l.gT.EMPTY_STRING,e.trace_id||l.gT.EMPTY_STRING,e.correlation_id||l.gT.EMPTY_STRING,e.claims||l.gT.EMPTY_STRING);throw r}}async handleServerTokenResponse(e,t,n,r,o,a,i,c,u){let d,h;if(this.performanceClient?.addQueueMeasurement(m.Ak.HandleServerTokenResponse,e.correlation_id),e.id_token){if(d=(0,x.Z_)(e.id_token||l.gT.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&d.nonce!==o.nonce)throw(0,s.zP)(y.vR);if(r.maxAge||0===r.maxAge){const e=d.auth_time;if(!e)throw(0,s.zP)(y.w7);(0,x.ky)(e,r.maxAge)}}this.homeAccountIdentifier=T.r.generateHomeAccountId(e.client_info||l.gT.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,d),o&&o.state&&(h=I.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const p=this.generateCacheRecord(e,t,n,r,d,a,o);let g;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),g=new ve(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(g)),i&&!c&&p.account){const e=p.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await be.generateAuthenticationResult(this.cryptoObj,t,p,!1,r,d,h,void 0,u)}await this.cacheStorage.saveCacheRecord(p,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&g&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(g))}return be.generateAuthenticationResult(this.cryptoObj,t,p,!1,r,d,h,e,u)}generateCacheRecord(e,t,n,r,o,a,i){const l=t.getPreferredCache();if(!l)throw(0,s.zP)(y.Q9);const c=(0,_e.M)(o);let u,d;e.id_token&&o&&(u=(0,_.Md)(this.homeAccountIdentifier,l,e.id_token,this.clientId,c||""),d=Ce(this.cacheStorage,t,this.homeAccountIdentifier,o,this.cryptoObj.base64Decode,e.client_info,l,c,i,void 0,this.logger));let h=null;if(e.access_token){const o=e.scope?me.i.fromString(e.scope):new me.i(r.scopes||[]),i=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,s=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,d=n+i,m=d+s,p=u&&u>0?n+u:void 0;h=(0,_.Ds)(this.homeAccountIdentifier,l,e.access_token,this.clientId,c||t.tenant,o.printScopes(),d,m,this.cryptoObj.base64Decode,p,e.token_type,a,e.key_id,r.claims,r.requestedClaimsHash)}let m=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}m=(0,_.OJ)(this.homeAccountIdentifier,l,e.refresh_token,this.clientId,e.foci,a,t)}let p=null;return e.foci&&(p={clientId:this.clientId,environment:l,familyId:e.foci}),new N(d,u,h,m,p)}static async generateAuthenticationResult(e,t,n,r,o,a,i,c,u){let d,h,m=l.gT.EMPTY_STRING,p=[],g=null,f=l.gT.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType===l.hO.POP){const t=new fe(e),{secret:r,keyId:a}=n.accessToken;if(!a)throw(0,s.zP)(y.Of);m=await t.signPopToken(r,a,o)}else m=n.accessToken.secret;p=me.i.fromString(n.accessToken.target).asArray(),g=new Date(1e3*Number(n.accessToken.expiresOn)),d=new Date(1e3*Number(n.accessToken.extendedExpiresOn)),n.accessToken.refreshOn&&(h=new Date(1e3*Number(n.accessToken.refreshOn)))}n.appMetadata&&(f=n.appMetadata.familyId===l.ch?l.ch:"");const v=a?.oid||a?.sub||"",_=a?.tid||"";c?.spa_accountid&&n.account&&(n.account.nativeAccountId=c?.spa_accountid);const b=n.account?(0,ye.$f)(n.account.getAccountInfo(),void 0,a):null;return{authority:t.canonicalAuthority,uniqueId:v,tenantId:_,scopes:p,account:b,idToken:n?.idToken?.secret||"",idTokenClaims:a||{},accessToken:m,fromCache:r,expiresOn:g,extExpiresOn:d,refreshOn:h,correlationId:o.correlationId,requestId:u||l.gT.EMPTY_STRING,familyId:f,tokenType:n.accessToken?.tokenType||l.gT.EMPTY_STRING,state:i?i.userRequestState:l.gT.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||l.gT.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||l.gT.EMPTY_STRING,code:c?.spa_code,fromNativeBroker:!1}}}function Ce(e,t,n,r,o,a,i,s,l,c,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d,u));const m=h||T.r.createAccount({homeAccountId:n,idTokenClaims:r,clientInfo:a,environment:i,cloudGraphHostName:l?.cloud_graph_host_name,msGraphHost:l?.msgraph_host,nativeAccountId:c},t,o),p=m.tenantProfiles||[];if(s&&!p.find((e=>e.tenantId===s))){const e=(0,ye.SI)(n,r);p.push(e)}return m.tenantProfiles=p,m}var Ee=n(71246);class Se extends de{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(m.Ak.GetAuthCodeUrl,e.correlationId);const t=await g(this.createAuthCodeUrlQueryString.bind(this),m.Ak.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return i.G.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(m.Ak.AuthClientAcquireToken,e.correlationId),!e.code)throw(0,s.zP)(y.FU);const n=pe.I.nowSeconds(),r=await g(this.executeTokenRequest.bind(this),m.Ak.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[l.SZ.X_MS_REQUEST_ID],a=new be(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return a.validateTokenResponse(r.body),g(a.handleServerTokenResponse.bind(a),m.Ak.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}handleFragmentResponse(e,t){if(new be(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw(0,s.zP)(y.Zv);return e}getLogoutUri(e){if(!e)throw(0,u.ei)(b.$h);const t=this.createLogoutUrlQueryString(e);return i.G.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(m.Ak.AuthClientExecuteTokenRequest,t.correlationId);const n=this.createTokenQueryParameters(t),r=i.G.appendQueryString(e.tokenEndpoint,n),o=await g(this.createTokenRequestBody.bind(this),m.Ak.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);let a;if(t.clientInfo)try{const e=(0,le.B)(t.clientInfo,this.cryptoUtils.base64Decode);a={credential:`${e.uid}${l.Bv.CLIENT_INFO_SEPARATOR}${e.utid}`,type:P}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const s=this.createTokenRequestHeaders(a||t.ccsCredential),c={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return g(this.executePostToTokenEndpoint.bind(this),m.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(r,o,s,c,t.correlationId,m.Ak.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(m.Ak.AuthClientCreateTokenRequestBody,e.correlationId);const t=new ce.H;if(t.addClientId(e.tokenBodyParameters?.[he.Cx]||this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):Ee.D.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.oidcDefaultScopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!(0,oe.lh)(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const e=this.config.clientCredentials.clientAssertion;t.addClientAssertion(e.assertion),t.addClientAssertionType(e.assertionType)}if(t.addGrantType(l.qJ.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme===l.hO.POP){const n=new fe(this.cryptoUtils,this.performanceClient),r=await g(n.generateCnf.bind(n),m.Ak.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);t.addPopToken(r.reqCnfString)}else if(e.authenticationScheme===l.hO.SSH){if(!e.sshJwk)throw(0,u.ei)(b.dK);t.addSshJwk(e.sshJwk)}const n=e.correlationId||this.config.cryptoInterface.createNewGuid();let r;if(t.addCorrelationId(n),(!k.x.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=(0,le.B)(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${t.uid}${l.Bv.CLIENT_INFO_SEPARATOR}${t.utid}`,type:P}}catch(o){this.logger.verbose("Could not parse client info for CCS Header: "+o)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case P:try{const e=(0,le.j)(r.credential);t.addCcsOid(e)}catch(o){this.logger.verbose("Could not parse home account ID for CCS Header: "+o)}break;case R:t.addCcsUpn(r.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[he.Zb]||t.addExtraQueryParameters({[he.Zb]:"1"}),t.createQueryString()}async createAuthCodeUrlQueryString(e){this.performanceClient?.addQueueMeasurement(m.Ak.AuthClientCreateQueryString,e.correlationId);const t=new ce.H;t.addClientId(e.extraQueryParameters?.[he.Cx]||this.config.authOptions.clientId);const n=[...e.scopes||[],...e.extraScopesToConsent||[]];t.addScopes(n,!0,this.oidcDefaultScopes),t.addRedirectUri(e.redirectUri);const r=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(r),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),(0,oe.lh)(this.config)||t.addApplicationTelemetry(this.config.telemetry.application),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==l.NJ.SELECT_ACCOUNT)if(e.sid&&e.prompt===l.NJ.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){const n=this.extractAccountSid(e.account),r=this.extractLoginHint(e.account);if(r){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),t.addLoginHint(r);try{const n=(0,le.j)(e.account.homeAccountId);t.addCcsOid(n)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(n&&e.prompt===l.NJ.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(n);try{const n=(0,le.j)(e.account.homeAccountId);t.addCcsOid(n)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{const n=(0,le.j)(e.account.homeAccountId);t.addCcsOid(n)}catch(o){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),e.nativeBroker&&(t.addNativeBroker(),e.authenticationScheme===l.hO.POP)){const n=new fe(this.cryptoUtils),r=await g(n.generateCnf.bind(n),m.Ak.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);t.addPopToken(r.reqCnfHash)}return t.createQueryString()}createLogoutUrlQueryString(e){const t=new ce.H;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}class Te{constructor(e,t){this.cacheOutcome=l.To.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||l.gT.EMPTY_STRING,this.wrapperVer=e.wrapperVer||l.gT.EMPTY_STRING,this.telemetryCacheKey=l.HN.CACHE_KEY+l.Bv.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${l.HN.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer].join(l.HN.VALUE_SEPARATOR),n=[e,this.getRegionDiscoveryFields()].join(l.HN.VALUE_SEPARATOR);return[l.HN.SCHEMA_VERSION,n,t].join(l.HN.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=Te.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(l.HN.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(l.HN.VALUE_SEPARATOR),o=e.errors.length,a=[o,t<o?l.HN.OVERFLOW_TRUE:l.HN.OVERFLOW_FALSE].join(l.HN.VALUE_SEPARATOR);return[l.HN.SCHEMA_VERSION,e.cacheHits,n,r,a].join(l.HN.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=l.HN.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof v.l4?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(l.HN.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=Te.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||l.gT.EMPTY_STRING,a=e.failedRequests[2*t+1]||l.gT.EMPTY_STRING,i=e.errors[t]||l.gT.EMPTY_STRING;if(r+=o.toString().length+a.toString().length+i.length+3,!(r<l.HN.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||l.gT.EMPTY_STRING),e.push(this.regionSource||l.gT.EMPTY_STRING),e.push(this.regionOutcome||l.gT.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}}var Ae=n(40361),we=n(32235);class ke{constructor(e,t,n,r,o,a,i,s,l){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=a,this.nativeMessageHandler=s,this.correlationId=l||(0,we.nn)(),this.logger=r.clone(L.qx.MSAL_SKU,Ae.i,this.correlationId),this.performanceClient=i}async clearCacheOnLogout(e){if(e){T.r.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(T.r.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}async initializeBaseRequest(e,t){this.performanceClient.addQueueMeasurement(m.Ak.InitializeBaseRequest,this.correlationId);const n=e.authority||this.config.auth.authority;t&&await this.validateRequestAuthority(n,t);const r=[...e&&e.scopes||[]],o={...e,correlationId:this.correlationId,authority:n,scopes:r};if(o.authenticationScheme){if(o.authenticationScheme===l.hO.SSH){if(!e.sshJwk)throw(0,u.ei)(b.dK);if(!e.sshKid)throw(0,u.ei)(b.hI)}this.logger.verbose(`Authentication Scheme set to "${o.authenticationScheme}" as configured in Auth request`)}else o.authenticationScheme=l.hO.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return this.config.cache.claimsBasedCachingEnabled&&e.claims&&!k.x.isEmptyObj(e.claims)&&(o.requestedClaimsHash=await this.browserCrypto.hashString(e.claims)),o}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri||j();return i.G.getAbsoluteUrl(t,j())}async validateRequestAuthority(e,t){if(!(await this.getDiscoveredAuthority(e)).isAlias(t.environment))throw(0,u.ei)(b.Hv)}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Te(n,this.browserStorage)}async getDiscoveredAuthority(e){this.logger.verbose("getDiscoveredAuthority called");const t={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata};return e?(this.logger.verbose("Creating discovered authority with request authority"),ue.createDiscoveredInstance(e,this.config.system.networkClient,this.browserStorage,t,this.logger)):(this.logger.verbose("Creating discovered authority with configured authority"),ue.createDiscoveredInstance(this.config.auth.authority,this.config.system.networkClient,this.browserStorage,t,this.logger))}}async function Ie(e,t,n){e.addQueueMeasurement(m.Ak.GeneratePkceCodes,n);const r=p(Pe,m.Ak.GenerateCodeVerifier,t,e,n)(e,t,n);return{verifier:r,challenge:await g(Re,m.Ak.GenerateCodeChallengeFromVerifier,t,e,n)(r,e,t,n)}}function Pe(e,t,n){try{const r=new Uint8Array(32);p(we.PP,m.Ak.GetRandomValues,t,e,n)(r);return(0,$.Wy)(r)}catch(r){throw(0,O.Z_)(V.vD)}}async function Re(e,t,n,r){t.addQueueMeasurement(m.Ak.GenerateCodeChallengeFromVerifier,r);try{const o=await g(we.Fv,m.Ak.Sha256Digest,n,t,r)(e,t,r);return(0,$.Wy)(new Uint8Array(o))}catch(o){throw(0,O.Z_)(V.vD)}}class xe extends ke{async initializeAuthorizationCodeRequest(e){this.performanceClient.addQueueMeasurement(m.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,this.correlationId);const t=await g(Ie,m.Ak.GeneratePkceCodes,this.logger,this.performanceClient,this.correlationId)(this.performanceClient,this.logger,this.correlationId),n={...e,redirectUri:e.redirectUri,code:l.gT.EMPTY_STRING,codeVerifier:t.verifier};return e.codeChallenge=t.challenge,e.codeChallengeMethod=l.gT.S256_CODE_CHALLENGE_METHOD,n}initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||(0,we.nn)(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=i.G.getAbsoluteUrl(e.postLogoutRedirectUri,j())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=i.G.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,j())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=i.G.getAbsoluteUrl(j(),j())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e,t,n){this.performanceClient.addQueueMeasurement(m.Ak.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const r=await g(this.getClientConfiguration.bind(this),m.Ak.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,n);return new Se(r,this.performanceClient)}async getClientConfiguration(e,t,n){this.performanceClient.addQueueMeasurement(m.Ak.StandardInteractionClientGetClientConfiguration,this.correlationId);const r=await g(this.getDiscoveredAuthority.bind(this),m.Ak.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)(t,n),o=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:r,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:o.loggerCallback,piiLoggingEnabled:o.piiLoggingEnabled,logLevel:o.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:L.qx.MSAL_SKU,version:Ae.i,cpu:l.gT.EMPTY_STRING,os:l.gT.EMPTY_STRING},telemetry:this.config.telemetry}}async getDiscoveredAuthority(e,t){this.performanceClient.addQueueMeasurement(m.Ak.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const n={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},r=e||this.config.auth.authority,o=C.generateAuthority(r,t||this.config.auth.azureCloudOptions);return g(ue.createDiscoveredInstance.bind(ue),m.Ak.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(o,this.config.system.networkClient,this.browserStorage,n,this.logger,this.performanceClient,this.correlationId)}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(m.Ak.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=I.setRequestState(this.browserCrypto,e&&e.state||l.gT.EMPTY_STRING,r),a={...await g(this.initializeBaseRequest.bind(this),m.Ak.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(e),redirectUri:n,state:o,nonce:e.nonce||(0,we.nn)(),responseMode:this.config.auth.OIDCOptions.serverResponseType},i=e.account||this.browserStorage.getActiveAccount();if(i&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${i.homeAccountId}`,this.correlationId),a.account=i),!a.loginHint&&!i){const e=this.browserStorage.getLegacyLoginHint();e&&(a.loginHint=e)}return a}}var Ne=n(12031);const Oe="user_switch",Le={[Oe]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class Me extends v.l4{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,Me.prototype),this.name="NativeAuthError",this.ext=n}}function De(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function Ue(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return(0,S.ip)(A.QP);case"USER_INTERACTION_REQUIRED":return new S.Yo(e,t);case"USER_CANCEL":return(0,O.Z_)(V.h7);case"NO_NETWORK":return(0,O.Z_)(V.Mq)}return new Me(e,Le[e]||t,n)}class Fe extends de{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(m.Ak.RefreshTokenClientAcquireToken,e.correlationId);const t=pe.I.nowSeconds(),n=await g(this.executeTokenRequest.bind(this),m.Ak.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[l.SZ.X_MS_REQUEST_ID],o=new be(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),g(o.handleServerTokenResponse.bind(o),m.Ak.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw(0,u.ei)(b.dL);if(this.performanceClient?.addQueueMeasurement(m.Ak.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw(0,s.zP)(y.D7);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await g(this.acquireTokenWithCachedRefreshToken.bind(this),m.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof S.Yo&&t.errorCode===A.I2,r=t instanceof ne.n&&t.errorCode===l.D1.INVALID_GRANT_ERROR&&t.subError===l.D1.CLIENT_MISMATCH_ERROR;if(n||r)return g(this.acquireTokenWithCachedRefreshToken.bind(this),m.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return g(this.acquireTokenWithCachedRefreshToken.bind(this),m.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(m.Ak.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const n=p(this.cacheManager.getRefreshToken.bind(this.cacheManager),m.Ak.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw(0,S.ip)(A.I2);if(n.expiresOn&&pe.I.isTokenExpired(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw(0,S.ip)(A.Tw);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||l.hO.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:P}};try{return await g(this.acquireToken.bind(this),m.Ak.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(r)}catch(o){if(o instanceof S.Yo&&o.subError===A.nl){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=(0,_.Mk)(n);this.cacheManager.removeRefreshToken(e)}throw o}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(m.Ak.RefreshTokenClientExecuteTokenRequest,e.correlationId);const n=this.createTokenQueryParameters(e),r=i.G.appendQueryString(t.tokenEndpoint,n),o=await g(this.createTokenRequestBody.bind(this),m.Ak.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),a=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return g(this.executePostToTokenEndpoint.bind(this),m.Ak.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(r,o,a,s,e.correlationId,m.Ak.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(m.Ak.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const t=e.correlationId,n=new ce.H;if(n.addClientId(e.tokenBodyParameters?.[he.Cx]||this.config.authOptions.clientId),e.redirectUri&&n.addRedirectUri(e.redirectUri),n.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),n.addGrantType(l.qJ.REFRESH_TOKEN_GRANT),n.addClientInfo(),n.addLibraryInfo(this.config.libraryInfo),n.addApplicationTelemetry(this.config.telemetry.application),n.addThrottling(),this.serverTelemetryManager&&!(0,oe.lh)(this.config)&&n.addServerTelemetry(this.serverTelemetryManager),n.addCorrelationId(t),n.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&n.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const e=this.config.clientCredentials.clientAssertion;n.addClientAssertion(e.assertion),n.addClientAssertionType(e.assertionType)}if(e.authenticationScheme===l.hO.POP){const t=new fe(this.cryptoUtils,this.performanceClient),r=await g(t.generateCnf.bind(t),m.Ak.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger);n.addPopToken(r.reqCnfString)}else if(e.authenticationScheme===l.hO.SSH){if(!e.sshJwk)throw(0,u.ei)(b.dK);n.addSshJwk(e.sshJwk)}if((!k.x.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&n.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case P:try{const t=(0,le.j)(e.ccsCredential.credential);n.addCcsOid(t)}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case R:n.addCcsUpn(e.ccsCredential.credential)}return e.tokenBodyParameters&&n.addExtraQueryParameters(e.tokenBodyParameters),n.createQueryString()}}class Be extends de{constructor(e,t){super(e,t)}async acquireToken(e){try{const[t,n]=await this.acquireCachedToken(e);if(n===l.To.PROACTIVELY_REFRESHED){this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.");new Fe(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch((()=>{}))}return t}catch(t){if(t instanceof s.er&&t.errorCode===y.s$){return new Fe(this.config,this.performanceClient).acquireTokenByRefreshToken(e)}throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(m.Ak.SilentFlowClientAcquireCachedToken,e.correlationId);let t=l.To.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!k.x.isEmptyObj(e.claims))throw this.setCacheOutcome(l.To.FORCE_REFRESH_OR_CLAIMS,e.correlationId),(0,s.zP)(y.s$);if(!e.account)throw(0,s.zP)(y.D7);const n=e.account.tenantId||function(e){const t=new i.G(e).getUrlComponents().PathSegments.slice(-1)[0].toLowerCase();switch(t){case l.Nb.COMMON:case l.Nb.ORGANIZATIONS:case l.Nb.CONSUMERS:return;default:return t}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(l.To.NO_CACHED_ACCESS_TOKEN,e.correlationId),(0,s.zP)(y.s$);if(pe.I.wasClockTurnedBack(o.cachedAt)||pe.I.isTokenExpired(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(l.To.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),(0,s.zP)(y.s$);o.refreshOn&&pe.I.isTokenExpired(o.refreshOn,0)&&(t=l.To.PROACTIVELY_REFRESHED);const a=e.authority||this.authority.getPreferredCache(),c={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(a)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await g(this.generateResultFromCacheRecord.bind(this),m.Ak.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(c,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==l.To.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(m.Ak.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId),e.idToken&&(n=(0,x.Z_)(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw(0,s.zP)(y.w7);(0,x.ky)(e,t.maxAge)}return be.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class He extends xe{async acquireToken(e){this.performanceClient.addQueueMeasurement(m.Ak.SilentCacheClientAcquireToken,e.correlationId);const t=this.initializeServerTelemetryManager(L.WN.acquireTokenSilent_silentFlow),n=await this.createSilentFlowClient(t,e.authority,e.azureCloudOptions);this.logger.verbose("Silent auth client created");try{const t=(await g(n.acquireCachedToken.bind(n),m.Ak.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(r){throw r instanceof O.Ut&&r.errorCode===V.XM&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),r}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}async createSilentFlowClient(e,t,n){const r=await g(this.getClientConfiguration.bind(this),m.Ak.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,n);return new Be(r,this.performanceClient)}async initializeSilentRequest(e,t){this.performanceClient.addQueueMeasurement(m.Ak.InitializeSilentRequest,this.correlationId);const n=await g(this.initializeBaseRequest.bind(this),m.Ak.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)(e,t);return{...e,...n,account:t,forceRefresh:e.forceRefresh||!1}}}const qe="brk_client_id",Ge="brk_redirect_uri";class ze extends ke{constructor(e,t,n,r,o,a,i,s,l,c,u,d){super(e,t,n,r,o,a,s,l,d),this.apiId=i,this.accountId=c,this.nativeMessageHandler=l,this.nativeStorageManager=u,this.silentCacheClient=new He(e,this.nativeStorageManager,n,r,o,a,s,l,d)}async acquireToken(e){this.performanceClient.addQueueMeasurement(m.Ak.NativeInteractionClientAcquireToken,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const t=this.performanceClient.startMeasurement(m.Ak.NativeInteractionClientAcquireToken,e.correlationId),n=pe.I.nowSeconds(),r=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,r);return t.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(s){this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const o={method:L.Ky.GetToken,request:r},a=await this.nativeMessageHandler.sendMessage(o),i=this.validateNativeResponse(a);return this.handleNativeResponse(i,r,n).then((e=>(t.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),e))).catch((e=>{throw t.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:me.i.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),(0,s.zP)(y.cX);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw(0,s.zP)(y.cX);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const t=await this.initializeNativeRequest(e),n={method:L.Ky.GetToken,request:t};try{const e=await this.nativeMessageHandler.sendMessage(n);this.validateNativeResponse(e)}catch(a){if(a instanceof Me&&De(a))throw a}this.browserStorage.setTemporaryCache(L.c4.NATIVE_REQUEST,JSON.stringify(t),!0);const r={apiId:L.WN.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);await this.navigationClient.navigateExternal(o,r)}async handleRedirectPromise(){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const e=this.browserStorage.getCachedNativeRequest();if(!e)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),null;const{prompt:t,...n}=e;t&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(L.c4.NATIVE_REQUEST));const r={method:L.Ky.GetToken,request:n},o=pe.I.nowSeconds();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(r);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,n,o);return this.browserStorage.setInteractionInProgress(!1),await t}catch(a){throw this.browserStorage.setInteractionInProgress(!1),a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){if(this.logger.trace("NativeInteractionClient - handleNativeResponse called."),e.account.id!==t.accountId)throw Ue(Oe);const r=await this.getDiscoveredAuthority(t.authority),o=x.Z_(e.id_token,X.t),a=this.createHomeAccountIdentifier(e,o),i=Ce(this.browserStorage,r,a,o,X.t,e.client_info,void 0,o.tid,void 0,e.account.id,this.logger),s=await this.generateAuthenticationResult(e,t,o,i,r.canonicalAuthority,n);return this.cacheAccount(i),this.cacheNativeTokens(e,t,a,o,s.accessToken,s.tenantId,n),s}createHomeAccountIdentifier(e,t){return T.r.generateHomeAccountId(e.client_info||l.gT.EMPTY_STRING,a.a.Default,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?me.i.fromString(e.scope):me.i.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===l.hO.POP){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new fe(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw(0,s.zP)(y.Of);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,a){const i=this.addTelemetryFromNativeResponse(e),s=e.scope?me.i.fromString(e.scope):me.i.fromString(t.scope),c=e.account.properties||{},u=c.UID||n.oid||n.sub||l.gT.EMPTY_STRING,d=c.TenantId||n.tid||l.gT.EMPTY_STRING,h=(0,ye.$f)(r.getAccountInfo(),void 0,n),m=await this.generatePopAccessToken(e,t),p=t.tokenType===l.hO.POP?l.hO.POP:l.hO.BEARER;return{authority:o,uniqueId:u,tenantId:d,scopes:s.asArray(),account:h,idToken:e.id_token,idTokenClaims:n,accessToken:m,fromCache:!!i&&this.isResponseFromCache(i),expiresOn:new Date(1e3*Number(a+e.expires_in)),tokenType:p,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}cacheAccount(e){this.browserStorage.setAccount(e),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,a,i){const s=_.Md(n,t.authority,e.id_token||"",t.clientId,r.tid||""),c=i+(t.tokenType===l.hO.POP?l.gT.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),u=this.generateScopes(e,t),d=_.Ds(n,t.authority,o,t.clientId,r.tid||a,u.printScopes(),c,0,X.t),h=new N(void 0,s,d);this.nativeStorageManager.saveCacheRecord(h,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw(0,v.MD)(Ne.g,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.validateRequestAuthority(t,e.account);const n=new i.G(t);n.validateAsUri();const{scopes:r,...o}=e,a=new me.i(r||[]);a.appendScopes(l.f_);const s={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:a.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case L.WN.ssoSilent:case L.WN.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),l.NJ.NONE}if(e.prompt)switch(e.prompt){case l.NJ.NONE:case l.NJ.CONSENT:case l.NJ.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),(0,O.Z_)(V.o9)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1};if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=L.BD.MATS_TELEMETRY,e.authenticationScheme===l.hO.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new fe(this.browserCrypto),r=await g(n.generateCnf.bind(n),m.Ak.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(t,this.logger);s.reqCnf=r.reqCnfHash,s.keyId=r.kid}return s}handleExtraBrokerParams(e){if(e.extraParameters&&e.extraParameters.hasOwnProperty(qe)&&e.extraParameters.hasOwnProperty(Ge)&&e.extraParameters.hasOwnProperty(he.Cx)){const t=e.extraParameters[he.Cx],n=e.redirectUri,r=e.extraParameters[Ge];e.extraParameters={child_client_id:t,child_redirect_uri:n},e.redirectUri=r}}}class Xe{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(m.Ak.NativeMessageHandlerHandshake)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:L.BD.CHANNEL_ID,extensionId:this.extensionId,responseId:(0,we.nn)(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new Xe(e,t,n,L.BD.PREFERRED_EXTENSION_ID);return await r.sendHandshakeRequest(),r}catch(r){const o=new Xe(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:L.BD.CHANNEL_ID,extensionId:this.extensionId,responseId:(0,we.nn)(),body:{method:L.Ky.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n((0,O.Z_)(V.hR)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===L.BD.CHANNEL_ID&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===L.Ky.HandshakeRequest){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject((0,O.Z_)(V.Wb))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===L.Ky.Response){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(Ue(e.code,e.description,e.ext));else{if(!e.result)throw(0,v.MD)(Ne.g,"Event does not contain result.");e.result.code&&e.result.description?n.reject(Ue(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===L.Ky.HandshakeResponse){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(o){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${o}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(o):r&&r.reject(o)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isNativeAvailable(e,t,n,r){if(t.trace("isNativeAvailable called"),!e.system.allowNativeBroker)return t.trace("isNativeAvailable: allowNativeBroker is not enabled, returning false"),!1;if(!n)return t.trace("isNativeAvailable: WAM extension provider is not initialized, returning false"),!1;if(r)switch(r){case l.hO.BEARER:case l.hO.POP:return t.trace("isNativeAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isNativeAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}class $e{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(m.Ak.HandleCodeResponse,t.correlationId);try{n=this.authModule.handleFragmentResponse(e,t.state)}catch(r){throw r instanceof ne.n&&r.subError===V.h7?(0,O.Z_)(V.h7):r}return g(this.handleCodeResponseFromServer.bind(this),m.Ak.HandleCodeResponseFromServer,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t,n=!0){if(this.performanceClient.addQueueMeasurement(m.Ak.HandleCodeResponseFromServer,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await g(this.authModule.updateAuthority.bind(this.authModule),m.Ak.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await g(this.authModule.acquireToken.bind(this.authModule),m.Ak.AuthClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:P}:e.loginHint?{credential:e.loginHint,type:R}:null}}var Ve=n(16093);function We(e,t,n){const r=Ve.F(e);if(!r)throw Ve.q(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),(0,O.Z_)(V.S_)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),(0,O.Z_)(V.nF));return r}class Ke extends xe{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,i,l,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=s}acquireToken(e){try{const t=this.generatePopupName(e.scopes||l.f_,e.authority||this.config.auth.authority),n=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,n);{this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");const r=this.openSizedPopup("about:blank",t,n);return this.acquireTokenPopupAsync(e,t,n,r)}}catch(t){return Promise.reject(t)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n=this.generateLogoutPopupName(t),r=e&&e.authority,o=e&&e.mainWindowRedirectUri,a=e?.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,a,r,void 0,o);{this.logger.verbose("asyncPopup set to false, opening popup");const e=this.openSizedPopup("about:blank",n,a);return this.logoutPopupAsync(t,n,a,r,e,o)}}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,n,r){this.logger.verbose("acquireTokenPopupAsync called");const o=this.initializeServerTelemetryManager(L.WN.acquireTokenPopup),a=await g(this.initializeAuthorizationRequest.bind(this),m.Ak.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,L.s_.Popup);J(a.authority);try{const i=await g(this.initializeAuthorizationCodeRequest.bind(this),m.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(a),s=await g(this.createAuthCodeClient.bind(this),m.Ak.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(o,a.authority,a.azureCloudOptions),l=Xe.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);let c;l&&(c=this.performanceClient.startMeasurement(m.Ak.FetchAccountIdWithNativeBroker,e.correlationId));const u=await s.getAuthCodeUrl({...a,nativeBroker:l}),d=new $e(s,this.browserStorage,i,this.logger,this.performanceClient),h={popup:r,popupName:t,popupWindowAttributes:n},f=this.initiateAuthRequest(u,h);this.eventHandler.emitEvent(ee.t.POPUP_OPENED,L.s_.Popup,{popupWindow:f},null);const v=await this.monitorPopupForHash(f),_=p(We,m.Ak.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(v,this.config.auth.OIDCOptions.serverResponseType,this.logger);if(re.removeThrottle(this.browserStorage,this.config.auth.clientId,i),_.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),c&&c.end({success:!0,isNativeBroker:!0}),!this.nativeMessageHandler)throw(0,O.Z_)(V.V7);const e=new ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,L.WN.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,_.accountId,this.nativeStorage,a.correlationId),{userRequestState:t}=I.parseRequestState(this.browserCrypto,a.state);return await e.acquireToken({...a,state:t,prompt:void 0})}return await d.handleCodeResponse(_,a)}catch(i){throw r&&r.close(),i instanceof v.l4&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}async logoutPopupAsync(e,t,n,r,o,a){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(ee.t.LOGOUT_START,L.s_.Popup,e);const s=this.initializeServerTelemetryManager(L.WN.logoutPopup);try{await this.clearCacheOnLogout(e.account);const l=await g(this.createAuthCodeClient.bind(this),m.Ak.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(s,r);try{l.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===d.A.OIDC){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(ee.t.LOGOUT_SUCCESS,L.s_.Popup,e),a){const e={apiId:L.WN.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=i.G.getAbsoluteUrl(a,j());await this.navigationClient.navigateInternal(t,e)}return void(o&&o.close())}}const c=l.getLogoutUri(e);this.eventHandler.emitEvent(ee.t.LOGOUT_SUCCESS,L.s_.Popup,e);const u=this.openPopup(c,{popupName:t,popupWindowAttributes:n,popup:o});if(this.eventHandler.emitEvent(ee.t.POPUP_OPENED,L.s_.Popup,{popupWindow:u},null),await this.monitorPopupForHash(u).catch((()=>{})),a){const e={apiId:L.WN.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=i.G.getAbsoluteUrl(a,j());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(l){throw o&&o.close(),l instanceof v.l4&&(l.setCorrelationId(this.correlationId),s.cacheFailedRequest(l)),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(ee.t.LOGOUT_FAILURE,L.s_.Popup,null,l),this.eventHandler.emitEvent(ee.t.LOGOUT_END,L.s_.Popup),l}this.eventHandler.emitEvent(ee.t.LOGOUT_END,L.s_.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),(0,O.Z_)(V._c)}monitorPopupForHash(e){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n((0,O.Z_)(V.h7));let o="";try{o=e.location.href}catch(s){}if(!o||"about:blank"===o)return;clearInterval(r);let a="";const i=this.config.auth.OIDCOptions.serverResponseType;e&&(a=i===l.rg.QUERY?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(a)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t.popupName,t.popupWindowAttributes)),!n)throw(0,O.Z_)(V.H);return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),this.browserStorage.setInteractionInProgress(!1),(0,O.Z_)(V.E)}}openSizedPopup(e,t,n){const r=window.screenLeft?window.screenLeft:window.screenX,o=window.screenTop?window.screenTop:window.screenY,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let s=n.popupSize?.width,l=n.popupSize?.height,c=n.popupPosition?.top,u=n.popupPosition?.left;return(!s||s<0||s>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),s=L.qx.POPUP_WIDTH),(!l||l<0||l>i)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=L.qx.POPUP_HEIGHT),(!c||c<0||c>i)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),c=Math.max(0,i/2-L.qx.POPUP_HEIGHT/2+o)),(!u||u<0||u>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),u=Math.max(0,a/2-L.qx.POPUP_WIDTH/2+r)),window.open(e,t,`width=${s}, height=${l}, top=${c}, left=${u}, scrollbars=yes`)}unloadWindow(e){this.browserStorage.cleanRequestByInteractionType(L.s_.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)}generatePopupName(e,t){return`${L.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${L.qx.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class je{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){t.redirectStartPage&&(this.logger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(L.c4.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(L.c4.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest),this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:L.WN.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1};if("function"===typeof t.onRedirectNavigate){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==t.onRedirectNavigate(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await t.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await t.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),(0,O.Z_)(V._c)}async handleCodeResponse(e,t){this.logger.verbose("RedirectHandler.handleCodeResponse called"),this.browserStorage.setInteractionInProgress(!1);const n=this.browserStorage.generateStateKey(t),r=this.browserStorage.getTemporaryCache(n);if(!r)throw(0,s.zP)(y.LV,"Cached State");let o;try{o=this.authModule.handleFragmentResponse(e,r)}catch(c){throw c instanceof ne.n&&c.subError===V.h7?(0,O.Z_)(V.h7):c}const a=this.browserStorage.generateNonceKey(r),i=this.browserStorage.getTemporaryCache(a);if(this.authCodeRequest.code=o.code,o.cloud_instance_host_name&&await g(this.authModule.updateAuthority.bind(this.authModule),m.Ak.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,this.authCodeRequest.correlationId)(o.cloud_instance_host_name,this.authCodeRequest.correlationId),o.nonce=i||void 0,o.state=r,o.client_info)this.authCodeRequest.clientInfo=o.client_info;else{const e=this.checkCcsCredentials();e&&(this.authCodeRequest.ccsCredential=e)}const l=await this.authModule.acquireToken(this.authCodeRequest,o);return this.browserStorage.cleanRequestByState(t),l}checkCcsCredentials(){const e=this.browserStorage.getTemporaryCache(L.c4.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii(`Cache credential could not be parsed: ${e}`)}return null}}class Ze extends xe{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,i,l,c),this.nativeStorage=s}async acquireToken(e){const t=await g(this.initializeAuthorizationRequest.bind(this),m.Ak.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,L.s_.Redirect);this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null);const n=this.initializeServerTelemetryManager(L.WN.acquireTokenRedirect),r=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.cleanRequestByState(t.state),this.eventHandler.emitEvent(ee.t.RESTORE_FROM_BFCACHE,L.s_.Redirect))};try{const o=await g(this.initializeAuthorizationCodeRequest.bind(this),m.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,this.correlationId)(t),a=await g(this.createAuthCodeClient.bind(this),m.Ak.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(n,t.authority,t.azureCloudOptions),i=new je(a,this.browserStorage,o,this.logger,this.performanceClient),s=await a.getAuthCodeUrl({...t,nativeBroker:Xe.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme)}),l=this.getRedirectStartPage(e.redirectStartPage);return this.logger.verbosePii(`Redirect start page: ${l}`),window.addEventListener("pageshow",r),await i.initiateAuthRequest(s,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:l,onRedirectNavigate:e.onRedirectNavigate})}catch(o){throw o instanceof v.l4&&(o.setCorrelationId(this.correlationId),n.cacheFailedRequest(o)),window.removeEventListener("pageshow",r),this.browserStorage.cleanRequestByState(t.state),o}}async handleRedirectPromise(e){const t=this.initializeServerTelemetryManager(L.WN.handleRedirectPromise);try{if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const[n,r]=this.getRedirectResponse(e||"");if(!n)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(L.s_.Redirect),null;const o=this.browserStorage.getTemporaryCache(L.c4.ORIGIN_URI,!0)||l.gT.EMPTY_STRING,a=i.G.removeHashFromUrl(o);if(a===i.G.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),o.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(o);return await this.handleResponse(n,t)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(n,t);if(!K()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(L.c4.URL_HASH,r,!0);const e={apiId:L.WN.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let a=!0;if(o&&"null"!==o)this.logger.verbose(`Navigating to loginRequestUrl: ${o}`),a=await this.navigationClient.navigateInternal(o,e);else{const t=function(){const e=new i.G(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(L.c4.ORIGIN_URI,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),a=await this.navigationClient.navigateInternal(t,e)}if(!a)return await this.handleResponse(n,t)}return null}catch(n){throw n instanceof v.l4&&(n.setCorrelationId(this.correlationId),t.cacheFailedRequest(n)),this.browserStorage.cleanRequestByInteractionType(L.s_.Redirect),n}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===l.rg.QUERY?window.location.search:window.location.hash);let n=Ve.F(t);if(n){try{!function(e,t,n){if(!e.state)throw(0,O.Z_)(V.Xk);const r=z(t,e.state);if(!r)throw(0,O.Z_)(V.$P);if(r.interactionType!==n)throw(0,O.Z_)(V.yK)}(n,this.browserCrypto,L.s_.Redirect)}catch(a){return a instanceof v.l4&&this.logger.error(`Interaction type validation failed due to ${a.errorCode}: ${a.errorMessage}`),[null,""]}return(r=window).location.hash="","function"===typeof r.history.replaceState&&r.history.replaceState(null,"",`${r.location.origin}${r.location.pathname}${r.location.search}`),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}var r;const o=this.browserStorage.getTemporaryCache(L.c4.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(L.c4.URL_HASH)),o&&(n=Ve.F(o),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,o]):[null,""]}async handleResponse(e,t){const n=e.state;if(!n)throw(0,O.Z_)(V.Xk);const r=this.browserStorage.getCachedRequest(n);if(this.logger.verbose("handleResponse called, retrieved cached request"),e.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw(0,O.Z_)(V.V7);const t=new ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,L.WN.acquireTokenPopup,this.performanceClient,this.nativeMessageHandler,e.accountId,this.nativeStorage,r.correlationId),{userRequestState:o}=I.parseRequestState(this.browserCrypto,n);return t.acquireToken({...r,state:o,prompt:void 0}).finally((()=>{this.browserStorage.cleanRequestByState(n)}))}const o=this.browserStorage.getCachedAuthority(n);if(!o)throw(0,O.Z_)(V.dT);const a=await g(this.createAuthCodeClient.bind(this),m.Ak.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(t,o);re.removeThrottle(this.browserStorage,this.config.auth.clientId,r);return new je(a,this.browserStorage,r,this.logger,this.performanceClient).handleCodeResponse(e,n)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(L.WN.logout);try{this.eventHandler.emitEvent(ee.t.LOGOUT_START,L.s_.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:L.WN.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await g(this.createAuthCodeClient.bind(this),m.Ak.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)(n,e&&e.authority);if(o.authority.protocolMode===d.A.OIDC)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(ee.t.LOGOUT_SUCCESS,L.s_.Redirect,t)}const a=o.getLogoutUri(t);if(this.eventHandler.emitEvent(ee.t.LOGOUT_SUCCESS,L.s_.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);if(!1!==e.onRedirectNavigate(a))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0),void await this.navigationClient.navigateExternal(a,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof v.l4&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(ee.t.LOGOUT_FAILURE,L.s_.Redirect,null,r),this.eventHandler.emitEvent(ee.t.LOGOUT_END,L.s_.Redirect),r}this.eventHandler.emitEvent(ee.t.LOGOUT_END,L.s_.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return i.G.getAbsoluteUrl(t,j())}}var Ye=n(44287);async function Qe(e,t,n,r,o){if(t.addQueueMeasurement(m.Ak.SilentHandlerInitiateAuthRequest,r),!e)throw n.info("Navigate url is empty"),(0,O.Z_)(V._c);return o?g(et,m.Ak.SilentHandlerLoadFrame,n,t,r)(e,o,t,r):p(tt,m.Ak.SilentHandlerLoadFrameSync,n,t,r)(e)}async function Je(e,t,n,r,o,a,i){return r.addQueueMeasurement(m.Ak.SilentHandlerMonitorIframeForHash,a),new Promise(((r,a)=>{t<Ye.Is&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (${Ye.Is}ms). This may result in timeouts.`);const s=window.setTimeout((()=>{window.clearInterval(c),a((0,O.Z_)(V.JA))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(a){}if(!t||"about:blank"===t)return;let o="";n&&(o=i===l.rg.QUERY?n.location.search:n.location.hash),window.clearTimeout(s),window.clearInterval(c),r(o)}),n)})).finally((()=>{p(rt,m.Ak.RemoveHiddenIframe,o,r,a)(e)}))}function et(e,t,n,r){return n.addQueueMeasurement(m.Ak.SilentHandlerLoadFrame,r),new Promise(((n,r)=>{const o=nt();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function tt(e){const t=nt();return t.src=e,t}function nt(){const e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function rt(e){document.body===e.parentNode&&document.body.removeChild(e)}class ot extends xe{constructor(e,t,n,r,o,a,i,s,l,c,u){super(e,t,n,r,o,a,s,c,u),this.apiId=i,this.nativeStorage=l}async acquireToken(e){if(this.performanceClient.addQueueMeasurement(m.Ak.SilentIframeClientAcquireToken,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==l.NJ.NONE&&e.prompt!==l.NJ.NO_SESSION)throw(0,O.Z_)(V.WQ);const t=await g(this.initializeAuthorizationRequest.bind(this),m.Ak.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)({...e,prompt:e.prompt||l.NJ.NONE},L.s_.Silent);J(t.authority);const n=this.initializeServerTelemetryManager(this.apiId);try{const r=await g(this.createAuthCodeClient.bind(this),m.Ak.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)(n,t.authority,t.azureCloudOptions);return await g(this.silentTokenHelper.bind(this),m.Ak.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(r,t)}catch(r){throw r instanceof v.l4&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject((0,O.Z_)(V.I9))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(m.Ak.SilentIframeClientTokenHelper,n);const r=await g(this.initializeAuthorizationCodeRequest.bind(this),m.Ak.StandardInteractionClientInitializeAuthorizationCodeRequest,this.logger,this.performanceClient,n)(t),o=await g(e.getAuthCodeUrl.bind(e),m.Ak.GetAuthCodeUrl,this.logger,this.performanceClient,n)({...t,nativeBroker:Xe.isNativeAvailable(this.config,this.logger,this.nativeMessageHandler,t.authenticationScheme)}),a=new $e(e,this.browserStorage,r,this.logger,this.performanceClient),i=await g(Qe,m.Ak.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),s=this.config.auth.OIDCOptions.serverResponseType,c=await g(Je,m.Ak.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,s),u=p(We,m.Ak.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(c,s,this.logger);if(u.accountId){if(this.logger.verbose("Account id found in hash, calling WAM for token"),!this.nativeMessageHandler)throw(0,O.Z_)(V.V7);const e=new ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.apiId,this.performanceClient,this.nativeMessageHandler,u.accountId,this.browserStorage,n),{userRequestState:r}=I.parseRequestState(this.browserCrypto,t.state);return g(e.acquireToken.bind(e),m.Ak.NativeInteractionClientAcquireToken,this.logger,this.performanceClient,n)({...t,state:r,prompt:t.prompt||l.NJ.NONE})}return g(a.handleCodeResponse.bind(a),m.Ak.HandleCodeResponse,this.logger,this.performanceClient,n)(u,t)}}class at extends xe{async acquireToken(e){this.performanceClient.addQueueMeasurement(m.Ak.SilentRefreshClientAcquireToken,e.correlationId);const t=await g(this.initializeBaseRequest.bind(this),m.Ak.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,e.account),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(L.WN.acquireTokenSilent_silentFlow),o=await this.createRefreshTokenClient(r,n.authority,n.azureCloudOptions);return g(o.acquireTokenByRefreshToken.bind(o),m.Ak.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject((0,O.Z_)(V.I9))}async createRefreshTokenClient(e,t,n){const r=await g(this.getClientConfiguration.bind(this),m.Ak.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e,t,n);return new Fe(r,this.performanceClient)}}class it{constructor(e,t,n,r){this.isBrowserEnvironment=!0,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}loadExternalTokens(e,t,n){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw(0,O.Z_)(V.Jd);const r=x.Z_(t.id_token,X.t);let o,a,i;if(e.account)i=T.r.createFromAccountInfo(e.account),o=new N(i,this.loadIdToken(t.id_token,i.homeAccountId,e.account.environment,e.account.tenantId),this.loadAccessToken(e,t,i.homeAccountId,e.account.environment,e.account.tenantId,n),this.loadRefreshToken(e,t,i.homeAccountId,e.account.environment));else{if(!e.authority)throw(0,O.Z_)(V.Jd);{const s=C.generateAuthority(e.authority,e.azureCloudOptions),l={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};if(a=new C(s,this.config.system.networkClient,this.storage,l,this.logger),n.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),i=this.loadAccount(r,a,n.clientInfo),o=new N(i,this.loadIdToken(t.id_token,i.homeAccountId,a.hostnameAndPort,a.tenant),this.loadAccessToken(e,t,i.homeAccountId,a.hostnameAndPort,a.tenant,n),this.loadRefreshToken(e,t,i.homeAccountId,a.hostnameAndPort));else{if(!t.client_info)throw(0,O.Z_)(V.Jd);this.logger.trace("TokenCache - homeAccountId from response"),i=this.loadAccount(r,a,t.client_info),o=new N(i,this.loadIdToken(t.id_token,i.homeAccountId,a.hostnameAndPort,a.tenant),this.loadAccessToken(e,t,i.homeAccountId,a.hostnameAndPort,a.tenant,n),this.loadRefreshToken(e,t,i.homeAccountId,a.hostnameAndPort))}}}return this.generateAuthenticationResult(e,r,o,i,a)}loadAccount(e,t,n,r){if(this.isBrowserEnvironment){let o;if(this.logger.verbose("TokenCache - loading account"),r?o=r:void 0!==t.authorityType&&n&&(o=T.r.generateHomeAccountId(n,t.authorityType,this.logger,this.cryptoObj,e)),!o)throw(0,O.Z_)(V.Jd);const a=e.tid,i=Ce(this.storage,t,o,e,X.t,n,t.hostnameAndPort,a,void 0,void 0,this.logger);return this.storage.setAccount(i),i}throw(0,O.Z_)(V.Jd)}loadIdToken(e,t,n,r){const o=_.Md(t,n,e,this.config.auth.clientId,r);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading id token"),this.storage.setIdTokenCredential(o),o;throw(0,O.Z_)(V.Jd)}loadAccessToken(e,t,n,r,o,a){if(!t.access_token)return this.logger.verbose("TokenCache - No access token provided for caching"),null;if(!t.expires_in)throw(0,O.Z_)(V.Jd);if(!a.extendedExpiresOn)throw(0,O.Z_)(V.Jd);const i=new me.i(e.scopes).printScopes(),s=a.expiresOn||t.expires_in+(new Date).getTime()/1e3,l=a.extendedExpiresOn,c=_.Ds(n,r,t.access_token,this.config.auth.clientId,o,i,s,l,X.t);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(c),c;throw(0,O.Z_)(V.Jd)}loadRefreshToken(e,t,n,r){if(!t.refresh_token)return this.logger.verbose("TokenCache - No refresh token provided for caching"),null;const o=_.OJ(n,r,t.refresh_token,this.config.auth.clientId);if(this.isBrowserEnvironment)return this.logger.verbose("TokenCache - loading refresh token"),this.storage.setRefreshTokenCredential(o),o;throw(0,O.Z_)(V.Jd)}generateAuthenticationResult(e,t,n,r,o){let a,i=l.gT.EMPTY_STRING,s=[],c=null;n?.accessToken&&(i=n.accessToken.secret,s=me.i.fromString(n.accessToken.target).asArray(),c=new Date(1e3*Number(n.accessToken.expiresOn)),a=new Date(1e3*Number(n.accessToken.extendedExpiresOn)));const u=t.oid||t.sub||l.gT.EMPTY_STRING,d=t.tid||l.gT.EMPTY_STRING;return{authority:o?o.canonicalAuthority:l.gT.EMPTY_STRING,uniqueId:u,tenantId:d,scopes:s,account:r.getAccountInfo(),idToken:n.idToken?.secret||"",idTokenClaims:t||{},accessToken:i,fromCache:!0,expiresOn:c,correlationId:e.correlationId||l.gT.EMPTY_STRING,requestId:l.gT.EMPTY_STRING,extExpiresOn:a,familyId:l.gT.EMPTY_STRING,tokenType:n?.accessToken?.tokenType||l.gT.EMPTY_STRING,state:l.gT.EMPTY_STRING,cloudGraphHostName:r.cloudGraphHostName||l.gT.EMPTY_STRING,msGraphHost:r.msGraphHost||l.gT.EMPTY_STRING,code:void 0,fromNativeBroker:!1}}}class st extends Se{constructor(e){super(e),this.includeRedirectUri=!1}}class lt extends xe{constructor(e,t,n,r,o,a,i,s,l,c){super(e,t,n,r,o,a,s,l,c),this.apiId=i}async acquireToken(e){if(!e.code)throw(0,O.Z_)(V.Aj);const t=await g(this.initializeAuthorizationRequest.bind(this),m.Ak.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,L.s_.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await g(this.getClientConfiguration.bind(this),m.Ak.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)(n,t.authority),a=new st(o);this.logger.verbose("Auth code client created");const i=new $e(a,this.browserStorage,r,this.logger,this.performanceClient);return await g(i.handleCodeResponseFromServer.bind(i),m.Ak.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof v.l4&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject((0,O.Z_)(V.I9))}}class ct{constructor(e){this.atsAsyncMeasurement=void 0,this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new r.Q(this.logger,this.performanceClient):o.d,this.eventHandler=new te.b(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new W(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw(0,u.ei)(b.E)}return{canonicalAuthority:e.authority?E(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):((e,t)=>{const n={cacheLocation:L.Ix.MemoryStorage,temporaryCacheLocation:L.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new W(e,n,o.d,t)})(this.config.auth.clientId,this.logger);const t={cacheLocation:L.Ix.MemoryStorage,temporaryCacheLocation:L.Ix.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new W(this.config.auth.clientId,t,this.browserCrypto,this.logger),this.tokenCache=new it(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e){const t=new ct(e);return await t.initialize(),t}trackPageVisibility(){this.atsAsyncMeasurement&&(this.logger.info("Perf: Visibility change detected"),this.atsAsyncMeasurement.increment({visibilityChangeCount:1}))}async initialize(){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");const e=this.config.system.allowNativeBroker,t=this.performanceClient.startMeasurement(m.Ak.InitializeClientApplication);if(this.eventHandler.emitEvent(ee.t.INITIALIZE_START),e)try{this.nativeExtensionProvider=await Xe.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(n){this.logger.verbose(n)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await g(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),m.Ak.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient)(this.performanceClient)),this.initialized=!0,this.eventHandler.emitEvent(ee.t.INITIALIZE_END),t.end({allowNativeBroker:e,success:!0})}async handleRedirectPromise(e){this.logger.verbose("handleRedirectPromise called"),Q(this.initialized);const t=this.getAllAccounts();if(this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);if("undefined"===typeof r){this.eventHandler.emitEvent(ee.t.HANDLE_REDIRECT_START,L.s_.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise");const o=this.browserStorage.getCachedNativeRequest();let a;if(o&&Xe.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e){this.logger.trace("handleRedirectPromise - acquiring token from native platform");a=new ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,L.WN.handleRedirectPromise,this.performanceClient,this.nativeExtensionProvider,o.accountId,this.nativeInternalStorage,o.correlationId).handleRedirectPromise()}else{this.logger.trace("handleRedirectPromise - acquiring token from web flow");const t=this.browserStorage.getTemporaryCache(L.c4.CORRELATION_ID,!0)||l.gT.EMPTY_STRING;a=this.createRedirectClient(t).handleRedirectPromise(e)}r=a.then((e=>{if(e){t.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(ee.t.LOGIN_SUCCESS,L.s_.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_SUCCESS,L.s_.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success"))}return this.eventHandler.emitEvent(ee.t.HANDLE_REDIRECT_END,L.s_.Redirect),e})).catch((e=>{throw t.length>0?this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_FAILURE,L.s_.Redirect,null,e):this.eventHandler.emitEvent(ee.t.LOGIN_FAILURE,L.s_.Redirect,null,e),this.eventHandler.emitEvent(ee.t.HANDLE_REDIRECT_END,L.s_.Redirect),e})),this.redirectResponse.set(n,r)}else this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call");return r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t),this.preflightBrowserEnvironmentCheck(L.s_.Redirect);const n=this.getAllAccounts().length>0;let r;if(n?this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_START,L.s_.Redirect,e):this.eventHandler.emitEvent(ee.t.LOGIN_START,L.s_.Redirect,e),this.nativeExtensionProvider&&this.canUseNative(e)){r=new ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,L.WN.acquireTokenRedirect,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e).catch((n=>{if(n instanceof Me&&De(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof S.Yo){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw this.getBrowserStorage().setInteractionInProgress(!1),n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return r.catch((e=>{throw n?this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_FAILURE,L.s_.Redirect,null,e):this.eventHandler.emitEvent(ee.t.LOGIN_FAILURE,L.s_.Redirect,null,e),e}))}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(m.Ak.AcquireTokenPopup,t);try{this.logger.verbose("acquireTokenPopup called",t),this.preflightBrowserEnvironmentCheck(L.s_.Popup)}catch(a){return Promise.reject(a)}const r=this.getAllAccounts();let o;if(r.length>0?this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_START,L.s_.Popup,e):this.eventHandler.emitEvent(ee.t.LOGIN_START,L.s_.Popup,e),this.canUseNative(e))o=this.acquireTokenNative({...e,correlationId:t},L.WN.acquireTokenPopup).then((e=>(this.getBrowserStorage().setInteractionInProgress(!1),n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),e))).catch((n=>{if(n instanceof Me&&De(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e)}if(n instanceof S.Yo){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e)}throw this.getBrowserStorage().setInteractionInProgress(!1),n}));else{o=this.createPopupClient(t).acquireToken(e)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(ee.t.LOGIN_SUCCESS,L.s_.Popup,e):this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_SUCCESS,L.s_.Popup,e),n.add({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),n.end({success:!0,requestId:e.requestId}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_FAILURE,L.s_.Popup,null,e):this.eventHandler.emitEvent(ee.t.LOGIN_FAILURE,L.s_.Popup,null,e),n.end({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),Promise.reject(e))))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.preflightBrowserEnvironmentCheck(L.s_.Silent),this.ssoSilentMeasurement=this.performanceClient.startMeasurement(m.Ak.SsoSilent,t),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(ee.t.SSO_SILENT_START,L.s_.Silent,n),this.canUseNative(n))r=this.acquireTokenNative(n,L.WN.ssoSilent).catch((e=>{if(e instanceof Me&&De(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(ee.t.SSO_SILENT_SUCCESS,L.s_.Silent,e),this.ssoSilentMeasurement?.add({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.eventHandler.emitEvent(ee.t.SSO_SILENT_FAILURE,L.s_.Silent,null,e),this.ssoSilentMeasurement?.end({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.preflightBrowserEnvironmentCheck(L.s_.Silent),this.logger.trace("acquireTokenByCode called",t),this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_BY_CODE_START,L.s_.Silent,e);const n=this.performanceClient.startMeasurement(m.Ak.AcquireTokenByCode,t);try{if(e.code&&e.nativeAccountId)throw(0,O.Z_)(V.LL);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_BY_CODE_SUCCESS,L.s_.Silent,e),this.hybridAuthCodeResponses.delete(r),n.add({accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length}),n.end({success:!0,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,L.s_.Silent,null,e),n.end({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUseNative(e,e.nativeAccountId))return await this.acquireTokenNative({...e,correlationId:t},L.WN.acquireTokenByCode,e.nativeAccountId).catch((e=>{throw e instanceof Me&&De(e)&&(this.nativeExtensionProvider=void 0),e}));throw(0,O.Z_)(V.KA)}throw(0,O.Z_)(V.Dy)}catch(r){throw this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_BY_CODE_FAILURE,L.s_.Silent,null,r),n.end({errorCode:r instanceof v.l4&&r.errorCode||void 0,subErrorCode:r instanceof v.l4&&r.subError||void 0,success:!1}),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(m.Ak.AcquireTokenByCodeAsync,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t,n){switch(this.performanceClient.addQueueMeasurement(m.Ak.AcquireTokenFromCache,t.correlationId),n){case L.lu.Default:case L.lu.AccessToken:case L.lu.AccessTokenAndRefreshToken:return g(e.acquireToken.bind(e),m.Ak.SilentCacheClientAcquireToken,this.logger,this.performanceClient,t.correlationId)(t);default:throw(0,s.zP)(y.s$)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(m.Ak.AcquireTokenByRefreshToken,e.correlationId),t){case L.lu.Default:case L.lu.AccessTokenAndRefreshToken:case L.lu.RefreshToken:case L.lu.RefreshTokenAndNetwork:const t=this.createSilentRefreshClient(e.correlationId);return g(t.acquireToken.bind(t),m.Ak.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw(0,s.zP)(y.s$)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(m.Ak.AcquireTokenBySilentIframe,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return g(t.acquireToken.bind(t),m.Ak.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);this.preflightBrowserEnvironmentCheck(L.s_.Redirect);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);this.preflightBrowserEnvironmentCheck(L.s_.Popup);return this.createPopupClient(t).logout(e)}catch(t){return Promise.reject(t)}}async clearCache(e){const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts(e):[]}getAccount(e){if(this.logger.trace("getAccount called"),0===Object.keys(e).length)return this.logger.warning("getAccount: No accountFilter provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy(e);return t?(this.logger.verbose("getAccount: Account matching provided filter found, returning"),t):(this.logger.verbose("getAccount: No matching account found, returning null"),null)}getAccountByUsername(e){if(this.logger.trace("getAccountByUsername called"),!e)return this.logger.warning("getAccountByUsername: No username provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy({username:e});return t?(this.logger.verbose("getAccountByUsername: Account matching username found, returning"),this.logger.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),t):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)}getAccountByHomeId(e){if(this.logger.trace("getAccountByHomeId called"),!e)return this.logger.warning("getAccountByHomeId: No homeAccountId provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy({homeAccountId:e});return t?(this.logger.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),this.logger.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),t):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)}getAccountByLocalId(e){if(this.logger.trace("getAccountByLocalId called"),!e)return this.logger.warning("getAccountByLocalId: No localAccountId provided"),null;const t=this.browserStorage.getAccountInfoFilteredBy({localAccountId:e});return t?(this.logger.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),this.logger.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),t):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)}setActiveAccount(e){this.browserStorage.setActiveAccount(e)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=T.r.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return this.browserStorage.setAccount(n),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}preflightBrowserEnvironmentCheck(e,t=!1){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),function(e){if(!e)throw(0,O.Z_)(V.Dx)}(this.isBrowserEnvironment),function(e,t){const n=K();if(e===L.s_.Redirect&&n&&!t)throw(0,O.Z_)(V.b_)}(e,this.config.system.allowRedirectInIframe),Z(),Y(),Q(this.initialized),e===L.s_.Redirect&&this.config.cache.cacheLocation===L.Ix.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw H(U);e!==L.s_.Redirect&&e!==L.s_.Popup||this.preflightInteractiveRequest(!t)}preflightInteractiveRequest(e){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),Z(),e&&this.getBrowserStorage().setInteractionInProgress(!0)}async acquireTokenNative(e,t,n){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw(0,O.Z_)(V.V7);return new ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e)}canUseNative(e,t){if(this.logger.trace("canUseNative called"),!Xe.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUseNative: isNativeAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case l.NJ.NONE:case l.NJ.CONSENT:case l.NJ.LOGIN:this.logger.trace("canUseNative: prompt is compatible with native flow");break;default:return this.logger.trace(`canUseNative: prompt = ${e.prompt} is not compatible with native flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUseNative: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Ke(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new Ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new ot(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,L.WN.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new He(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new at(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new lt(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,L.WN.acquireTokenByCode,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e){return this.eventHandler.addEventCallback(e)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.eventHandler.enableAccountStorageEvents()}disableAccountStorageEvents(){this.eventHandler.disableAccountStorageEvents()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}getBrowserStorage(){return this.browserStorage}isBrowserEnv(){return this.isBrowserEnvironment}getEventHandler(){return this.eventHandler}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?(0,we.nn)():l.gT.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||L.yo})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||L.yo})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(m.Ak.AcquireTokenSilent,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy}),this.preflightBrowserEnvironmentCheck(L.s_.Silent),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw(0,O.Z_)(V.wH);const o={clientId:this.config.auth.clientId,authority:e.authority||l.gT.EMPTY_STRING,scopes:e.scopes,homeAccountIdentifier:r.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,shrOptions:e.shrOptions},a=JSON.stringify(o),i=this.activeSilentTokenRequests.get(a);if("undefined"===typeof i){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",t);const o=g(this.acquireTokenSilentAsync.bind(this),m.Ak.AcquireTokenSilentAsync,this.logger,this.performanceClient,t)({...e,correlationId:t},r).then((t=>(this.activeSilentTokenRequests.delete(a),n.add({accessTokenSize:t.accessToken.length,idTokenSize:t.idToken.length}),n.end({success:!0,fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker,cacheLookupPolicy:e.cacheLookupPolicy,requestId:t.requestId}),t))).catch((e=>{throw this.activeSilentTokenRequests.delete(a),n.end({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e}));return this.activeSilentTokenRequests.set(a,o),o}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",t),n.discard(),i}async acquireTokenSilentAsync(e,t){let n;if(this.performanceClient.addQueueMeasurement(m.Ak.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_START,L.s_.Silent,e),this.atsAsyncMeasurement=this.performanceClient.startMeasurement(m.Ak.AcquireTokenSilentAsync,e.correlationId),this.atsAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibility),Xe.isNativeAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&t.nativeAccountId){this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform");const r={...e,account:t};n=this.acquireTokenNative(r,L.WN.acquireTokenSilent_silentFlow).catch((async t=>{if(t instanceof Me&&De(t)){this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(e.correlationId).acquireToken(e)}throw t}))}else{this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow");const r=this.createSilentCacheClient(e.correlationId),o=await g(r.initializeSilentRequest.bind(r),m.Ak.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,t),a=e.cacheLookupPolicy||L.lu.Default;n=g(this.acquireTokenFromCache.bind(this),m.Ak.AcquireTokenFromCache,this.logger,this.performanceClient,o.correlationId)(r,o,a).catch((t=>{if(e.cacheLookupPolicy===L.lu.AccessToken)throw t;return Z(),this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_NETWORK_START,L.s_.Silent,o),g(this.acquireTokenByRefreshToken.bind(this),m.Ak.AcquireTokenByRefreshToken,this.logger,this.performanceClient,o.correlationId)(o,a).catch((e=>{const t=function(e,t,n){const r=!(e instanceof S.Yo&&e.subError!==A.nl),o=e.errorCode===L.qx.INVALID_GRANT_ERROR||e.errorCode===y.s$,a=r&&o||e.errorCode===A.I2||e.errorCode===A.Tw,i=L.se.includes(n);return a&&i}(e,0,a);if(t)return this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",o.correlationId),g(this.acquireTokenBySilentIframe.bind(this),m.Ak.AcquireTokenBySilentIframe,this.logger,this.performanceClient,o.correlationId)(o);throw e}))}))}return n.then((e=>(this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_SUCCESS,L.s_.Silent,e),this.atsAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker,requestId:e.requestId}),e))).catch((e=>{throw this.eventHandler.emitEvent(ee.t.ACQUIRE_TOKEN_FAILURE,L.s_.Silent,null,e),this.atsAsyncMeasurement?.end({errorCode:e.errorCode,subErrorCode:e.subError,success:!1}),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibility)}))}}},32235:(e,t,n)=>{"use strict";n.d(t,{$5:()=>f,Au:()=>p,Fv:()=>d,Mg:()=>g,PP:()=>h,Xx:()=>v,nn:()=>m,qz:()=>u});var r=n(75258),o=n(80367),a=n(49845),i=n(87162);const s="SHA-256",l=new Uint8Array([1,0,1]),c={name:"RSASSA-PKCS1-v1_5",hash:s,modulusLength:2048,publicExponent:l};function u(e){if(!("crypto"in window))throw e.error("BrowserCrypto: crypto interface is unavailable"),(0,r.Z_)(i.TR);e.verbose("BrowserCrypto: modern crypto interface available")}async function d(e,t,n){t?.addQueueMeasurement(o.Ak.Sha256Digest,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(s,r)}function h(e){return window.crypto.getRandomValues(e)}function m(){return window.crypto.randomUUID()}async function p(e,t){return window.crypto.subtle.generateKey(c,e,t)}async function g(e){return window.crypto.subtle.exportKey(a.Mm,e)}async function f(e,t,n){return window.crypto.subtle.importKey(a.Mm,e,c,t,n)}async function v(e,t){return window.crypto.subtle.sign(c,e,t)}},24698:(e,t,n)=>{"use strict";n.d(t,{Q:()=>T});var r=n(80367),o=n(42815);const a="missing_kid_error",i="missing_alg_error",s={[a]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[i]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class l extends o.l4{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,l.prototype)}}function c(e){return new l(e,s[e])}var u=n(3062);class d{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw c(a);if(!e.alg)throw c(i);const t=new d({typ:e.typ||u.xd.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}var h=n(7773),m=n(14080),p=n(32235),g=n(75258),f=n(49845),v=n(87162);class _{constructor(){this.dbName=f.H4,this.version=f.kd,this.tableName=f.Gv,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t((0,g.Z_)(v.Pi))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n((0,g.Z_)(v.IL));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r((0,g.Z_)(v.IL));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n((0,g.Z_)(v.IL));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t((0,g.Z_)(v.IL));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n((0,g.Z_)(v.IL));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(f.H4);n.addEventListener("success",(()=>e(!0))),n.addEventListener("blocked",(()=>e(!0))),n.addEventListener("error",(()=>t(!1)))}))}}var y=n(56051);class b{constructor(e,t){this.inMemoryCache=new y.k,this.indexedDBCache=new _,this.logger=e,this.storeName=t}handleDatabaseAccessError(e){if(!(e instanceof g.Ut&&e.errorCode===v.Pi))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose(`Deleting in-memory keystore ${this.storeName}`),this.inMemoryCache.clear(),this.logger.verbose(`In-memory keystore ${this.storeName} deleted`)}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}const C="asymmetricKeys",E="symmetricKeys";class S{constructor(e){this.logger=e,this.asymmetricKeys=new b(this.logger,C),this.symmetricKeys=new b(this.logger,E)}async clear(){this.asymmetricKeys.clearInMemory(),this.symmetricKeys.clearInMemory();try{return await this.asymmetricKeys.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}}class T{constructor(e,t){this.logger=e,(0,p.qz)(e),this.cache=new S(this.logger),this.performanceClient=t}createNewGuid(){return(0,p.nn)()}base64Encode(e){return(0,h.h$)(e)}base64Decode(e){return(0,m.t)(e)}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(r.Ak.CryptoOptsGetPublicKeyThumbprint,e.correlationId),n=await(0,p.Au)(T.EXTRACTABLE,T.POP_KEY_USAGES),o=await(0,p.Mg)(n.publicKey),a=A({e:o.e,kty:o.kty,n:o.n}),i=await this.hashString(a),s=await(0,p.Mg)(n.privateKey),l=await(0,p.$5)(s,!1,["sign"]);return await this.cache.asymmetricKeys.setItem(i,{privateKey:l,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.asymmetricKeys.removeItem(e);return!await this.cache.asymmetricKeys.containsKey(e)}async clearKeystore(){return this.cache.clear()}async signJwt(e,t,n,o){const a=this.performanceClient?.startMeasurement(r.Ak.CryptoOptsSignJwt,o),i=await this.cache.asymmetricKeys.getItem(t);if(!i)throw(0,g.Z_)(v.XM);const s=await(0,p.Mg)(i.publicKey),l=A(s),c=(0,h._j)(JSON.stringify({kid:t})),u=d.getShrHeaderString({...n?.header,alg:s.alg,kid:c}),m=(0,h._j)(u);e.cnf={jwk:JSON.parse(l)};const f=`${m}.${(0,h._j)(JSON.stringify(e))}`,_=(new TextEncoder).encode(f),y=await(0,p.Xx)(i.privateKey,_),b=`${f}.${(0,h.Wy)(new Uint8Array(y))}`;return a&&a.end({success:!0}),b}async hashString(e){const t=await(0,p.Fv)(e),n=new Uint8Array(t);return(0,h.Wy)(n)}}function A(e){return JSON.stringify(e,Object.keys(e).sort())}T.POP_KEY_USAGES=["sign","verify"],T.EXTRACTABLE=!0},14080:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(75258),o=n(87162);function a(e){return(new TextDecoder).decode(function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw(0,r.Z_)(o.lZ)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}(e))}},7773:(e,t,n)=>{"use strict";function r(e){return encodeURIComponent(a(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function o(e){return i(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(e){return i((new TextEncoder).encode(e))}function i(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}n.d(t,{Wy:()=>o,_j:()=>r,h$:()=>a})},75258:(e,t,n)=>{"use strict";n.d(t,{Ut:()=>s,Z_:()=>l});var r=n(42815),o=n(87162);const a="For more visit: aka.ms/msaljs/browser-errors",i={[o.vD]:"The PKCE code challenge and verifier could not be generated.",[o.TR]:"The crypto object or function is not available.",[o._c]:"Navigation URI is empty. Please check stack trace for more info.",[o.nF]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${a}`,[o.Xk]:"Hash does not contain state. Please verify that the request originated from msal.",[o.S_]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${a}`,[o.$P]:"Unable to parse state. Please verify that the request originated from msal.",[o.yK]:"Hash contains state but the interaction type does not match the caller.",[o.Ck]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${a}`,[o.E]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[o.H]:"window.open returned null or undefined window object.",[o.h7]:"User cancelled the flow.",[o.ZT]:`Token acquisition in popup failed due to timeout.  ${a}`,[o.JA]:`Token acquisition in iframe failed due to timeout.  ${a}`,[o.b_]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[o.xO]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${a}`,[o.bj]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[o.h8]:"The iframe being monitored was closed prematurely.",[o.I9]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[o.wH]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[o.WQ]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[o.QO]:"No token request found in cache.",[o.e$]:"The cached token request could not be parsed.",[o.dT]:"No cached authority found.",[o.BO]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[o.Ut]:"Invalid cache type",[o.Dx]:"Login and token requests are not supported in non-browser environments.",[o.IL]:"Database is not open!",[o.Mq]:"No network connectivity. Check your internet connection.",[o.Dc]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[o.C8]:"Network request failed. Please check the network trace to determine root cause.",[o.w6]:"Failed to parse network response. Check network trace.",[o.Jd]:"Error loading token to cache.",[o.XM]:"Cryptographic Key or Keypair not found in browser storage.",[o.Aj]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[o.Dy]:"An authorization code or nativeAccountId must be provided to this flow.",[o.LL]:"Request cannot contain both spa code and native account id.",[o.Pi]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[o.KA]:`Unable to acquire token from native platform.  ${a}`,[o.hR]:"Timed out while attempting to establish connection to browser extension",[o.Wb]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[o.V7]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${a}`,[o.al]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${a}`,[o.o9]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[o.lZ]:"Invalid base64 encoded string."};o.vD,o.vD,o.TR,o.TR,o._c,o._c,o.nF,o.nF,o.Xk,o.Xk,o.S_,o.S_,o.$P,o.$P,o.yK,o.yK,o.Ck,o.Ck,o.E,o.E,o.H,o.H,o.h7,o.h7,o.ZT,o.ZT,o.JA,o.JA,o.b_,o.b_,o.xO,o.xO,o.bj,o.bj,o.h8,o.h8,o.I9,o.I9,o.wH,o.wH,o.WQ,o.WQ,o.QO,o.QO,o.e$,o.e$,o.dT,o.dT,o.BO,o.BO,o.Ut,o.Ut,o.Dx,o.Dx,o.IL,o.IL,o.Mq,o.Mq,o.Dc,o.Dc,o.C8,o.C8,o.w6,o.w6,o.Jd,o.Jd,o.XM,o.XM,o.Aj,o.Aj,o.Dy,o.Dy,o.LL,o.LL,o.Pi,o.Pi,o.KA,o.KA,o.hR,o.hR,o.Wb,o.Wb,o.V7,o.V7,o.al,o.al,o.o9,o.o9,o.lZ,o.lZ;class s extends r.l4{constructor(e){super(e,i[e]),Object.setPrototypeOf(this,s.prototype),this.name="BrowserAuthError"}}function l(e){return new s(e)}},87162:(e,t,n)=>{"use strict";n.d(t,{$P:()=>c,Aj:()=>U,BO:()=>k,C8:()=>O,Ck:()=>d,Dc:()=>N,Dx:()=>P,Dy:()=>F,E:()=>h,H:()=>m,I9:()=>C,IL:()=>R,JA:()=>f,Jd:()=>M,KA:()=>q,LL:()=>B,Mq:()=>x,Pi:()=>H,QO:()=>T,S_:()=>l,TR:()=>o,Ut:()=>I,V7:()=>X,WQ:()=>S,Wb:()=>z,XM:()=>D,Xk:()=>s,ZT:()=>g,_c:()=>a,al:()=>$,b_:()=>v,bj:()=>y,dT:()=>w,e$:()=>A,h7:()=>p,h8:()=>b,hR:()=>G,lZ:()=>W,nF:()=>i,o9:()=>V,vD:()=>r,w6:()=>L,wH:()=>E,xO:()=>_,yK:()=>u});const r="pkce_not_created",o="crypto_nonexistent",a="empty_navigate_uri",i="hash_empty_error",s="no_state_in_hash",l="hash_does_not_contain_known_properties",c="unable_to_parse_state",u="state_interaction_type_mismatch",d="interaction_in_progress",h="popup_window_error",m="empty_window_error",p="user_cancelled",g="monitor_popup_timeout",f="monitor_window_timeout",v="redirect_in_iframe",_="block_iframe_reload",y="block_nested_popups",b="iframe_closed_prematurely",C="silent_logout_unsupported",E="no_account_error",S="silent_prompt_value_error",T="no_token_request_cache_error",A="unable_to_parse_token_request_cache_error",w="no_cached_authority_error",k="auth_request_not_set_error",I="invalid_cache_type",P="non_browser_environment",R="database_not_open",x="no_network_connectivity",N="post_request_failed",O="get_request_failed",L="failed_to_parse_response",M="unable_to_load_token",D="crypto_key_not_found",U="auth_code_required",F="auth_code_or_nativeAccountId_required",B="spa_code_and_nativeAccountId_present",H="database_unavailable",q="unable_to_acquire_token_from_native_platform",G="native_handshake_timeout",z="native_extension_not_installed",X="native_connection_not_established",$="uninitialized_public_client_application",V="native_prompt_not_supported",W="invalid_base64_string"},8786:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(72361),o=n(93741),a=n(74887),i=n(32235);class s{constructor(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}addEventCallback(e){{const t=(0,i.nn)();return this.eventCallbacks.set(t,e),this.logger.verbose(`Event callback registered with id: ${t}`),t}}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}enableAccountStorageEvents(){this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange))}disableAccountStorageEvents(){this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered.")}emitEvent(e,t,n,r){{const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};this.logger.info(`Emitting event: ${e}`),this.eventCallbacks.forEach(((t,n)=>{this.logger.verbose(`Emitting event to callback ${n}: ${e}`),t.apply(null,[o])}))}}handleAccountCacheChange(e){try{const t=e.newValue||e.oldValue;if(!t)return;const n=JSON.parse(t);if("object"!==typeof n||!r.r.isAccountEntity(n))return;const i=o.L.toObject(new r.r,n).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(a.t.ACCOUNT_ADDED,void 0,i)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(a.t.ACCOUNT_REMOVED,void 0,i))}catch(e){return}}}},74887:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});const r={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache"}},27694:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});class r{navigateInternal(e,t){return r.defaultNavigateWindow(e,t)}navigateExternal(e,t){return r.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}},40361:(e,t,n)=>{"use strict";n.d(t,{i:()=>o,u:()=>r});const r="@azure/msal-browser",o="3.7.0"},49845:(e,t,n)=>{"use strict";n.d(t,{BD:()=>a,Bs:()=>d,EC:()=>l,Gv:()=>_,H4:()=>f,Ix:()=>s,Ky:()=>i,Mm:()=>g,Oq:()=>u,PK:()=>E,WN:()=>h,bg:()=>C,c4:()=>c,kd:()=>v,lu:()=>y,qx:()=>o,s_:()=>m,se:()=>b,yo:()=>p});var r=n(3062);const o={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},a={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS"},i={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},s={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},l={GET:"GET",POST:"POST"},c={AUTHORITY:"authority",ACQUIRE_TOKEN_ACCOUNT:"acquireToken.account",SESSION_STATE:"session.state",REQUEST_STATE:"request.state",NONCE_IDTOKEN:"nonce.id_token",ORIGIN_URI:"request.origin",RENEW_STATUS:"token.renew.status",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",SCOPES:"scopes",INTERACTION_STATUS_KEY:"interaction.status",CCS_CREDENTIAL:"ccs.credential",CORRELATION_ID:"request.correlationId",NATIVE_REQUEST:"request.native",REDIRECT_CONTEXT:"request.redirect.context"},u={ACCOUNT_KEYS:"msal.account.keys",TOKEN_KEYS:"msal.token.keys"},d={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},h={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var m;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(m||(m={}));const p={scopes:r.f_},g="jwk",f="msal.db",v=1,_=`${f}.keys`,y={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},b=[y.Default,y.Skip,y.RefreshTokenAndNetwork],C="msal.browser.log.level",E="msal.browser.log.pii"},95956:(e,t,n)=>{"use strict";function r(e,t){return!!e&&!!t&&e===t.split(".")[1]}function o(e,t){const{oid:n,sub:o,tid:a,name:i,tfp:s,acr:l}=t,c=a||s||l||"";return{tenantId:c,localAccountId:n||o||"",name:i,isHomeTenant:r(c,e)}}function a(e,t,n){let r=e;if(t){const{isHomeTenant:n,...o}=t;r={...e,...o}}if(n){const{isHomeTenant:t,...a}=o(e.homeAccountId,n);return r={...r,...a,idTokenClaims:n},r}return r}n.d(t,{$f:()=>a,Hc:()=>r,SI:()=>o})},48280:(e,t,n)=>{"use strict";n.d(t,{Z_:()=>a,ky:()=>i});var r=n(95493),o=n(28847);function a(e,t){const n=function(e){if(!e)throw(0,r.zP)(o.PM);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw(0,r.zP)(o.GH);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(a){throw(0,r.zP)(o.GH)}}function i(e,t){if(0===t||Date.now()-3e5>e+t)throw(0,r.zP)(o.Ao)}},60997:(e,t,n)=>{"use strict";n.d(t,{B:()=>i,j:()=>s});var r=n(95493),o=n(3062),a=n(28847);function i(e,t){if(!e)throw(0,r.zP)(a.S7);try{const n=t(e);return JSON.parse(n)}catch(n){throw(0,r.zP)(a.ZE)}}function s(e){if(!e)throw(0,r.zP)(a.ZE);const t=e.split(o.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?o.gT.EMPTY_STRING:t[1]}}},59926:(e,t,n)=>{"use strict";function r(e){if(e){return e.tid||e.tfp||e.acr||null}return null}n.d(t,{M:()=>r})},20718:(e,t,n)=>{"use strict";n.d(t,{Qh:()=>a,_u:()=>l,eM:()=>d,ix:()=>u,wn:()=>s});var r=n(59575),o=n(3062);const a={"https://login.microsoftonline.com/common/":{token_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/common/":{token_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/common/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/common/":{token_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/common/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/common/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/common/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/consumers/":{token_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/consumers/":{token_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/consumers/":{token_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/consumers/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/9188040d-6c67-4c5b-b112-36a304b66dad/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/consumers/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/consumers/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"},"https://login.microsoftonline.com/organizations/":{token_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.com/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.com/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.com/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.com",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pas.windows.net"},"https://login.chinacloudapi.cn/organizations/":{token_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.chinacloudapi.cn/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://microsoftgraph.chinacloudapi.cn/oidc/userinfo",authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.chinacloudapi.cn/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.chinacloudapi.cn/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"partner.microsoftonline.cn",cloud_graph_host_name:"graph.chinacloudapi.cn",msgraph_host:"microsoftgraph.chinacloudapi.cn",rbac_url:"https://pas.chinacloudapi.cn"},"https://login.microsoftonline.us/organizations/":{token_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/token",token_endpoint_auth_methods_supported:["client_secret_post","private_key_jwt","client_secret_basic"],jwks_uri:"https://login.microsoftonline.us/organizations/discovery/v2.0/keys",response_modes_supported:["query","fragment","form_post"],subject_types_supported:["pairwise"],id_token_signing_alg_values_supported:["RS256"],response_types_supported:["code","id_token","code id_token","id_token token"],scopes_supported:["openid","profile","email","offline_access"],issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",request_uri_parameter_supported:!1,userinfo_endpoint:"https://graph.microsoft.com/oidc/userinfo",authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/authorize",device_authorization_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/devicecode",http_logout_supported:!0,frontchannel_logout_supported:!0,end_session_endpoint:"https://login.microsoftonline.us/organizations/oauth2/v2.0/logout",claims_supported:["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],kerberos_endpoint:"https://login.microsoftonline.us/organizations/kerberos",tenant_region_scope:null,cloud_instance_name:"microsoftonline.us",cloud_graph_host_name:"graph.windows.net",msgraph_host:"graph.microsoft.com",rbac_url:"https://pasff.usgovcloudapi.net"}},i={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration","api-version":"1.1",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},s=new Set;function l(e,t){let n;const a=e.canonicalAuthority;if(a){const s=new r.G(a).getUrlComponents().HostNameAndPort;n=c(s,e.cloudDiscoveryMetadata?.metadata,o.pQ.CONFIG,t)||c(s,i.metadata,o.pQ.HARDCODED_VALUES,t)||e.knownAuthorities}return n||[]}function c(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=d(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function u(e){return d(i.metadata,e)}function d(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}i.metadata.forEach((e=>{e.aliases.forEach((e=>{s.add(e)}))}))},28514:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"}},56845:(e,t,n)=>{"use strict";n.d(t,{a:()=>r});const r={Default:0,Adfs:1,Dsts:2,Ciam:3}},49273:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});const r={AAD:"AAD",OIDC:"OIDC"}},93741:(e,t,n)=>{"use strict";n.d(t,{L:()=>m,w:()=>p});var r=n(3062),o=n(8516),a=n(91164),i=n(72361),s=n(95493),l=n(95956),c=n(48280),u=n(80594),d=n(20718),h=n(28847);class m{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(u.u,u.i),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getAccountInfoForTenantProfiles(e,t)))}getAccountInfoForTenantProfiles(e,t){return this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)}getTenantedAccountInfoByFilter(e,t,n,r){let o,a=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const i=this.getIdToken(e,t,n.tenantId);return i&&(o=(0,c.Z_)(i.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(a=(0,l.$f)(e,n,o),a)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const a=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const i=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,a,e,n);t&&i.push(t)})),i}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t){if(!e)throw(0,s.zP)(h.mj);e.account&&this.setAccount(e.account),e.idToken&&!1!==t?.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken&&!1!==t?.accessToken&&await this.saveAccessToken(e.accessToken),e.refreshToken&&!1!==t?.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata)}async saveAccessToken(e){const t={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),r=a.i.fromString(e.target),o=[];n.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,t,!1))return;const n=this.getAccessTokenCredential(e);if(n&&this.credentialMatchesFilter(n,t)){a.i.fromString(n.target).intersectingScopeSets(r)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),this.setAccessTokenCredential(e)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},a=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));a&&0===a.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(r.Bv.CACHE_KEY_SEPARATOR).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(r.Bv.CACHE_KEY_SEPARATOR).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(r.d3.ID_TOKEN.toLowerCase())&&-1===t.indexOf(r.d3.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(r.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(r.d3.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(r.d3.REFRESH_TOKEN.toLowerCase())>-1){const e=`${r.d3.REFRESH_TOKEN}${r.Bv.CACHE_KEY_SEPARATOR}${this.clientId}${r.Bv.CACHE_KEY_SEPARATOR}`,n=`${r.d3.REFRESH_TOKEN}${r.Bv.CACHE_KEY_SEPARATOR}${r.ch}${r.Bv.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===r.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===r.hO.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)}getAppMetadataFilteredByInternal(e,t){const n=this.getKeys(),r={};return n.forEach((n=>{if(!this.isAppMetadata(n))return;const o=this.getAppMetadata(n);o&&(e&&!this.matchEnvironment(o,e)||t&&!this.matchClientId(o,t)||(r[n]=o))})),r}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}updateOutdatedCachedAccount(e,t,n){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");const r=this.getAccountKeys().filter((e=>e.startsWith(t.homeAccountId))),o=[];r.forEach((e=>{const t=this.getCachedAccountEntity(e);t&&o.push(t)}));const a=o.find((e=>(0,l.Hc)(e.realm,e.homeAccountId)))||o[0];a.tenantProfiles=o.map((e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:(0,l.Hc)(e.realm,e.homeAccountId)})));const s=m.toObject(new i.r,{...a}),c=s.generateAccountKey();return r.forEach((t=>{t!==c&&this.removeOutdatedAccount(e)})),this.setAccount(s),n?.verbose("Updated an outdated account entity in the cache"),s}return t}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===r.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===r.hO.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw(0,s.zP)(h.ol)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=i.r.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,o,a){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:r.d3.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(i,t),l=s.size;if(l<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(l>1){let t=s;if(!n){const n=new Map;s.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),o&&a&&o.addFields({multiMatchedID:s.size},a),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,i,s,l){this.commonLogger.trace("CacheManager - getAccessToken called");const c=a.i.createSearchScopes(t.scopes),u=t.authenticationScheme||r.hO.BEARER,d=u&&u.toLowerCase()!==r.hO.BEARER.toLowerCase()?r.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:r.d3.ACCESS_TOKEN,h={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:d,clientId:this.clientId,realm:i||e.tenantId,target:c,tokenType:u,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},m=n&&n.accessToken||this.getTokenKeys().accessToken,p=[];m.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,h,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,h)&&p.push(t)}}));const g=p.length;return g<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):g>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),p.forEach((e=>{this.removeAccessToken((0,o.Mk)(e))})),s&&l&&s.addFields({multiMatchedAT:p.length},l),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),p[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,o,a){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?r.ch:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:r.d3.REFRESH_TOKEN,clientId:this.clientId,familyId:i},l=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];l.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,s)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,s)&&c.push(t)}}));const u=c.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&o&&a&&o.addFields({multiMatchedRT:u},a),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw(0,s.zP)(h.EC);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==r.ch)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=(0,d._u)(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==r.d3.ACCESS_TOKEN&&e.credentialType!==r.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return a.i.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(r.dg)}isAuthorityMetadata(e){return-1!==e.indexOf(r.QU.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return`${r.QU.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class p extends m{setAccount(){throw(0,s.zP)(h.M2)}getAccount(){throw(0,s.zP)(h.M2)}getCachedAccountEntity(){throw(0,s.zP)(h.M2)}setIdTokenCredential(){throw(0,s.zP)(h.M2)}getIdTokenCredential(){throw(0,s.zP)(h.M2)}setAccessTokenCredential(){throw(0,s.zP)(h.M2)}getAccessTokenCredential(){throw(0,s.zP)(h.M2)}setRefreshTokenCredential(){throw(0,s.zP)(h.M2)}getRefreshTokenCredential(){throw(0,s.zP)(h.M2)}setAppMetadata(){throw(0,s.zP)(h.M2)}getAppMetadata(){throw(0,s.zP)(h.M2)}setServerTelemetry(){throw(0,s.zP)(h.M2)}getServerTelemetry(){throw(0,s.zP)(h.M2)}setAuthorityMetadata(){throw(0,s.zP)(h.M2)}getAuthorityMetadata(){throw(0,s.zP)(h.M2)}getAuthorityMetadataKeys(){throw(0,s.zP)(h.M2)}setThrottlingCache(){throw(0,s.zP)(h.M2)}getThrottlingCache(){throw(0,s.zP)(h.M2)}removeItem(){throw(0,s.zP)(h.M2)}containsKey(){throw(0,s.zP)(h.M2)}getKeys(){throw(0,s.zP)(h.M2)}getAccountKeys(){throw(0,s.zP)(h.M2)}getTokenKeys(){throw(0,s.zP)(h.M2)}async clear(){throw(0,s.zP)(h.M2)}updateCredentialCacheKey(){throw(0,s.zP)(h.M2)}removeOutdatedAccount(){throw(0,s.zP)(h.M2)}}},72361:(e,t,n)=>{"use strict";n.d(t,{r:()=>d});var r=n(3062),o=n(60997),a=n(95956),i=n(95493),s=n(56845),l=n(59926),c=n(49273),u=n(28847);class d{generateAccountId(){return[this.homeAccountId,this.environment].join(r.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return d.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(r.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,n){const h=new d;let m;t.authorityType===s.a.Adfs?h.authorityType=r.iR.ADFS_ACCOUNT_TYPE:t.protocolMode===c.A.AAD?h.authorityType=r.iR.MSSTS_ACCOUNT_TYPE:h.authorityType=r.iR.GENERIC_ACCOUNT_TYPE,e.clientInfo&&n&&(m=(0,o.B)(e.clientInfo,n)),h.clientInfo=e.clientInfo,h.homeAccountId=e.homeAccountId,h.nativeAccountId=e.nativeAccountId;const p=e.environment||t&&t.getPreferredCache();if(!p)throw(0,i.zP)(u.Q9);h.environment=p,h.realm=m?.utid||(0,l.M)(e.idTokenClaims)||"",h.localAccountId=m?.uid||e.idTokenClaims.oid||e.idTokenClaims.sub||"";const g=e.idTokenClaims.preferred_username||e.idTokenClaims.upn,f=e.idTokenClaims.emails?e.idTokenClaims.emails[0]:null;if(h.username=g||f||"",h.name=e.idTokenClaims.name,h.cloudGraphHostName=e.cloudGraphHostName,h.msGraphHost=e.msGraphHost,e.tenantProfiles)h.tenantProfiles=e.tenantProfiles;else{const t=[];if(e.idTokenClaims){const n=(0,a.SI)(e.homeAccountId,e.idTokenClaims);t.push(n)}h.tenantProfiles=t}return h}static createFromAccountInfo(e,t,n){const o=new d;return o.authorityType=e.authorityType||r.iR.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.cloudGraphHostName=t,o.msGraphHost=n,o.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),o}static generateHomeAccountId(e,t,n,r,a){if(t!==s.a.Adfs&&t!==s.a.Dsts){if(e)try{const t=(0,o.B)(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(i){}n.warning("No client info in response")}return a?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}},8516:(e,t,n)=>{"use strict";n.d(t,{Bq:()=>p,Cd:()=>I,Ds:()=>u,FK:()=>A,Js:()=>C,Md:()=>c,Mk:()=>l,OJ:()=>d,Om:()=>m,Ox:()=>S,Rw:()=>w,VQ:()=>E,ZL:()=>T,k5:()=>P,x4:()=>g,xc:()=>k});var r=n(48280),o=n(95493),a=n(3062),i=n(75178),s=n(28847);function l(e){return[f(e),v(e),_(e),y(e),b(e)].join(a.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function c(e,t,n,r,o){return{credentialType:a.d3.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function u(e,t,n,l,c,u,d,h,m,p,g,f,v,_,y){const b={homeAccountId:e,credentialType:a.d3.ACCESS_TOKEN,secret:n,cachedAt:i.I.nowSeconds().toString(),expiresOn:d.toString(),extendedExpiresOn:h.toString(),environment:t,clientId:l,realm:c,target:u,tokenType:g||a.hO.BEARER};if(f&&(b.userAssertionHash=f),p&&(b.refreshOn=p.toString()),_&&(b.requestedClaims=_,b.requestedClaimsHash=y),b.tokenType?.toLowerCase()!==a.hO.BEARER.toLowerCase())switch(b.credentialType=a.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME,b.tokenType){case a.hO.POP:const e=(0,r.Z_)(n,m);if(!e?.cnf?.kid)throw(0,o.zP)(s.P_);b.keyId=e.cnf.kid;break;case a.hO.SSH:b.keyId=v}return b}function d(e,t,n,r,o,i,s){const l={credentialType:a.d3.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(l.userAssertionHash=i),o&&(l.familyId=o),s&&(l.expiresOn=s.toString()),l}function h(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function m(e){return!!e&&(h(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===a.d3.ACCESS_TOKEN||e.credentialType===a.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME))}function p(e){return!!e&&(h(e)&&e.hasOwnProperty("realm")&&e.credentialType===a.d3.ID_TOKEN)}function g(e){return!!e&&(h(e)&&e.credentialType===a.d3.REFRESH_TOKEN)}function f(e){return[e.homeAccountId,e.environment].join(a.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function v(e){const t=e.credentialType===a.d3.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(a.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function _(e){return(e.target||"").toLowerCase()}function y(e){return(e.requestedClaimsHash||"").toLowerCase()}function b(e){return e.tokenType&&e.tokenType.toLowerCase()!==a.hO.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function C(e,t){const n=0===e.indexOf(a.HN.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}function E(e,t){let n=!1;e&&(n=0===e.indexOf(a.bb.THROTTLING_PREFIX));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}function S({environment:e,clientId:t}){return[a.dg,e,t].join(a.Bv.CACHE_KEY_SEPARATOR).toLowerCase()}function T(e,t){return!!t&&(0===e.indexOf(a.dg)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment"))}function A(e,t){return!!t&&(0===e.indexOf(a.QU.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri"))}function w(){return i.I.nowSeconds()+a.QU.REFRESH_TIME_SECONDS}function k(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function I(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function P(e){return e.expiresAt<=i.I.nowSeconds()}},37656:(e,t,n)=>{"use strict";n.d(t,{j6:()=>b,lh:()=>C,z:()=>h});var r=n(65231),o=n(806),a=n(3062),i=n(80594),s=n(28514),l=n(93741),c=n(49273),u=n(95493),d=n(28847);const h={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},m={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:o.i.Info,correlationId:a.gT.EMPTY_STRING},p={claimsBasedCachingEnabled:!1},g={async sendGetRequestAsync(){throw(0,u.zP)(d.M2)},async sendPostRequestAsync(){throw(0,u.zP)(d.M2)}},f={sku:a.gT.SKU,version:i.i,cpu:a.gT.EMPTY_STRING,os:a.gT.EMPTY_STRING},v={clientSecret:a.gT.EMPTY_STRING,clientAssertion:void 0},_={azureCloudInstance:s.z.None,tenant:`${a.gT.DEFAULT_COMMON_TENANT}`},y={application:{appName:"",appVersion:""}};function b({authOptions:e,systemOptions:t,loggerOptions:n,cacheOptions:a,storageInterface:i,networkInterface:s,cryptoInterface:c,clientCredentials:u,libraryInfo:d,telemetry:b,serverTelemetryManager:C,persistencePlugin:E,serializableCache:S}){const T={...m,...n};return{authOptions:(A=e,{clientCapabilities:[],azureCloudOptions:_,skipAuthorityMetadataCache:!1,...A}),systemOptions:{...h,...t},loggerOptions:T,cacheOptions:{...p,...a},storageInterface:i||new l.w(e.clientId,r.d,new o.Y(T)),networkInterface:s||g,cryptoInterface:c||r.d,clientCredentials:u||v,libraryInfo:{...f,...d},telemetry:{...y,...b},serverTelemetryManager:C||null,persistencePlugin:E||null,serializableCache:S||null};var A}function C(e){return e.authOptions.authority.options.protocolMode===c.A.OIDC}},83363:(e,t,n)=>{"use strict";n.d(t,{C2:()=>f,Cx:()=>r,DN:()=>N,DW:()=>v,GQ:()=>P,He:()=>o,IC:()=>c,Im:()=>h,KR:()=>M,Lm:()=>i,O4:()=>H,PU:()=>q,PY:()=>D,Pe:()=>E,RJ:()=>L,RO:()=>X,Rl:()=>S,US:()=>z,Zb:()=>B,bJ:()=>C,bP:()=>T,by:()=>m,cO:()=>g,ct:()=>l,ed:()=>d,fC:()=>b,hR:()=>A,hf:()=>U,ib:()=>R,j5:()=>w,ki:()=>I,ko:()=>s,nZ:()=>y,q0:()=>x,s4:()=>_,sI:()=>O,sR:()=>p,x5:()=>G,yO:()=>a,z6:()=>u,zl:()=>F,zm:()=>k});const r="client_id",o="redirect_uri",a="response_type",i="response_mode",s="grant_type",l="claims",c="scope",u="refresh_token",d="state",h="nonce",m="prompt",p="client_info",g="code",f="code_challenge",v="code_challenge_method",_="code_verifier",y="client-request-id",b="x-client-SKU",C="x-client-VER",E="x-client-OS",S="x-client-CPU",T="x-client-current-telemetry",A="x-client-last-telemetry",w="x-ms-lib-capability",k="x-app-name",I="x-app-ver",P="post_logout_redirect_uri",R="id_token_hint",x="device_code",N="client_secret",O="client_assertion",L="client_assertion_type",M="token_type",D="req_cnf",U="assertion",F="requested_token_use",B="return_spa_code",H="nativebroker",q="logout_hint",G="sid",z="login_hint",X="domain_hint"},65231:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(95493),o=n(28847);const a={createNewGuid:()=>{throw(0,r.zP)(o.M2)},base64Decode:()=>{throw(0,r.zP)(o.M2)},base64Encode:()=>{throw(0,r.zP)(o.M2)},async getPublicKeyThumbprint(){throw(0,r.zP)(o.M2)},async removeTokenBindingKey(){throw(0,r.zP)(o.M2)},async clearKeystore(){throw(0,r.zP)(o.M2)},async signJwt(){throw(0,r.zP)(o.M2)},async hashString(){throw(0,r.zP)(o.M2)}}},42815:(e,t,n)=>{"use strict";n.d(t,{MD:()=>s,l4:()=>i});var r=n(3062),o=n(12031);const a={[o.g]:"Unexpected error in authentication.",[o.D]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};o.g,o.g,o.D,o.D;class i extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,i.prototype),this.errorCode=e||r.gT.EMPTY_STRING,this.errorMessage=t||r.gT.EMPTY_STRING,this.subError=n||r.gT.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function s(e,t){return new i(e,t?`${a[e]} ${t}`:a[e])}},12031:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,g:()=>r});const r="unexpected_error",o="post_request_failed"},95493:(e,t,n)=>{"use strict";n.d(t,{er:()=>i,zP:()=>s});var r=n(42815),o=n(28847);const a={[o.ZE]:"The client info could not be parsed/decoded correctly",[o.S7]:"The client info was empty",[o.GH]:"Token cannot be parsed",[o.PM]:"The token is null or empty",[o.HO]:"Endpoints cannot be resolved",[o.EF]:"Network request failed",[o.Ce]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[o.b4]:"The hash parameters could not be deserialized",[o.r8]:"State was not the expected format",[o.Tu]:"State mismatch error",[o.LV]:"State not found",[o.vR]:"Nonce mismatch error",[o.w7]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[o.Ao]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[o.MU]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[o.RH]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[o.EC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[o.FU]:"Token request cannot be made without authorization code or refresh token.",[o.v1]:"Cannot remove null or empty scope from ScopeSet",[o.f4]:"Cannot append ScopeSet",[o.S]:"Empty input ScopeSet cannot be processed",[o.Jk]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[o.tS]:"Device code is expired.",[o.ZT]:"Device code stopped polling for unknown reasons.",[o.D7]:"Please pass an account object, silent flow is not supported without account information",[o.mj]:"Cache record object was null or undefined.",[o.Q9]:"Invalid environment when attempting to create cache entry",[o.cX]:"No account found in cache for given key.",[o.QL]:"No crypto object detected.",[o.cy]:"Unexpected credential type.",[o.aE]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[o.SX]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[o.s$]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[o.nQ]:"User defined timeout for device code polling reached",[o.P_]:"Cannot generate a POP jwt if the token_claims are not populated",[o.Zv]:"Server response does not contain an authorization code to proceed",[o.ol]:"Could not remove the credential's binding key from storage.",[o.ig]:"The provided authority does not support logout",[o.Of]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[o.Mq]:"No network connectivity. Check your internet connection.",[o.$R]:"User cancelled the flow.",[o.k7]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[o.M2]:"This method has not been implemented",[o.Ls]:"The nested app auth bridge is disabled"};o.ZE,o.ZE,o.S7,o.S7,o.GH,o.GH,o.PM,o.PM,o.HO,o.HO,o.EF,o.EF,o.Ce,o.Ce,o.b4,o.b4,o.r8,o.r8,o.Tu,o.Tu,o.LV,o.LV,o.vR,o.vR,o.w7,o.w7,o.Ao,o.Ao,o.MU,o.MU,o.RH,o.RH,o.EC,o.EC,o.FU,o.FU,o.v1,o.v1,o.f4,o.f4,o.S,o.S,o.Jk,o.Jk,o.tS,o.tS,o.ZT,o.ZT,o.D7,o.D7,o.mj,o.mj,o.Q9,o.Q9,o.cX,o.cX,o.QL,o.QL,o.cy,o.cy,o.aE,o.aE,o.SX,o.SX,o.s$,o.s$,o.nQ,o.nQ,o.P_,o.P_,o.Zv,o.Zv,o.ol,o.ol,o.ig,o.ig,o.Of,o.Of,o.Mq,o.Mq,o.$R,o.$R,o.k7,o.k7,o.Ls,o.Ls;class i extends r.l4{constructor(e,t){super(e,t?`${a[e]}: ${t}`:a[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,i.prototype)}}function s(e,t){return new i(e,t)}},28847:(e,t,n)=>{"use strict";n.d(t,{$R:()=>z,Ao:()=>f,Ce:()=>c,D7:()=>k,EC:()=>y,EF:()=>l,FU:()=>b,GH:()=>a,HO:()=>s,Jk:()=>T,LV:()=>m,Ls:()=>V,M2:()=>$,MU:()=>v,Mq:()=>G,Of:()=>q,PM:()=>i,P_:()=>U,Q9:()=>P,QL:()=>x,RH:()=>_,S:()=>S,S7:()=>o,SX:()=>L,Tu:()=>h,ZE:()=>r,ZT:()=>w,Zv:()=>F,aE:()=>O,b4:()=>u,cX:()=>R,cy:()=>N,f4:()=>E,ig:()=>H,k7:()=>X,mj:()=>I,nQ:()=>D,ol:()=>B,r8:()=>d,s$:()=>M,tS:()=>A,v1:()=>C,vR:()=>p,w7:()=>g});const r="client_info_decoding_error",o="client_info_empty_error",a="token_parsing_error",i="null_or_empty_token",s="endpoints_resolution_error",l="network_error",c="openid_config_error",u="hash_not_deserialized",d="invalid_state",h="state_mismatch",m="state_not_found",p="nonce_mismatch",g="auth_time_not_found",f="max_age_transpired",v="multiple_matching_tokens",_="multiple_matching_accounts",y="multiple_matching_appMetadata",b="request_cannot_be_made",C="cannot_remove_empty_scope",E="cannot_append_scopeset",S="empty_input_scopeset",T="device_code_polling_cancelled",A="device_code_expired",w="device_code_unknown_error",k="no_account_in_silent_request",I="invalid_cache_record",P="invalid_cache_environment",R="no_account_found",x="no_crypto_object",N="unexpected_credential_type",O="invalid_assertion",L="invalid_client_credential",M="token_refresh_required",D="user_timeout_reached",U="token_claims_cnf_required_for_signedjwt",F="authorization_code_missing_from_server_response",B="binding_key_not_removed",H="end_session_endpoint_not_supported",q="key_id_missing",G="no_network_connectivity",z="user_canceled",X="missing_tenant_id_error",$="method_not_implemented",V="nested_app_auth_bridge_disabled"},34032:(e,t,n)=>{"use strict";n.d(t,{ei:()=>s});var r=n(42815),o=n(13420);const a={[o.RV]:"A redirect URI is required for all calls, and none has been set.",[o.LB]:"Could not parse the given claims request object.",[o.Oz]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[o.yH]:"URL could not be parsed into appropriate segments.",[o.To]:"URL was empty or null.",[o.vE]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[o.z_]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[o.nm]:"Given claims parameter must be a stringified JSON object.",[o.dL]:"Token request was empty and not found in cache.",[o.$h]:"The logout request was null or undefined.",[o.d6]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[o.TU]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[o.E]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[o.zx]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[o.o_]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[o.dK]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[o.hI]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[o.U9]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[o.i1]:"Invalid authentication header provided",[o.qz]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[o.Ol]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[o.Hv]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};o.RV,o.RV,o.LB,o.LB,o.Oz,o.Oz,o.yH,o.yH,o.To,o.To,o.vE,o.vE,o.z_,o.z_,o.nm,o.nm,o.dL,o.dL,o.$h,o.$h,o.d6,o.d6,o.TU,o.TU,o.E,o.E,o.zx,o.zx,o.o_,o.o_,o.dK,o.dK,o.hI,o.hI,o.U9,o.U9,o.i1,o.i1,o.qz,o.qz,o.Ol,o.Ol,o.Hv,o.Hv;class i extends r.l4{constructor(e){super(e,a[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,i.prototype)}}function s(e){return new i(e)}},13420:(e,t,n)=>{"use strict";n.d(t,{$h:()=>h,E:()=>g,Hv:()=>T,LB:()=>o,Ol:()=>S,Oz:()=>a,RV:()=>r,TU:()=>p,To:()=>s,U9:()=>b,d6:()=>m,dK:()=>_,dL:()=>d,hI:()=>y,i1:()=>C,nm:()=>u,o_:()=>v,qz:()=>E,vE:()=>l,yH:()=>i,z_:()=>c,zx:()=>f});const r="redirect_uri_empty",o="claims_request_parsing_error",a="authority_uri_insecure",i="url_parse_error",s="empty_url_error",l="empty_input_scopes_error",c="invalid_prompt_value",u="invalid_claims",d="token_request_empty",h="logout_request_empty",m="invalid_code_challenge_method",p="pkce_params_missing",g="invalid_cloud_discovery_metadata",f="invalid_authority_metadata",v="untrusted_authority",_="missing_ssh_jwk",y="missing_ssh_kid",b="missing_nonce_authentication_header",C="invalid_authentication_header",E="cannot_set_OIDCOptions",S="cannot_allow_native_broker",T="authority_mismatch"},83355:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>u,Yo:()=>c,ip:()=>d});var r=n(3062),o=n(42815),a=n(92233);const i=[a.tZ,a.Mo,a.kk,a.nl],s=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],l={[a.I2]:"No refresh token found in the cache. Please sign-in.",[a.QP]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[a.Tw]:"Refresh token has expired.",[a.nl]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};a.I2,a.I2,a.QP,a.QP,a.nl,a.nl;class c extends o.l4{constructor(e,t,n,o,a,i,s){super(e,t,n),Object.setPrototypeOf(this,c.prototype),this.timestamp=o||r.gT.EMPTY_STRING,this.traceId=a||r.gT.EMPTY_STRING,this.correlationId=i||r.gT.EMPTY_STRING,this.claims=s||r.gT.EMPTY_STRING,this.name="InteractionRequiredAuthError"}}function u(e,t,n){const r=!!e&&i.indexOf(e)>-1,o=!!n&&s.indexOf(n)>-1,a=!!t&&i.some((e=>t.indexOf(e)>-1));return r||a||o}function d(e){return new c(e,l[e])}},92233:(e,t,n)=>{"use strict";n.d(t,{I2:()=>r,Mo:()=>s,QP:()=>o,Tw:()=>a,kk:()=>l,nl:()=>c,tZ:()=>i});const r="no_tokens_found",o="native_account_unavailable",a="refresh_token_expired",i="interaction_required",s="consent_required",l="login_required",c="bad_token"},25029:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var r=n(42815);class o extends r.l4{constructor(e,t,n){super(e,t,n),this.name="ServerError",Object.setPrototypeOf(this,o.prototype)}}},806:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a,i:()=>r});var r,o=n(3062);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(r||(r={}));class a{constructor(e,t,n){this.level=r.Info;const i=e||a.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||(()=>{}),this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level="number"===typeof i.logLevel?i.logLevel:r.Info,this.correlationId=i.correlationId||o.gT.EMPTY_STRING,this.packageName=t||o.gT.EMPTY_STRING,this.packageVersion=n||o.gT.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:r.Info}}clone(e,t,n){return new a({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${r[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:r.Error,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:r.Warning,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:r.Info,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:r.Verbose,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!1,correlationId:t||o.gT.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:r.Trace,containsPii:!0,correlationId:t||o.gT.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}},80594:(e,t,n)=>{"use strict";n.d(t,{i:()=>o,u:()=>r});const r="@azure/msal-common",o="14.6.0"},49314:(e,t,n)=>{"use strict";n.d(t,{H:()=>c});var r=n(3062),o=n(83363),a=n(91164),i=n(34032),s=n(71246),l=n(13420);class c{constructor(){this.parameters=new Map}addResponseTypeCode(){this.parameters.set(o.yO,encodeURIComponent(r.gT.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(o.yO,encodeURIComponent(`${r.gT.TOKEN_RESPONSE_TYPE} ${r.gT.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set(o.Lm,encodeURIComponent(e||r.vw.QUERY))}addNativeBroker(){this.parameters.set(o.O4,encodeURIComponent("1"))}addScopes(e,t=!0,n=r.f_){!t||n.includes("openid")||e.includes("openid")||n.push("openid");const i=t?[...e||[],...n]:e||[],s=new a.i(i);this.parameters.set(o.IC,encodeURIComponent(s.printScopes()))}addClientId(e){this.parameters.set(o.Cx,encodeURIComponent(e))}addRedirectUri(e){s.D.validateRedirectUri(e),this.parameters.set(o.He,encodeURIComponent(e))}addPostLogoutRedirectUri(e){s.D.validateRedirectUri(e),this.parameters.set(o.GQ,encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set(o.ib,encodeURIComponent(e))}addDomainHint(e){this.parameters.set(o.RO,encodeURIComponent(e))}addLoginHint(e){this.parameters.set(o.US,encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(r.SZ.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(r.SZ.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set(o.x5,encodeURIComponent(e))}addClaims(e,t){const n=this.addClientCapabilitiesToClaims(e,t);s.D.validateClaims(n),this.parameters.set(o.ct,encodeURIComponent(n))}addCorrelationId(e){this.parameters.set(o.nZ,encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set(o.fC,e.sku),this.parameters.set(o.bJ,e.version),e.os&&this.parameters.set(o.Pe,e.os),e.cpu&&this.parameters.set(o.Rl,e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set(o.zm,e.appName),e?.appVersion&&this.parameters.set(o.ki,e.appVersion)}addPrompt(e){s.D.validatePrompt(e),this.parameters.set(`${o.by}`,encodeURIComponent(e))}addState(e){e&&this.parameters.set(o.ed,encodeURIComponent(e))}addNonce(e){this.parameters.set(o.Im,encodeURIComponent(e))}addCodeChallengeParams(e,t){if(s.D.validateCodeChallengeParams(e,t),!e||!t)throw(0,i.ei)(l.TU);this.parameters.set(o.C2,encodeURIComponent(e)),this.parameters.set(o.DW,encodeURIComponent(t))}addAuthorizationCode(e){this.parameters.set(o.cO,encodeURIComponent(e))}addDeviceCode(e){this.parameters.set(o.q0,encodeURIComponent(e))}addRefreshToken(e){this.parameters.set(o.z6,encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set(o.s4,encodeURIComponent(e))}addClientSecret(e){this.parameters.set(o.DN,encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set(o.sI,encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set(o.RJ,encodeURIComponent(e))}addOboAssertion(e){this.parameters.set(o.hf,encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set(o.zl,encodeURIComponent(e))}addGrantType(e){this.parameters.set(o.ko,encodeURIComponent(e))}addClientInfo(){this.parameters.set(r.sR,"1")}addExtraQueryParameters(e){const t=s.D.sanitizeEQParams(e,this.parameters);Object.keys(t).forEach((t=>{this.parameters.set(t,e[t])}))}addClientCapabilitiesToClaims(e,t){let n;if(e)try{n=JSON.parse(e)}catch(o){throw(0,i.ei)(l.nm)}else n={};return t&&t.length>0&&(n.hasOwnProperty(r.As.ACCESS_TOKEN)||(n[r.As.ACCESS_TOKEN]={}),n[r.As.ACCESS_TOKEN][r.As.XMS_CC]={values:t}),JSON.stringify(n)}addUsername(e){this.parameters.set(r.Ge.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(r.Ge.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(o.KR,r.hO.POP),this.parameters.set(o.PY,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(o.KR,r.hO.SSH),this.parameters.set(o.PY,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set(o.bP,e.generateCurrentRequestHeaderValue()),this.parameters.set(o.hR,e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set(o.j5,r.bb.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set(o.PU,encodeURIComponent(e))}createQueryString(){const e=new Array;return this.parameters.forEach(((t,n)=>{e.push(`${n}=${t}`)})),e.join("&")}}},71246:(e,t,n)=>{"use strict";n.d(t,{D:()=>i});var r=n(34032),o=n(3062),a=n(13420);class i{static validateRedirectUri(e){if(!e)throw(0,r.ei)(a.RV)}static validatePrompt(e){const t=[];for(const n in o.NJ)t.push(o.NJ[n]);if(t.indexOf(e)<0)throw(0,r.ei)(a.z_)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw(0,r.ei)(a.nm)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw(0,r.ei)(a.TU);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([o.VX.PLAIN,o.VX.S256].indexOf(e)<0)throw(0,r.ei)(a.d6)}static sanitizeEQParams(e,t){return e?(t.forEach(((t,n)=>{e[n]&&delete e[n]})),Object.fromEntries(Object.entries(e).filter((e=>""!==e[1])))):{}}}},91164:(e,t,n)=>{"use strict";n.d(t,{i:()=>c});var r=n(34032),o=n(30303),a=n(95493),i=n(3062),s=n(13420),l=n(28847);class c{constructor(e){const t=e?o.x.trimArrayEntries([...e]):[],n=t?o.x.removeEmptyStringsFromArray(t):[];this.validateInputScopes(n),this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||i.gT.EMPTY_STRING).split(" ");return new c(t)}static createSearchScopes(e){const t=new c(e);return t.containsOnlyOIDCScopes()?t.removeScope(i.gT.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw(0,r.ei)(s.vE)}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new c(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return i.$f.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw(0,a.zP)(l.f4)}}removeScope(e){if(!e)throw(0,a.zP)(l.v1);this.scopes.delete(e.trim())}removeOIDCScopes(){i.$f.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw(0,a.zP)(l.S);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw(0,a.zP)(l.S);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return i.gT.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}},80367:(e,t,n)=>{"use strict";n.d(t,{$L:()=>o,Ak:()=>r});const r={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromiseMeasurement",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"},o={NotStarted:0,InProgress:1,Completed:2};new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT"])},59575:(e,t,n)=>{"use strict";n.d(t,{G:()=>l});var r=n(34032),o=n(30303),a=n(3062),i=n(16093),s=n(13420);class l{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw(0,r.ei)(s.To);e.includes("#")||(this._urlString=l.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return o.x.endsWith(t,"?")?t=t.slice(0,-1):o.x.endsWith(t,"?/")&&(t=t.slice(0,-2)),o.x.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw(0,r.ei)(s.yH)}if(!e.HostNameAndPort||!e.PathSegments)throw(0,r.ei)(s.yH);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw(0,r.ei)(s.Oz)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return l.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==a.Nb.COMMON&&n[0]!==a.Nb.ORGANIZATIONS||(n[0]=e),l.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw(0,r.ei)(s.yH);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let o=n.AbsolutePath.split("/");return o=o.filter((e=>e&&e.length>0)),n.PathSegments=o,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw(0,r.ei)(s.yH);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===a.gT.FORWARD_SLASH){const n=new l(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new l(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!(0,i.F)(e)}}},3062:(e,t,n)=>{"use strict";n.d(t,{$f:()=>i,As:()=>u,Bv:()=>v,D1:()=>k,Ge:()=>I,HN:()=>T,NJ:()=>d,Nb:()=>c,QU:()=>E,SZ:()=>s,To:()=>N,VX:()=>h,Vi:()=>l,W:()=>R,YY:()=>P,bb:()=>w,ch:()=>C,d3:()=>_,dg:()=>y,f_:()=>a,gT:()=>r,hO:()=>A,iR:()=>f,ki:()=>x,oj:()=>o,pQ:()=>S,qJ:()=>g,rg:()=>m,sR:()=>b,vw:()=>p,xd:()=>O});const r={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},o={SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR_RANGE_START:500,SERVER_ERROR_RANGE_END:599},a=[r.OPENID_SCOPE,r.PROFILE_SCOPE,r.OFFLINE_ACCESS_SCOPE],i=[...a,r.EMAIL_SCOPE],s={CONTENT_TYPE:"Content-Type",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},l={ID_TOKEN:"idtoken",CLIENT_INFO:"client.info",ADAL_ID_TOKEN:"adal.idtoken",ERROR:"error",ERROR_DESC:"error.description",ACTIVE_ACCOUNT:"active-account",ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},c={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},u={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},d={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},h={PLAIN:"plain",S256:"S256"},m={QUERY:"query",FRAGMENT:"fragment"},p={...m,FORM_POST:"form_post"},g={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},f={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},v={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},_={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},y="appmetadata",b="client_info",C="1",E={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},S={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},T={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},A={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},w={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},k={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},I={username:"username",password:"password"},P={httpSuccess:200,httpBadRequest:400},R={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},x={CONFIGURED_MATCHES_DETECTED:"1",CONFIGURED_NO_AUTO_DETECTION:"2",CONFIGURED_NOT_DETECTED:"3",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},N={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},O={Jwt:"JWT",Jwk:"JWK",Pop:"pop"}},30303:(e,t,n)=>{"use strict";n.d(t,{x:()=>r});class r{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}},16093:(e,t,n)=>{"use strict";n.d(t,{F:()=>i,q:()=>a});var r=n(95493),o=n(28847);function a(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function i(e){if(!e||e.indexOf("=")<0)return null;try{const t=a(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.error||n.error_description||n.state)return n}catch(t){throw(0,r.zP)(o.b4)}return null}},56958:(e,t,n)=>{"use strict";n.d(t,{A:()=>me,x:()=>be});var r=n(2784),o=n(28316),{entries:a,setPrototypeOf:i,isFrozen:s,getPrototypeOf:l,getOwnPropertyDescriptor:c}=Object,{freeze:u,seal:d,create:h}=Object,{apply:m,construct:p}="undefined"!=typeof Reflect&&Reflect;u||(u=function(e){return e}),d||(d=function(e){return e}),m||(m=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});var g,f=I(Array.prototype.forEach),v=I(Array.prototype.pop),_=I(Array.prototype.push),y=I(String.prototype.toLowerCase),b=I(String.prototype.toString),C=I(String.prototype.match),E=I(String.prototype.replace),S=I(String.prototype.indexOf),T=I(String.prototype.trim),A=I(Object.prototype.hasOwnProperty),w=I(RegExp.prototype.test),k=(g=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(g,t)});function I(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return m(e,t,r)}}function P(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;i&&i(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){let e=n(o);e!==o&&(s(t)||(t[r]=e),o=e)}e[o]=!0}return e}function R(e){for(let t=0;t<e.length;t++)A(e,t)||(e[t]=null);return e}function x(e){let t=h(null);for(let[n,r]of a(e))A(e,n)&&(Array.isArray(r)?t[n]=R(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=x(r):t[n]=r);return t}function N(e,t){for(;null!==e;){let n=c(e,t);if(n){if(n.get)return I(n.get);if("function"==typeof n.value)return I(n.value)}e=l(e)}return function(){return null}}var O=u(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L=u(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),M=u(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=u(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),U=u(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),F=u(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),B=u(["#text"]),H=u(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),q=u(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),G=u(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),z=u(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),X=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),$=d(/<%[\w\W]*|[\w\W]*%>/gm),V=d(/\${[\w\W]*}/gm),W=d(/^data-[\-\w.\u00B7-\uFFFF]/),K=d(/^aria-[\-\w]+$/),j=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Z=d(/^(?:\w+script|data):/i),Y=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Q=d(/^html$/i),J=d(/^[a-z][a-z\d]*(-[a-z\d]+)+$/i),ee=Object.freeze({__proto__:null,MUSTACHE_EXPR:X,ERB_EXPR:$,TMPLIT_EXPR:V,DATA_ATTR:W,ARIA_ATTR:K,IS_ALLOWED_URI:j,IS_SCRIPT_OR_DATA:Z,ATTR_WHITESPACE:Y,DOCTYPE_NAME:Q,CUSTOM_ELEMENT:J}),te=function(){return window},ne=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));let o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(a){return console.warn("TrustedTypes policy "+o+" could not be created."),null}};var re=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te(),n=t=>e(t);if(n.version="3.0.10",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:r}=t,o=r,i=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:l,Node:c,Element:d,NodeFilter:m,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:I,trustedTypes:R}=t,X=d.prototype,$=N(X,"cloneNode"),V=N(X,"nextSibling"),W=N(X,"childNodes"),K=N(X,"parentNode");if("function"==typeof l){let e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let Z,Y="",{implementation:J,createNodeIterator:re,createDocumentFragment:oe,getElementsByTagName:ae}=r,{importNode:ie}=o,se={};n.isSupported="function"==typeof a&&"function"==typeof K&&J&&void 0!==J.createHTMLDocument;let{MUSTACHE_EXPR:le,ERB_EXPR:ce,TMPLIT_EXPR:ue,DATA_ATTR:de,ARIA_ATTR:he,IS_SCRIPT_OR_DATA:me,ATTR_WHITESPACE:pe,CUSTOM_ELEMENT:ge}=ee,{IS_ALLOWED_URI:fe}=ee,ve=null,_e=P({},[...O,...L,...M,...U,...B]),ye=null,be=P({},[...H,...q,...G,...z]),Ce=Object.seal(h(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,Se=null,Te=!0,Ae=!0,we=!1,ke=!0,Ie=!1,Pe=!1,Re=!1,xe=!1,Ne=!1,Oe=!1,Le=!1,Me=!0,De=!1,Ue="user-content-",Fe=!0,Be=!1,He={},qe=null,Ge=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ze=null,Xe=P({},["audio","video","img","source","image","track"]),$e=null,Ve=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),We="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",je="http://www.w3.org/1999/xhtml",Ze=je,Ye=!1,Qe=null,Je=P({},[We,Ke,je],b),et=null,tt=["application/xhtml+xml","text/html"],nt="text/html",rt=null,ot=null,at=r.createElement("form"),it=function(e){return e instanceof RegExp||e instanceof Function},st=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!ot||ot!==e){if((!e||"object"!=typeof e)&&(e={}),e=x(e),et=-1===tt.indexOf(e.PARSER_MEDIA_TYPE)?nt:e.PARSER_MEDIA_TYPE,rt="application/xhtml+xml"===et?b:y,ve=A(e,"ALLOWED_TAGS")?P({},e.ALLOWED_TAGS,rt):_e,ye=A(e,"ALLOWED_ATTR")?P({},e.ALLOWED_ATTR,rt):be,Qe=A(e,"ALLOWED_NAMESPACES")?P({},e.ALLOWED_NAMESPACES,b):Je,$e=A(e,"ADD_URI_SAFE_ATTR")?P(x(Ve),e.ADD_URI_SAFE_ATTR,rt):Ve,ze=A(e,"ADD_DATA_URI_TAGS")?P(x(Xe),e.ADD_DATA_URI_TAGS,rt):Xe,qe=A(e,"FORBID_CONTENTS")?P({},e.FORBID_CONTENTS,rt):Ge,Ee=A(e,"FORBID_TAGS")?P({},e.FORBID_TAGS,rt):{},Se=A(e,"FORBID_ATTR")?P({},e.FORBID_ATTR,rt):{},He=!!A(e,"USE_PROFILES")&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Ae=!1!==e.ALLOW_DATA_ATTR,we=e.ALLOW_UNKNOWN_PROTOCOLS||!1,ke=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,Pe=e.WHOLE_DOCUMENT||!1,Ne=e.RETURN_DOM||!1,Oe=e.RETURN_DOM_FRAGMENT||!1,Le=e.RETURN_TRUSTED_TYPE||!1,xe=e.FORCE_BODY||!1,Me=!1!==e.SANITIZE_DOM,De=e.SANITIZE_NAMED_PROPS||!1,Fe=!1!==e.KEEP_CONTENT,Be=e.IN_PLACE||!1,fe=e.ALLOWED_URI_REGEXP||j,Ze=e.NAMESPACE||je,Ce=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&it(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ce.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Ae=!1),Oe&&(Ne=!0),He&&(ve=P({},B),ye=[],!0===He.html&&(P(ve,O),P(ye,H)),!0===He.svg&&(P(ve,L),P(ye,q),P(ye,z)),!0===He.svgFilters&&(P(ve,M),P(ye,q),P(ye,z)),!0===He.mathMl&&(P(ve,U),P(ye,G),P(ye,z))),e.ADD_TAGS&&(ve===_e&&(ve=x(ve)),P(ve,e.ADD_TAGS,rt)),e.ADD_ATTR&&(ye===be&&(ye=x(ye)),P(ye,e.ADD_ATTR,rt)),e.ADD_URI_SAFE_ATTR&&P($e,e.ADD_URI_SAFE_ATTR,rt),e.FORBID_CONTENTS&&(qe===Ge&&(qe=x(qe)),P(qe,e.FORBID_CONTENTS,rt)),Fe&&(ve["#text"]=!0),Pe&&P(ve,["html","head","body"]),ve.table&&(P(ve,["tbody"]),delete Ee.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Z=e.TRUSTED_TYPES_POLICY,Y=Z.createHTML("")}else void 0===Z&&(Z=ne(R,i)),null!==Z&&"string"==typeof Y&&(Y=Z.createHTML(""));u&&u(e),ot=e}},lt=P({},["mi","mo","mn","ms","mtext"]),ct=P({},["foreignobject","desc","title","annotation-xml"]),ut=P({},["title","style","font","a","script"]),dt=P({},[...L,...M,...D]),ht=P({},[...U,...F]),mt=function(e){let t=K(e);(!t||!t.tagName)&&(t={namespaceURI:Ze,tagName:"template"});let n=y(e.tagName),r=y(t.tagName);return!!Qe[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===je?"svg"===n:t.namespaceURI===We?"svg"===n&&("annotation-xml"===r||lt[r]):!!dt[n]:e.namespaceURI===We?t.namespaceURI===je?"math"===n:t.namespaceURI===Ke?"math"===n&&ct[r]:!!ht[n]:e.namespaceURI===je?!(t.namespaceURI===Ke&&!ct[r]||t.namespaceURI===We&&!lt[r])&&(!ht[n]&&(ut[n]||!dt[n])):!("application/xhtml+xml"!==et||!Qe[e.namespaceURI]))},pt=function(e){_(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},gt=function(e,t){try{_(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){_(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!ye[e])if(Ne||Oe)try{pt(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},ft=function(e){let t=null,n=null;if(xe)e="<remove></remove>"+e;else{let t=C(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===et&&Ze===je&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let o=Z?Z.createHTML(e):e;if(Ze===je)try{t=(new I).parseFromString(o,et)}catch(i){}if(!t||!t.documentElement){t=J.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Ye?Y:o}catch(i){}}let a=t.body||t.documentElement;return e&&n&&a.insertBefore(r.createTextNode(n),a.childNodes[0]||null),Ze===je?ae.call(t,Pe?"html":"body")[0]:Pe?t.documentElement:a},vt=function(e){return re.call(e.ownerDocument||e,e,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION,null)},_t=function(e){return e instanceof g&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof p)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof c&&e instanceof c},bt=function(e,t,r){se[e]&&f(se[e],(e=>{e.call(n,t,r,ot)}))},Ct=function(e){let t=null;if(bt("beforeSanitizeElements",e,null),_t(e))return pt(e),!0;let r=rt(e.nodeName);if(bt("uponSanitizeElement",e,{tagName:r,allowedTags:ve}),e.hasChildNodes()&&!yt(e.firstElementChild)&&w(/<[/\w]/g,e.innerHTML)&&w(/<[/\w]/g,e.textContent))return pt(e),!0;if(!ve[r]||Ee[r]){if(!Ee[r]&&St(r)&&(Ce.tagNameCheck instanceof RegExp&&w(Ce.tagNameCheck,r)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(r)))return!1;if(Fe&&!qe[r]){let t=K(e)||e.parentNode,n=W(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r)t.insertBefore($(n[r],!0),V(e))}}return pt(e),!0}return e instanceof d&&!mt(e)||("noscript"===r||"noembed"===r||"noframes"===r)&&w(/<\/no(script|embed|frames)/i,e.innerHTML)?(pt(e),!0):(Ie&&3===e.nodeType&&(t=e.textContent,f([le,ce,ue],(e=>{t=E(t,e," ")})),e.textContent!==t&&(_(n.removed,{element:e.cloneNode()}),e.textContent=t)),bt("afterSanitizeElements",e,null),!1)},Et=function(e,t,n){if(Me&&("id"===t||"name"===t)&&(n in r||n in at))return!1;if((!Ae||Se[t]||!w(de,t))&&(!Te||!w(he,t)))if(!ye[t]||Se[t]){if(!(St(e)&&(Ce.tagNameCheck instanceof RegExp&&w(Ce.tagNameCheck,e)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(e))&&(Ce.attributeNameCheck instanceof RegExp&&w(Ce.attributeNameCheck,t)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(t))||"is"===t&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&w(Ce.tagNameCheck,n)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(n))))return!1}else if(!$e[t]&&!w(fe,E(n,pe,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==S(n,"data:")||!ze[e])&&(!we||w(me,E(n,pe,"")))&&n)return!1;return!0},St=function(e){return"annotation-xml"!==e&&C(e,ge)},Tt=function(e){bt("beforeSanitizeAttributes",e,null);let{attributes:t}=e;if(!t)return;let r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye},o=t.length;for(;o--;){let i=t[o],{name:s,namespaceURI:l,value:c}=i,u=rt(s),d="value"===s?c:T(c);if(r.attrName=u,r.attrValue=d,r.keepAttr=!0,r.forceKeepAttr=void 0,bt("uponSanitizeAttribute",e,r),d=r.attrValue,r.forceKeepAttr||(gt(s,e),!r.keepAttr))continue;if(!ke&&w(/\/>/i,d)){gt(s,e);continue}Ie&&f([le,ce,ue],(e=>{d=E(d,e," ")}));let h=rt(e.nodeName);if(Et(h,u,d)){if(De&&("id"===u||"name"===u)&&(gt(s,e),d=Ue+d),Z&&"object"==typeof R&&"function"==typeof R.getAttributeType&&!l)switch(R.getAttributeType(h,u)){case"TrustedHTML":d=Z.createHTML(d);break;case"TrustedScriptURL":d=Z.createScriptURL(d)}try{l?e.setAttributeNS(l,s,d):e.setAttribute(s,d),v(n.removed)}catch(a){}}}bt("afterSanitizeAttributes",e,null)},At=function e(t){let n=null,r=vt(t);for(bt("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)bt("uponSanitizeShadowNode",n,null),!Ct(n)&&(n.content instanceof s&&e(n.content),Tt(n));bt("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,i=null,l=null;if(Ye=!e,Ye&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Re||st(t),n.removed=[],"string"==typeof e&&(Be=!1),Be){if(e.nodeName){let t=rt(e.nodeName);if(!ve[t]||Ee[t])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)r=ft("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),1===a.nodeType&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Ne&&!Ie&&!Pe&&-1===e.indexOf("<"))return Z&&Le?Z.createHTML(e):e;if(r=ft(e),!r)return Ne?null:Le?Y:""}r&&xe&&pt(r.firstChild);let u=vt(Be?e:r);for(;i=u.nextNode();)Ct(i)||(i.content instanceof s&&At(i.content),Tt(i));if(Be)return e;if(Ne){if(Oe)for(l=oe.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(ye.shadowroot||ye.shadowrootmode)&&(l=ie.call(o,l,!0)),l}let d=Pe?r.outerHTML:r.innerHTML;return Pe&&ve["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&w(Q,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Ie&&f([le,ce,ue],(e=>{d=E(d,e," ")})),Z&&Le?Z.createHTML(d):d},n.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};st(e),Re=!0},n.clearConfig=function(){ot=null,Re=!1},n.isValidAttribute=function(e,t,n){ot||st({});let r=rt(e),o=rt(t);return Et(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&(se[e]=se[e]||[],_(se[e],t))},n.removeHook=function(e){if(se[e])return v(se[e])},n.removeHooks=function(e){se[e]&&(se[e]=[])},n.removeAllHooks=function(){se={}},n}(),oe=Array(12).fill(0),ae=({visible:e})=>r.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},r.createElement("div",{className:"sonner-spinner"},oe.map(((e,t)=>r.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`}))))),ie=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),se=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),le=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ce=r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ue=1,de=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach((t=>t(e)))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,o="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ue++,a=this.toasts.find((e=>e.id===o)),i=void 0===e.dismissible||e.dismissible;return a?this.toasts=this.toasts.map((t=>t.id===o?(this.publish({...t,...e,id:o,title:n}),{...t,...e,id:o,dismissible:i,title:n}):t)):this.addToast({title:n,...r,dismissible:i,id:o}),o},this.dismiss=e=>(e||this.toasts.forEach((e=>{this.subscribers.forEach((t=>t({id:e.id,dismiss:!0})))})),this.subscribers.forEach((t=>t({id:e,dismiss:!0}))),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let r=e instanceof Promise?e:e(),o=void 0!==n;return r.then((e=>{if(e&&"boolean"==typeof e.ok&&!e.ok){o=!1;let r="function"==typeof t.error?t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?t.description(`HTTP error! status: ${e.status}`):t.description;this.create({id:n,type:"error",message:r,description:a})}else if(void 0!==t.success){o=!1;let r="function"==typeof t.success?t.success(e):t.success,a="function"==typeof t.description?t.description(e):t.description;this.create({id:n,type:"success",message:r,description:a})}})).catch((e=>{if(void 0!==t.error){o=!1;let r="function"==typeof t.error?t.error(e):t.error,a="function"==typeof t.description?t.description(e):t.description;this.create({id:n,type:"error",message:r,description:a})}})).finally((()=>{var e;o&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)})),n},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||ue++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},he=(e,t)=>{let n=(null==t?void 0:t.id)||ue++;return de.addToast({title:e,...t,id:n}),n},me=Object.assign(he,{success:de.success,info:de.info,warning:de.warning,error:de.error,custom:de.custom,message:de.message,promise:de.promise,dismiss:de.dismiss,loading:de.loading});function pe(e){return void 0!==e.label&&"function"==typeof e.onClick}!function(e,{insertAt:t}={}){if(!e||"undefined"==typeof document)return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===t&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true] [data-sonner-toast][data-type=success],[data-rich-colors=true] [data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true] [data-sonner-toast][data-type=info],[data-rich-colors=true] [data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true] [data-sonner-toast][data-type=warning],[data-rich-colors=true] [data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true] [data-sonner-toast][data-type=error],[data-rich-colors=true] [data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var ge=3,fe=14;function ve(...e){return e.filter(Boolean).join(" ")}var _e=e=>{var t,n,o,a,i,s,l;let{invert:c,toast:u,unstyled:d,interacting:h,setHeights:m,visibleToasts:p,heights:g,index:f,toasts:v,expanded:_,removeToast:y,closeButton:b,style:C,cancelButtonStyle:E,actionButtonStyle:S,className:T="",descriptionClassName:A="",duration:w,position:k,gap:I,loadingIcon:P,expandByDefault:R,classNames:x,icons:N,closeButtonAriaLabel:O="Close toast",pauseWhenPageIsHidden:L,cn:M}=e,[D,U]=r.useState(!1),[F,B]=r.useState(!1),[H,q]=r.useState(!1),[G,z]=r.useState(!1),[X,$]=r.useState(0),[V,W]=r.useState(0),K=r.useRef(null),j=r.useRef(null),Z=0===f,Y=f+1<=p,Q=u.type,J=!1!==u.dismissible,ee=u.className||"",te=u.descriptionClassName||"",ne=r.useMemo((()=>g.findIndex((e=>e.toastId===u.id))||0),[g,u.id]),oe=r.useMemo((()=>{var e;return null!=(e=u.closeButton)?e:b}),[u.closeButton,b]),ue=r.useMemo((()=>u.duration||w||4e3),[u.duration,w]),de=r.useRef(0),he=r.useRef(0),me=r.useRef(0),ge=r.useRef(null),[fe,ve]=k.split("-"),_e=r.useMemo((()=>g.reduce(((e,t,n)=>n>=ne?e:e+t.height),0)),[g,ne]),ye=(()=>{let[e,t]=r.useState(!1);return r.useEffect((()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)}),[]),e})(),be=u.invert||c,Ce="loading"===Q;he.current=r.useMemo((()=>ne*I+_e),[ne,_e]),r.useEffect((()=>{U(!0)}),[]),r.useLayoutEffect((()=>{if(!D)return;let e=j.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,W(n),m((e=>e.find((e=>e.toastId===u.id))?e.map((e=>e.toastId===u.id?{...e,height:n}:e)):[{toastId:u.id,height:n,position:u.position},...e]))}),[D,u.title,u.description,m,u.id]);let Ee=r.useCallback((()=>{B(!0),$(he.current),m((e=>e.filter((e=>e.toastId!==u.id)))),setTimeout((()=>{y(u)}),200)}),[u,y,m,he]);function Se(e){return{__html:re.sanitize(e)}}return r.useEffect((()=>{if(u.promise&&"loading"===Q||u.duration===1/0||"loading"===u.type)return;let e,t=ue;return _||h||L&&ye?(()=>{if(me.current<de.current){let e=(new Date).getTime()-de.current;t-=e}me.current=(new Date).getTime()})():t!==1/0&&(de.current=(new Date).getTime(),e=setTimeout((()=>{var e;null==(e=u.onAutoClose)||e.call(u,u),Ee()}),t)),()=>clearTimeout(e)}),[_,h,R,u,ue,Ee,u.promise,Q,L,ye]),r.useEffect((()=>{let e=j.current;if(e){let t=e.getBoundingClientRect().height;return W(t),m((e=>[{toastId:u.id,height:t,position:u.position},...e])),()=>m((e=>e.filter((e=>e.toastId!==u.id))))}}),[m,u.id]),r.useEffect((()=>{u.delete&&Ee()}),[Ee,u.delete]),r.createElement("li",{"aria-live":u.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:j,className:M(T,ee,null==x?void 0:x.toast,null==(t=null==u?void 0:u.classNames)?void 0:t.toast,null==x?void 0:x.default,null==x?void 0:x[Q],null==(n=null==u?void 0:u.classNames)?void 0:n[Q]),"data-sonner-toast":"","data-styled":!(u.jsx||u.unstyled||d),"data-mounted":D,"data-promise":!!u.promise,"data-removed":F,"data-visible":Y,"data-y-position":fe,"data-x-position":ve,"data-index":f,"data-front":Z,"data-swiping":H,"data-dismissible":J,"data-type":Q,"data-invert":be,"data-swipe-out":G,"data-expanded":!!(_||R&&D),style:{"--index":f,"--toasts-before":f,"--z-index":v.length-f,"--offset":`${F?X:he.current}px`,"--initial-height":R?"auto":`${V}px`,...C,...u.style},onPointerDown:e=>{Ce||!J||(K.current=new Date,$(he.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(q(!0),ge.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,r;if(G||!J)return;ge.current=null;let o=Number((null==(e=j.current)?void 0:e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),a=(new Date).getTime()-(null==(t=K.current)?void 0:t.getTime()),i=Math.abs(o)/a;if(Math.abs(o)>=20||i>.11)return $(he.current),null==(n=u.onDismiss)||n.call(u,u),Ee(),void z(!0);null==(r=j.current)||r.style.setProperty("--swipe-amount","0px"),q(!1)},onPointerMove:e=>{var t;if(!ge.current||!J)return;let n=e.clientY-ge.current.y,r=e.clientX-ge.current.x,o=("top"===fe?Math.min:Math.max)(0,n),a="touch"===e.pointerType?10:2;Math.abs(o)>a?null==(t=j.current)||t.style.setProperty("--swipe-amount",`${n}px`):Math.abs(r)>a&&(ge.current=null)}},oe&&!u.jsx?r.createElement("button",{"aria-label":O,"data-disabled":Ce,"data-close-button":!0,onClick:Ce||!J?()=>{}:()=>{var e;Ee(),null==(e=u.onDismiss)||e.call(u,u)},className:M(null==x?void 0:x.closeButton,null==(o=null==u?void 0:u.classNames)?void 0:o.closeButton)},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,u.jsx||r.isValidElement(u.title)?u.jsx||u.title:r.createElement(r.Fragment,null,Q||u.icon||u.promise?r.createElement("div",{"data-icon":"",className:M(null==x?void 0:x.icon)},u.promise||"loading"===u.type&&!u.icon?u.icon||(null!=N&&N.loading?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===Q},N.loading):P?r.createElement("div",{className:"sonner-loader","data-visible":"loading"===Q},P):r.createElement(ae,{visible:"loading"===Q})):null,"loading"!==u.type?u.icon||(null==N?void 0:N[Q])||(e=>{switch(e){case"success":return ie;case"info":return le;case"warning":return se;case"error":return ce;default:return null}})(Q):null):null,r.createElement("div",{"data-content":"",className:M(null==x?void 0:x.content)},r.createElement("div",{"data-title":"",className:M(null==x?void 0:x.title,null==(a=null==u?void 0:u.classNames)?void 0:a.title),dangerouslySetInnerHTML:Se(u.title)}),u.description?r.createElement("div",{"data-description":"",className:M(A,te,null==x?void 0:x.description,null==(i=null==u?void 0:u.classNames)?void 0:i.description),dangerouslySetInnerHTML:Se(u.description)}):null),r.isValidElement(u.cancel)?u.cancel:u.cancel&&pe(u.cancel)?r.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||E,onClick:e=>{pe(u.cancel)&&J&&(Ee(),u.cancel.onClick(e))},className:M(null==x?void 0:x.cancelButton,null==(s=null==u?void 0:u.classNames)?void 0:s.cancelButton)},u.cancel.label):null,r.isValidElement(u.action)?u.action:u.action&&pe(u.action)?r.createElement("button",{"data-button":"",style:u.actionButtonStyle||S,onClick:e=>{pe(u.action)&&(u.action.onClick(e),!e.defaultPrevented&&Ee())},className:M(null==x?void 0:x.actionButton,null==(l=null==u?void 0:u.classNames)?void 0:l.actionButton)},u.action.label):null))};function ye(){if("undefined"==typeof document)return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var be=e=>{let{invert:t,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:i,closeButton:s,className:l,offset:c,theme:u="light",richColors:d,duration:h,style:m,visibleToasts:p=ge,toastOptions:g,dir:f=ye(),gap:v=fe,loadingIcon:_,icons:y,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:C,cn:E=ve}=e,[S,T]=r.useState([]),A=r.useMemo((()=>Array.from(new Set([n].concat(S.filter((e=>e.position)).map((e=>e.position)))))),[S,n]),[w,k]=r.useState([]),[I,P]=r.useState(!1),[R,x]=r.useState(!1),[N,O]=r.useState("system"!==u?u:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=r.useRef(null),M=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=r.useRef(null),U=r.useRef(!1),F=r.useCallback((e=>T((t=>t.filter((({id:t})=>t!==e.id))))),[]);return r.useEffect((()=>de.subscribe((e=>{e.dismiss?T((t=>t.map((t=>t.id===e.id?{...t,delete:!0}:t)))):setTimeout((()=>{o.flushSync((()=>{T((t=>{let n=t.findIndex((t=>t.id===e.id));return-1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]}))}))}))}))),[]),r.useEffect((()=>{"system"===u?("system"===u&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{O(e?"dark":"light")}))):O(u)}),[u]),r.useEffect((()=>{S.length<=1&&P(!1)}),[S]),r.useEffect((()=>{let e=e=>{var t,n;a.every((t=>e[t]||e.code===t))&&(P(!0),null==(t=L.current)||t.focus()),"Escape"===e.code&&(document.activeElement===L.current||null!=(n=L.current)&&n.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[a]),r.useEffect((()=>{if(L.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,U.current=!1)}}),[L.current]),S.length?r.createElement("section",{"aria-label":`${b} ${M}`,tabIndex:-1},A.map(((e,n)=>{var o;let[a,u]=e.split("-");return r.createElement("ol",{key:e,dir:"auto"===f?ye():f,tabIndex:-1,ref:L,className:l,"data-sonner-toaster":!0,"data-theme":N,"data-rich-colors":d,"data-y-position":a,"data-x-position":u,style:{"--front-toast-height":`${(null==(o=w[0])?void 0:o.height)||0}px`,"--offset":"number"==typeof c?`${c}px`:c||"32px","--width":"356px","--gap":`${v}px`,...m},onBlur:e=>{U.current&&!e.currentTarget.contains(e.relatedTarget)&&(U.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||U.current||(U.current=!0,D.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{R||P(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||x(!0)},onPointerUp:()=>x(!1)},S.filter((t=>!t.position&&0===n||t.position===e)).map(((n,o)=>{var a,l;return r.createElement(_e,{key:n.id,icons:y,index:o,toast:n,duration:null!=(a=null==g?void 0:g.duration)?a:h,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:t,visibleToasts:p,closeButton:null!=(l=null==g?void 0:g.closeButton)?l:s,interacting:R,position:e,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,removeToast:F,toasts:S.filter((e=>e.position==n.position)),heights:w.filter((e=>e.position==n.position)),setHeights:k,expandByDefault:i,gap:v,loadingIcon:_,expanded:I,pauseWhenPageIsHidden:C,cn:E})})))}))):null}},22970:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>L,__assign:()=>a,__asyncDelegator:()=>A,__asyncGenerator:()=>T,__asyncValues:()=>w,__await:()=>S,__awaiter:()=>p,__classPrivateFieldGet:()=>x,__classPrivateFieldIn:()=>O,__classPrivateFieldSet:()=>N,__createBinding:()=>f,__decorate:()=>s,__disposeResources:()=>D,__esDecorate:()=>c,__exportStar:()=>v,__extends:()=>o,__generator:()=>g,__importDefault:()=>R,__importStar:()=>P,__makeTemplateObject:()=>k,__metadata:()=>m,__param:()=>l,__propKey:()=>d,__read:()=>y,__rest:()=>i,__runInitializers:()=>u,__setFunctionName:()=>h,__spread:()=>b,__spreadArray:()=>E,__spreadArrays:()=>C,__values:()=>_,default:()=>U});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a.apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function s(e,t,n,r){var o,a=arguments.length,i=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,n,i):o(t,n))||i);return a>3&&i&&Object.defineProperty(t,n,i),i}function l(e,t){return function(n,r){t(n,r,e)}}function c(e,t,n,r,o,a){function i(e){if(void 0!==e&&"function"!==typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",u=!t&&e?r.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,r.name):{}),h=!1,m=n.length-1;m>=0;m--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(h)throw new TypeError("Cannot add initializers after decoration has completed");a.push(i(e||null))};var f=(0,n[m])("accessor"===l?{get:d.get,set:d.set}:d[c],p);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!==typeof f)throw new TypeError("Object expected");(s=i(f.get))&&(d.get=s),(s=i(f.set))&&(d.set=s),(s=i(f.init))&&o.unshift(s)}else(s=i(f))&&("field"===l?o.unshift(s):d[c]=s)}u&&Object.defineProperty(u,r.name,d),h=!0}function u(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function d(e){return"symbol"===typeof e?e:"".concat(e)}function h(e,t,n){return"symbol"===typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function m(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}l((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(l){s=[6,l],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}var f=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function v(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||f(t,e,n)}function _(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function y(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(y(arguments[t]));return e}function C(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}function E(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function S(e){return this instanceof S?(this.v=e,this):new S(e)}function T(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=o[e](t)).value instanceof S?Promise.resolve(n.value.v).then(l,c):u(a[0][2],n)}catch(r){u(a[0][3],r)}var n}function l(e){s("next",e)}function c(e){s("throw",e)}function u(e,t){e(t),a.shift(),a.length&&s(a[0][0],a[0][1])}}function A(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:S(e[r](t)),done:!1}:o?o(t):t}:o}}function w(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=_(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function k(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var I=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&f(t,e,n);return I(t,e),t}function R(e){return e&&e.__esModule?e:{default:e}}function x(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function N(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function O(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}function L(e,t,n){if(null!==t&&void 0!==t){if("object"!==typeof t&&"function"!==typeof t)throw new TypeError("Object expected.");var r;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose]}if("function"!==typeof r)throw new TypeError("Object not disposable.");e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"===typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function D(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var o=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(o).then(n,(function(e){return t(e),n()}))}catch(a){t(a)}}if(e.hasError)throw e.error}()}const U={__extends:o,__assign:a,__rest:i,__decorate:s,__param:l,__metadata:m,__awaiter:p,__generator:g,__createBinding:f,__exportStar:v,__values:_,__read:y,__spread:b,__spreadArrays:C,__spreadArray:E,__await:S,__asyncGenerator:T,__asyncDelegator:A,__asyncValues:w,__makeTemplateObject:k,__importStar:P,__importDefault:R,__classPrivateFieldGet:x,__classPrivateFieldSet:N,__classPrivateFieldIn:O,__addDisposableResource:L,__disposeResources:D}}}]);
//# sourceMappingURL=98618.5fc454cc.js.map